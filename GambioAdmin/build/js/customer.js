(()=>{"use strict";var e,t={409:(e,t,n)=>{var r=n(9963),o=n(6252),a=n(3577);const s={class:"ms-auto me-4"},i=(0,o._)("i",{class:"fa fa-user-times"},null,-1),l=(0,o._)("i",{class:"fa fa-plus"},null,-1),u={class:"table-wrapper"},c={class:"table-head-container sticky"},d={class:"table-head-wrapper"},f={ref:"tableHead",style:{"overflow-x":"hidden",width:"100%"}},p={class:"table"},m={class:"sticky"},v=(0,o._)("th",{class:"sticky",style:{left:"0"},width:"30"},"Â ",-1),g={class:"sticky last-sticky",style:{left:"30px"},width:"200"},h={width:"270"},b={width:"150"},w={width:"120"},y={width:"140"},_={width:"150"},k=["title"],C={width:"150"},x=(0,o._)("th",{width:"180"},null,-1),I={class:"table-content-wrapper"},E={class:"table"},S=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"62",height:"62",viewBox:"0 0 24 24",fill:"none",stroke:"#000000","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"ms-n3"},[(0,o._)("circle",{cx:"11",cy:"11",r:"8"}),(0,o._)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})],-1),D=["textContent"],T=["textContent"],O={key:0,id:"table-footer",class:"table-footer-container"},P={class:"d-flex align-items-center justify-content-between"};var N=n(2262),M=""+window.jsEnvironment.baseUrl,A="development"===window.jsEnvironment.environment;function G(e,t,n){return void 0===t&&(t="GET"),void 0===n&&(n=null),r=this,o=void 0,s=function(){var r;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(o){switch(o.label){case 0:return r={},"GET"!==t.toUpperCase()&&(r={method:t.toUpperCase(),headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}),[4,fetch(e,r).then((function(e){return e.url.includes("login.php")&&window.location.reload(),e.ok?e.json():Promise.reject(e)}))];case 1:return[2,o.sent()]}}))},new((a=void 0)||(a=Promise))((function(e,t){function n(e){try{l(s.next(e))}catch(e){t(e)}}function i(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof a?r:new a((function(e){e(r)}))).then(n,i)}l((s=s.apply(r,o||[])).next())}));var r,o,a,s}function H(e,t,n){return r=this,o=void 0,s=function(){var r,o,a;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),r=["per-page="+e.perPage(),"page="+e.page(),"sort="+n.type+n.name],void 0!==t.customerGroup&&r.push("filter[customerGroup]="+t.customerGroup),void 0!==t.isFavorite&&r.push("filter[isFavorite]="+t.isFavorite),[4,G(M+"/admin/api/customers-overview?"+r.join("&"))];case 1:return(o=s.sent()).activeCountries.forEach((function(e){Object.keys(e).includes("zones")&&e.zones.length&&e.zones.unshift({id:0,name:""})})),[2,{success:!0,value:{customers:o.customers,customerGroups:o.customerGroups,configurations:o.configurations,additionalInformation:o.additionalInformation,userConfigurations:o.userConfigurations,userId:o.userId,activeCountries:o.activeCountries,pageToken:o.securityToken,currency:o.currency,_meta:o._meta}}];case 2:return a=s.sent(),A&&console.error(a),[2,{success:!0,value:{customers:[],customerGroups:[],configurations:{},additionalInformation:[],userConfigurations:{},userId:0,activeCountries:[],pageToken:"",currency:{},_meta:{}}}];case 3:return[2]}}))},new((a=void 0)||(a=Promise))((function(e,t){function n(e){try{l(s.next(e))}catch(e){t(e)}}function i(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof a?r:new a((function(e){e(r)}))).then(n,i)}l((s=s.apply(r,o||[])).next())}));var r,o,a,s}var L,U,z=function(){function e(e,t){this._perPage=e,this._page=t,this._perPage=e,this._page=t,this._perPage<=0&&(this._perPage=1),this._page<=0&&(this._page=1)}return e.prototype.perPage=function(){return this._perPage},e.prototype.page=function(){return this._page},e}();!function(e){e.ID="id",e.CustomerGroup="customerGroup",e.IsFavorite="isFavorite",e.FirstName="personalInformation.firstName",e.LastName="personalInformation.lastName",e.Email="contactInformation.email",e.CustomerNumber="personalInformation.customerNumber",e.CompanyName="businessInformation.companyName",e.IsTradesperson="businessInformation.isTradesperson",e.RegistrationDate="registrationDate"}(L||(L={})),function(e){e.ASC="",e.DESC="-"}(U||(U={}));const j={class:"sticky",style:{left:"0"},width:"30px"},V=["title"],B=["title"],F=["href","textContent"],q=["title"],W=["title"],$=["title"],R={width:"140"},Y=["title"],Z={key:0,class:"fa fa-check-circle","aria-hidden":"true",style:{color:"#0099e5"}},K={key:1,class:"fa fa-times-circle-o","aria-hidden":"true"},J=["title"],Q=["textContent"],X=["title"],ee=["title"],te={class:"sticky actions",width:"180"};var ne;!function(e){e[e.Full=0]="Full",e[e.DateOnly=1]="DateOnly",e[e.TimeOnly=2]="TimeOnly"}(ne||(ne={}));var re=""+window.jsEnvironment.baseUrl,oe=(window.jsEnvironment.environment,window.jsEnvironment.vuePage.translations),ae="toggle-loading",se="trigger-create-order",ie=(0,N.iH)({}),le=(0,N.iH)();(0,o.dD)("data-v-c5913880");const ue={class:"list-inline mb-0"},ce={class:"list-inline-item"},de=["href","title"],fe=[(0,o._)("i",{class:"fa fa-eye"},null,-1)],pe={class:"list-inline-item"},me=["href","title"],ve=[(0,o._)("i",{class:"fa fa-shopping-cart"},null,-1)],ge={class:"list-inline-item"},he=["href","title"],be=[(0,o._)("i",{class:"fa fa-envelope-o"},null,-1)],we={class:"list-inline-item"},ye={class:"dropdown"},_e=["id"],ke=["aria-labelledby"],Ce=(0,o._)("i",{class:"fa fa-cart-plus","aria-hidden":"true"},null,-1),xe=(0,o._)("i",{class:"fa fa-users","aria-hidden":"true"},null,-1),Ie=(0,o._)("i",{class:"fa fa-sign-in","aria-hidden":"true"},null,-1),Ee=(0,o._)("i",{class:"fa fa-cloud-download","aria-hidden":"true"},null,-1),Se=(0,o._)("i",{class:"fa fa-id-card-o","aria-hidden":"true"},null,-1),De={key:0},Te=[(0,o._)("hr",{class:"dropdown-divider"},null,-1)],Oe={key:1},Pe=(0,o._)("i",{class:"fa fa-trash-o","aria-hidden":"true"},null,-1);(0,o.Cn)();const Ne=["innerHTML"],Me={class:"d-flex justify-content-between align-items-end mb-1"},Ae={for:"customer-group",class:"form-label mb-0"},Ge={key:0},He=["textContent"],Le=["disabled"],Ue=["value","textContent"],ze=["textContent"],je=["href"],Ve=(0,o._)("i",{class:"fa fa-external-link ms-1","aria-hidden":"true"},null,-1);(0,o.dD)("data-v-65d3ecb0");const Be={key:0},Fe=["id","aria-labelledby"],qe={class:"modal-content"},We={class:"modal-header"},$e=["id"],Re=["disabled","aria-label"],Ye={class:"modal-footer--actions"},Ze=["disabled"],Ke=["disabled"];(0,o.Cn)();const Je=(0,o.aZ)({name:"Modal",props:{active:Boolean,id:String,size:String,isSaving:Boolean,hasFooterOptions:{type:Boolean,default:!1},bodyPadding:{type:Boolean,default:!1},primaryActionLabel:{type:String,default:oe.modal_save}},setup:(e,{emit:t})=>({closeModal:function(){t("close:modal")},saveModal:async function(){t("save")},translations:oe})});Je.render=function(e,t,n,r,s,i){return(0,o.wg)(),(0,o.j4)(o.lR,{to:".gx-admin-footer"},[e.active?((0,o.wg)(),(0,o.iD)("div",Be,[(0,o._)("div",{class:"modal fade show",style:{display:"block"},id:`${e.id}Modal`,tabindex:"-1","aria-labelledby":`${e.id}ModalLabel`,"aria-hidden":"true"},[(0,o._)("div",{class:(0,a.C_)(["modal-dialog modal-dialog-scrollable",`modal-${e.size}`])},[(0,o._)("div",qe,[(0,o._)("div",We,[(0,o._)("h5",{class:"modal-title",id:`${e.id}ModalLabel`},[(0,o.WI)(e.$slots,"title",{},void 0,!0)],8,$e),(0,o._)("button",{disabled:e.isSaving,onClick:t[0]||(t[0]=(...t)=>e.closeModal&&e.closeModal(...t)),type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":e.translations.modal_close},null,8,Re)]),(0,o._)("div",{class:(0,a.C_)(["modal-body",{"p-0":e.bodyPadding}])},[(0,o.WI)(e.$slots,"content",{},void 0,!0)],2),(0,o._)("div",{class:(0,a.C_)(["modal-footer",{"d-flex justify-content-between align-items-center":e.hasFooterOptions}])},[(0,o.WI)(e.$slots,"footer",{},void 0,!0),(0,o._)("div",Ye,[(0,o._)("button",{onClick:t[1]||(t[1]=(...t)=>e.closeModal&&e.closeModal(...t)),type:"button",class:"btn","data-bs-dismiss":"modal",disabled:e.isSaving},(0,a.zw)(e.translations.modal_cancel),9,Ze),(0,o._)("button",{onClick:t[2]||(t[2]=(...t)=>e.saveModal&&e.saveModal(...t)),type:"button",class:"btn btn-primary",disabled:e.isSaving},(0,a.zw)(e.primaryActionLabel),9,Ke)])],2)])],2)],8,Fe)])):(0,o.kq)("v-if",!0)])},Je.__scopeId="data-v-65d3ecb0";const Qe=Je,Xe=function(){function e(e){if(this._value=e,e<=0)throw new Error("Customer ID must be greater than 0. Got: "+e);this._value=e}return e.prototype.value=function(){return this._value},e}(),et=function(){function e(e){if(this._value=e,e<0)throw new Error("Customer group ID must be greater than 0. Got: "+e);this._value=e}return e.prototype.value=function(){return this._value},e}(),tt=function(e,t,n){this.messageBagElement=e,this.actionItem=t,this.notifications=n};var nt;!function(e){e.SUCCESS="success",e.INFO="info",e.WARNING="warning"}(nt||(nt={}));const rt=nt,ot=function(e,t){var n=this;this.elements=e,this.listeners=t,this.renderMessage=function(e,t,r){n.removeEmptyNotice();var o=n.createMessage(e,t,r);n.elements.messageBagElement.appendChild(o)},this.renderSuccessMessage=function(e,t){n.removeEmptyNotice();var r=n.createMessage(rt.SUCCESS,e,t);n.elements.messageBagElement.appendChild(r)},this.renderInfo=function(e,t){n.removeEmptyNotice();var r=n.createMessage(rt.INFO,e,t);n.elements.messageBagElement.appendChild(r)},this.renderWarning=function(e,t){n.removeEmptyNotice();var r=n.createMessage(rt.WARNING,e,t);n.elements.messageBagElement.appendChild(r)},this.createMessage=function(e,t,r){var o=document.createElement("div");o.classList.add("message");var a=n.createIcons(),s=n.createTitle(e,r),i=n.createMessageText(e,t);return o.appendChild(a),o.appendChild(s),o.appendChild(i),o},this.createTitle=function(e,t){var n=document.createElement("div");return n.classList.add("title"),n.classList.add(e),n.innerHTML=t||window.jsEnvironment.translations.successTitle,n},this.createMessageText=function(e,t){var r=document.createElement("div");return r.classList.add("message-text"),r.innerHTML=t||n.typeDefaultMessage(e),r},this.typeDefaultMessage=function(e){switch(e){case rt.SUCCESS:return window.jsEnvironment.translations.saveSuccessMessage;case rt.INFO:return"";case rt.WARNING:default:return""}},this.createIcons=function(){var e=document.createElement("div");return e.classList.add("icons"),e.appendChild(n.createRemoveIcon()),e},this.createRemoveIcon=function(){var e=document.createElement("i");return e.classList.add("icon"),e.classList.add("fa"),e.classList.add("fa-times"),e.addEventListener("click",n.listeners.hide),e},this.removeEmptyNotice=function(){var e=n.elements.messageBagElement.querySelector(".empty");e&&e.remove()}},at=function(e){var t=this;this.elements=e,this.toggleInfoBox=function(){t.elements.notifications.classList.contains("show")?t.hide():t.show()},this.show=function(){t.elements.messageBagElement.classList.remove("load"),t.elements.notifications.classList.add("show"),t.elements.notifications.classList.remove("hidden"),setTimeout(t.hide,2500)},this.hide=function(){t.elements.notifications.classList.remove("show"),setTimeout((function(){t.elements.notifications.classList.add("hidden"),t.truncateMessageBag()}),700)},this.truncateMessageBag=function(){Array.from(t.elements.messageBagElement.children).forEach((function(e){e.classList.contains("loading-spinner")||e.remove()}))}};var st=function(e,t){var n=void 0===t?document.querySelector(e):t.querySelector(e);if(!n)throw new Error("Invalid selector ("+e+") provided.");return n};const it=function(){this.createElements=function(){var e=st(".gx-admin-header"),t=st(".info-box .notifications .messages",e),n=st(".info-box",e),r=st(".notifications",e);return new tt(t,n,r)},this.createRenderer=function(e,t){return new ot(e,t)},this.createListeners=function(e){return new at(e)}},lt=function(){function e(e,t){var n=this;this.renderer=e,this.listeners=t,this.notify=function(e,t,r){n.renderer.renderMessage(e,t,r),n.listeners.show()},this.notifySuccess=function(e,t){n.renderer.renderSuccessMessage(e,t),n.listeners.show()},this.notifyInfo=function(e,t){n.renderer.renderInfo(e,t),n.listeners.show()},this.notifyWarning=function(e,t){n.renderer.renderWarning(e,t),n.listeners.show()}}return e.create=function(){var t=new it,n=t.createElements(),r=t.createListeners(n);return new e(t.createRenderer(n,r),r)},e}();const ut=(0,o.aZ)({name:"ChangeCustomerGroup",components:{Modal:Qe},props:{customerId:Number,isChanging:Boolean,customerGroup:Number,customerGroups:Array,customerName:String,isProfilePage:{type:Boolean,default:!1},loading:Boolean},setup(e,{emit:t}){const n=(0,N.iH)({}),r=(0,N.iH)(e.customerGroup),a=(0,N.iH)(e.customerGroups),s=(0,N.Fl)((()=>oe.profile_customer_group_desc.replace("{customer}",`<strong>${e.customerName}</strong>`)));return(0,o.YP)((()=>[e.customerGroup,e.customerGroups]),(([e,t])=>{1!==e&&(a.value=t.filter((e=>1!==e.id))),n.value=t.find((t=>t.id===e))}),{immediate:!0}),{confirmationText:s,currentCustomerGroup:n,newCustomerGroup:r,customerGroupsList:a,saveCustomerGroup:async function(){t(ae,!0),await function(e,t){return n=this,r=void 0,a=function(){var n,r;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),n=[{id:e.value(),groupId:t.value()}],[4,fetch(M+"/admin/api/change-customers-group",{body:JSON.stringify(n),headers:{"Content-Type":"application/json"},method:"PATCH"})];case 1:return 204===o.sent().status?[2,{success:!0,value:!0}]:[2,{success:!1,error:"ErrorUnknown"}];case 2:return r=o.sent(),A&&console.error(r),[2,{success:!1,error:"ErrorApi"}];case 3:return[2]}}))},new((o=void 0)||(o=Promise))((function(e,t){function s(e){try{l(a.next(e))}catch(e){t(e)}}function i(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,i)}l((a=a.apply(n,r||[])).next())}));var n,r,o,a}(new Xe(e.customerId),new et(r.value)),t(ae,!1),t("toggle:change-customer-group"),lt.create().notifySuccess(),t("update:customer")},handleOnClose:function(){t("toggle:change-customer-group"),r.value=e.customerGroup},translations:oe,baseUrl:re}}});ut.render=function(e,t,n,s,i,l){const u=(0,o.up)("Modal");return(0,o.wg)(),(0,o.j4)(u,{id:"change-customer-group",active:e.isChanging,"is-saving":e.loading,"has-footer-options":!0,"onClose:modal":e.handleOnClose,onSave:e.saveCustomerGroup},{title:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.translations.profile_change_customer_group),1)])),content:(0,o.w5)((()=>[e.isProfilePage?(0,o.kq)("v-if",!0):((0,o.wg)(),(0,o.iD)("p",{key:0,class:"mb-1",innerHTML:e.confirmationText},null,8,Ne)),(0,o._)("div",Me,[(0,o._)("label",Ae,(0,a.zw)(e.translations.profile_new_customer_group),1),e.currentCustomerGroup.id!==e.newCustomerGroup?((0,o.wg)(),(0,o.iD)("span",Ge,[(0,o._)("strong",{class:"opacity-75",textContent:(0,a.zw)(`${e.translations.profile_current_customer_group}:`)},null,8,He),(0,o.Uk)(" "+(0,a.zw)(e.currentCustomerGroup.label),1)])):(0,o.kq)("v-if",!0)]),(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.newCustomerGroup=t),class:"form-select",id:"customer-group",disabled:e.loading},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.customerGroupsList,((e,t)=>((0,o.wg)(),(0,o.iD)("option",{key:t,value:e.id,textContent:(0,a.zw)(e.label)},null,8,Ue)))),128))],8,Le),[[r.bM,e.newCustomerGroup]]),(0,o._)("div",{class:"form-text",textContent:(0,a.zw)(e.translations.profile_customer_group_hint)},null,8,ze)])),footer:(0,o.w5)((()=>[(0,o._)("a",{href:`${e.baseUrl}/admin/admin.php?do=CustomerGroup`,class:"btn btn-sm btn-default"},[(0,o.Uk)((0,a.zw)(e.translations.profile_create_customer_group)+" ",1),Ve],8,je)])),_:1},8,["active","is-saving","onClose:modal","onSave"])};const ct=ut;(0,o.dD)("data-v-1ca2e32e");const dt=["innerHTML"],ft={class:"mb-2"},pt=["textContent"],mt={class:"mb-2 border-bottom pb-2 ps-2"},vt={class:"form-group form-check mb-0"},gt=["checked","indeterminate"],ht=["textContent"],bt={class:"ps-2"},wt=["name","id","value"],yt=["for","textContent"],_t=(0,o._)("i",{class:"fa fa-external-link ms-1","aria-hidden":"true"},null,-1);(0,o.Cn)();const kt={class:"alert alert-warning d-flex small"},Ct=(0,o.uE)('<div class="pe-3"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-triangle"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg></div>',1),xt=["textContent"],It=(0,o.aZ)({name:"GoBDAlert",setup:function(){return{translations:oe}}});It.render=function(e,t,n,r,s,i){return(0,o.wg)(),(0,o.iD)("div",kt,[Ct,(0,o._)("div",null,[(0,o._)("p",{class:"mb-0",textContent:(0,a.zw)(e.translations.modal_delete_customer_personal_data_gobd_warning_text)},null,8,xt)])])};const Et=It;function St(e){return t=this,n=void 0,o=function(){var t,n;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=M+"/admin/admin.php?do=PersonalData/delete&"+e.join("&"),[4,fetch(t,{method:"GET"}).then((function(e){return e.ok})).catch((function(e){return e}))];case 1:return[2,{success:r.sent(),value:!0}];case 2:return n=r.sent(),A&&console.log(n),[2,{success:!1,error:"Personal data could not be deleted!"}];case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,a){function s(e){try{l(o.next(e))}catch(e){a(e)}}function i(e){try{l(o.throw(e))}catch(e){a(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,i)}l((o=o.apply(t,n||[])).next())}));var t,n,r,o}var Dt=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};const Tt=(0,o.aZ)({name:"DeleteCustomer",components:{GoBDAlert:Et,Modal:Qe},props:{customerId:Number,customerName:String,isDeleting:Boolean,loading:Boolean},setup:function(e,t){var n=t.emit,r=(0,N.iH)([]),o=(0,N.Fl)((function(){return[{id:"orders",label:oe.profile_select_personal_data_orders},{id:"withdrawals",label:oe.profile_select_personal_data_withdrawals},{id:"agreements",label:oe.profile_select_personal_data_agreements},{id:"emails",label:oe.profile_select_personal_data_emails},{id:"reviews",label:oe.profile_select_personal_data_reviews},{id:"newsletter_subscriptions",label:oe.profile_select_personal_data_newsletter_subscriptions}]})),a=(0,N.Fl)((function(){return oe.modal_delete_customer_text.replace("{customer}","<strong>"+e.customerName+"</strong>")}));function s(){r.value=[]}var i=(0,N.Fl)((function(){return o.value.length===r.value.length})),l=(0,N.Fl)((function(){var e=o.value.length;return r.value.length>=1&&e>r.value.length}));return{confirmationText:a,options:o,checkedOptions:r,allAvailableOptionsCheckboxIsChecked:i,allAvailableOptionsCheckboxIsIndeterminate:l,switchToPersonalDataModal:function(){s(),n("switch-action","delete-personal-data")},checkAllAvailableOptions:function(){i.value?s():Object.values(o.value).forEach((function(e){-1===r.value.indexOf(e.id)&&r.value.push(e.id)}))},deletePersonalDataAndCustomer:function(){return t=this,o=void 0,s=function(){return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(t){switch(t.label){case 0:return[4,St(Dt(["id="+e.customerId],r.value.map((function(e){return e+"=on"})),!0))];case 1:return t.sent().success?n("delete:customer"):lt.create().notifyWarning(oe.error_message,oe.error_heading),[2]}}))},new((a=void 0)||(a=Promise))((function(e,n){function r(e){try{l(s.next(e))}catch(e){n(e)}}function i(e){try{l(s.throw(e))}catch(e){n(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(r,i)}l((s=s.apply(t,o||[])).next())}));var t,o,a,s},translations:oe}}});Tt.render=function(e,t,n,s,i,l){const u=(0,o.up)("GoBDAlert"),c=(0,o.up)("Modal");return(0,o.wg)(),(0,o.j4)(c,{id:"delete-customer",active:e.isDeleting,"is-saving":e.loading,"has-footer-options":!0,primaryActionLabel:e.translations.modal_delete_customer_action_label,"onClose:modal":t[3]||(t[3]=t=>e.$emit("toggle:delete-customer")),onSave:e.deletePersonalDataAndCustomer},{title:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.translations.modal_delete_customer),1)])),content:(0,o.w5)((()=>[(0,o.Wm)(u),(0,o._)("p",{innerHTML:e.confirmationText,class:"mb-1"},null,8,dt),(0,o._)("ul",ft,[(0,o._)("li",null,(0,a.zw)(e.translations.profile_select_personal_data_base_data),1),(0,o._)("li",null,(0,a.zw)(e.translations.profile_select_personal_data_shopping_cart_wishlist),1),(0,o._)("li",null,(0,a.zw)(e.translations.profile_select_personal_data_balance),1)]),(0,o._)("p",{class:"mt-3 mb-1",textContent:(0,a.zw)(e.translations.modal_delete_customer_deleted_data_text)},null,8,pt),(0,o._)("div",mt,[(0,o._)("div",vt,[(0,o._)("input",{class:"form-check-input",type:"checkbox",id:"select-all",onClick:t[0]||(t[0]=(...t)=>e.checkAllAvailableOptions&&e.checkAllAvailableOptions(...t)),checked:e.allAvailableOptionsCheckboxIsChecked,indeterminate:e.allAvailableOptionsCheckboxIsIndeterminate},null,8,gt),(0,o._)("label",{class:"form-check-label",for:"select-all",textContent:(0,a.zw)(e.translations.profile_select_all)},null,8,ht)])]),(0,o._)("div",bt,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.options,((n,s)=>((0,o.wg)(),(0,o.iD)("div",{key:n.id,class:(0,a.C_)(["form-group form-check",{"mb-2":s!==e.options.length-1}])},[(0,o.wy)((0,o._)("input",{class:"form-check-input",type:"checkbox",name:n.id,id:n.id,value:n.id,"onUpdate:modelValue":t[1]||(t[1]=t=>e.checkedOptions=t)},null,8,wt),[[r.e8,e.checkedOptions]]),(0,o._)("label",{class:(0,a.C_)(["form-check-label",{"opacity-75":!e.checkedOptions.includes(n.id)}]),for:n.id,textContent:(0,a.zw)(n.label)},null,10,yt)],2)))),128))])])),footer:(0,o.w5)((()=>[(0,o._)("button",{onClick:t[2]||(t[2]=(...t)=>e.switchToPersonalDataModal&&e.switchToPersonalDataModal(...t)),class:"btn btn-sm btn-default"},[(0,o.Uk)((0,a.zw)(e.translations.modal_delete_customer_switch)+" ",1),_t])])),_:1},8,["active","is-saving","primaryActionLabel","onSave"])},Tt.__scopeId="data-v-1ca2e32e";const Ot=Tt,Pt=(0,o.aZ)({name:"ExportPersonalData",props:{customerId:Number,isChanging:Boolean,loading:Boolean},setup:function(e,t){var n=t.emit;(0,o.YP)((function(){return e.isChanging}),(function(t){var r,o;t&&(r=["id="+e.customerId,"base_data=on","orders=on","withdrawals=on","agreements=on","emails=on","carts=on","reviews=on","newsletter_subscriptions=on"],o=M+"/admin/admin.php?do=PersonalData/export&"+r.join("&"),window.open(o,"_blank"),n("toggle:export-personal-data"),n("export-personal-data:export"))}))}});Pt.render=function(e,t,n,r,o,a){return null};const Nt=Pt,Mt=["innerHTML"],At={class:"mb-2 border-bottom pb-2 ps-2"},Gt={class:"form-group form-check mb-0"},Ht=["checked","indeterminate"],Lt=["textContent"],Ut={class:"ps-2"},zt=["name","id","value"],jt=["for","textContent"],Vt=["textContent"],Bt={class:"mb-0"},Ft=(0,o._)("i",{class:"fa fa-external-link ms-1","aria-hidden":"true"},null,-1);var qt=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};const Wt=(0,o.aZ)({name:"DeletePersonalData",components:{GoBDAlert:Et,Modal:Qe},props:{customerName:String,isDeleting:Boolean,loading:Boolean,customerId:Number},setup:function(e,t){var n=t.emit,r=(0,N.iH)([]),o=(0,N.Fl)((function(){return[{id:"orders",label:oe.profile_select_personal_data_orders},{id:"withdrawals",label:oe.profile_select_personal_data_withdrawals},{id:"agreements",label:oe.profile_select_personal_data_agreements},{id:"emails",label:oe.profile_select_personal_data_emails},{id:"carts",label:oe.profile_select_personal_data_carts},{id:"reviews",label:oe.profile_select_personal_data_reviews},{id:"newsletter_subscriptions",label:oe.profile_select_personal_data_newsletter_subscriptions}]}));function a(){s(),n("toggle:delete-personal-data")}function s(){r.value=[]}var i=(0,N.Fl)((function(){return oe.profile_delete_personal_data_text.replace("{customer}","<strong>"+e.customerName+"</strong>")})),l=(0,N.Fl)((function(){return o.value.length===r.value.length})),u=(0,N.Fl)((function(){var e=o.value.length;return r.value.length>=1&&e>r.value.length}));return{translations:oe,confirmationText:i,options:o,checkedOptions:r,checkAllAvailableOptions:function(){l.value?s():Object.values(o.value).forEach((function(e){-1===r.value.indexOf(e.id)&&r.value.push(e.id)}))},allAvailableOptionsCheckboxIsChecked:l,allAvailableOptionsCheckboxIsIndeterminate:u,onDeletePersonalData:function(){return t=this,n=void 0,s=function(){return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(t){switch(t.label){case 0:return r.value.length?[4,St(qt(["id="+e.customerId],r.value.map((function(e){return e+"=on"})),!0))]:[3,2];case 1:t.sent().success?(lt.create().notifySuccess(),window.location.href=re+"/admin/customers"):lt.create().notifyWarning(oe.error_message,oe.error_heading),t.label=2;case 2:return a(),[2]}}))},new((o=void 0)||(o=Promise))((function(e,r){function a(e){try{l(s.next(e))}catch(e){r(e)}}function i(e){try{l(s.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(a,i)}l((s=s.apply(t,n||[])).next())}));var t,n,o,s},switchToDeleteCustomerAccountModal:function(){s(),n("switch-action","delete-customer-account")},onCloseModal:a}}});Wt.render=function(e,t,n,s,i,l){const u=(0,o.up)("GoBDAlert"),c=(0,o.up)("Modal");return(0,o.wg)(),(0,o.j4)(c,{id:"delete-personal-data",active:e.isDeleting,"is-saving":e.loading,primaryActionLabel:e.translations.profile_delete_personal_data_action_label,"has-footer-options":!0,"onClose:modal":e.onCloseModal,onSave:e.onDeletePersonalData},{title:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.translations.profile_delete_personal_data),1)])),content:(0,o.w5)((()=>[(0,o.Wm)(u),(0,o._)("p",{innerHTML:e.confirmationText,class:"mb-1"},null,8,Mt),(0,o._)("div",At,[(0,o._)("div",Gt,[(0,o._)("input",{class:"form-check-input",type:"checkbox",id:"select-all",onClick:t[0]||(t[0]=(...t)=>e.checkAllAvailableOptions&&e.checkAllAvailableOptions(...t)),checked:e.allAvailableOptionsCheckboxIsChecked,indeterminate:e.allAvailableOptionsCheckboxIsIndeterminate},null,8,Ht),(0,o._)("label",{class:"form-check-label",for:"select-all",textContent:(0,a.zw)(e.translations.profile_select_all)},null,8,Lt)])]),(0,o._)("div",Ut,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.options,(n=>((0,o.wg)(),(0,o.iD)("div",{key:n.id,class:"form-group form-check mb-2"},[(0,o.wy)((0,o._)("input",{class:"form-check-input",type:"checkbox",name:n.id,id:n.id,value:n.id,"onUpdate:modelValue":t[1]||(t[1]=t=>e.checkedOptions=t)},null,8,zt),[[r.e8,e.checkedOptions]]),(0,o._)("label",{class:(0,a.C_)(["form-check-label",{"opacity-75":!e.checkedOptions.includes(n.id)}]),for:n.id,textContent:(0,a.zw)(n.label)},null,10,jt)])))),128))]),(0,o._)("p",{class:"mt-3 mb-1",textContent:(0,a.zw)(e.translations.profile_delete_personal_data_account_text)},null,8,Vt),(0,o._)("ul",Bt,[(0,o._)("li",null,(0,a.zw)(e.translations.profile_select_personal_data_base_data),1),(0,o._)("li",null,(0,a.zw)(e.translations.profile_select_personal_data_wishlist),1),(0,o._)("li",null,(0,a.zw)(e.translations.profile_select_personal_data_balance),1)])])),footer:(0,o.w5)((()=>[(0,o._)("button",{onClick:t[2]||(t[2]=(...t)=>e.switchToDeleteCustomerAccountModal&&e.switchToDeleteCustomerAccountModal(...t)),class:"btn btn-sm btn-default"},[(0,o.Uk)((0,a.zw)(e.translations.profile_delete_personal_data_switch)+" ",1),Ft])])),_:1},8,["active","is-saving","primaryActionLabel","onClose:modal","onSave"])};const $t=Wt,Rt=["innerHTML"],Yt={class:"form-check"},Zt=["innerHTML"],Kt=(0,o.aZ)({name:"LoginAsCustomer",components:{Modal:Qe},props:{isSigningIn:Boolean,loginAsCustomer:Boolean,customerName:String,isProfilePage:{type:Boolean,default:!1}},setup:(e,{emit:t})=>({hideLoginWarning:(0,N.iH)(!1),toggleHideLoginWarning:function(){t("toggle:hide-login-warning")},configurations:ie,translations:oe})});Kt.render=function(e,t,n,s,i,l){const u=(0,o.up)("Modal");return(0,o.wg)(),(0,o.j4)(u,{id:"login-as-customer",active:e.loginAsCustomer,"is-saving":e.isSigningIn,"has-footer-options":!0,"primary-action-label":e.translations.profile_login_as_customer_button,"onClose:modal":t[2]||(t[2]=t=>e.$emit("close:modal")),onSave:t[3]||(t[3]=t=>e.$emit("save"))},{title:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.translations.profile_login_as_customer),1)])),content:(0,o.w5)((()=>[(0,o._)("p",{class:"mb-0",innerHTML:e.translations.profile_login_as_customer_warning.replace("{customer}",`<strong>${e.customerName}</strong>`)},null,8,Rt)])),footer:(0,o.w5)((()=>[(0,o._)("div",Yt,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.hideLoginWarning=t),class:"form-check-input",type:"checkbox",id:"loginAsCustomerWarning",onChange:t[1]||(t[1]=(...t)=>e.toggleHideLoginWarning&&e.toggleHideLoginWarning(...t))},null,544),[[r.e8,e.hideLoginWarning]]),(0,o._)("label",{class:"form-check-label",for:"loginAsCustomerWarning",innerHTML:e.translations.profile_login_as_customer_warning_preference},null,8,Zt)])])),_:1},8,["active","is-saving","primary-action-label"])};const Jt=Kt,Qt=(0,o.aZ)({name:"OpacityLoadable",props:{loading:Boolean}});Qt.render=function(e,t,n,r,s,i){return(0,o.wg)(),(0,o.iD)("div",{class:(0,a.C_)([{loading:e.loading},"content"])},[(0,o.WI)(e.$slots,"default")],2)};const Xt=Qt,en={key:0,class:"list-skeleton"},tn=[(0,o.uE)('<div class="col-md-3"><div class="skeleton w-100 h-100"></div></div><div class="col-md-9"><p><span class="skeleton" style="width:80%;"></span><span class="skeleton" style="width:90%;"></span><span class="skeleton" style="width:83%;"></span><span class="skeleton" style="width:80%;"></span></p></div>',2)],nn=["hidden"],rn=(0,o.aZ)({name:"ListSkeletonLoadable",props:{loading:Boolean}});rn.render=function(e,t,n,r,a,s){return(0,o.wg)(),(0,o.iD)(o.HY,null,[e.loading?((0,o.wg)(),(0,o.iD)("div",en,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(Array(3),(e=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:"item row"},tn)))),128))])):(0,o.kq)("v-if",!0),(0,o._)("div",{hidden:e.loading},[(0,o.WI)(e.$slots,"default")],8,nn)],64)};const on=rn,an={key:0,class:"loading-spinner"},sn=[(0,o._)("i",{class:"fas fa-spinner fa-spin"},null,-1)],ln=(0,o.aZ)({name:"LoadingSpinnerLoadable",props:{loading:Boolean}});ln.render=function(e,t,n,r,a,s){return(0,o.wg)(),(0,o.iD)(o.HY,null,[e.loading?((0,o.wg)(),(0,o.iD)("div",an,sn)):(0,o.kq)("v-if",!0),(0,o.WI)(e.$slots,"default",{hidden:e.loading})],64)};const un=ln;var cn;!function(e){e.Opacity="opacity",e.ListSkeleton="list-skeleton",e.LoadingSpinner="loading-spinner"}(cn||(cn={}));const dn=(0,o.aZ)({name:"Loadable",components:{OpacityLoadable:Xt,ListSkeletonLoadable:on,LoadingSpinnerLoadable:un},props:{type:{type:String,default:cn.Opacity}},setup:function(e){var t=e.type,n=(0,N.iH)(!1),r=(0,N.Fl)((function(){switch(t){default:case cn.Opacity:return Xt;case cn.ListSkeleton:return on;case cn.LoadingSpinner:return un}}));return{loading:n,toggle:function(e){n.value=null!=e?e:!n.value},loadableComponent:r}}});dn.render=function(e,t,n,r,a,s){return(0,o.wg)(),(0,o.j4)((0,o.LL)(e.loadableComponent),{loading:e.loading},{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default",{toggle:e.toggle,loading:e.loading})])),_:3},8,["loading"])};const fn=dn;function pn(e){return t=this,n=void 0,o=function(){var t,n;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t={customerId:e.value()},[4,fetch(M+"/admin/api/delete-customer",{body:JSON.stringify(t),headers:{"Content-Type":"application/json"},method:"POST"})];case 1:return 204===r.sent().status?[2,{success:!0,value:!0}]:[2,{success:!1,error:"ErrorUnknown"}];case 2:return n=r.sent(),A&&console.error(n),[2,{success:!1,error:"ErrorApi"}];case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,a){function s(e){try{l(o.next(e))}catch(e){a(e)}}function i(e){try{l(o.throw(e))}catch(e){a(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,i)}l((o=o.apply(t,n||[])).next())}));var t,n,r,o}function mn(e){return t=this,n=void 0,o=function(){var t;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,fetch(M+"/admin/api/customer-user-configuration",{body:JSON.stringify(e),headers:{"Content-Type":"application/json"},method:"PATCH"})];case 1:return 204===n.sent().status?[2,{success:!0,value:!0}]:[2,{success:!1,error:"ErrorUnknown"}];case 2:return t=n.sent(),A&&window.console.log(t),[2,{success:!1,error:"ErrorApi"}];case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,a){function s(e){try{l(o.next(e))}catch(e){a(e)}}function i(e){try{l(o.throw(e))}catch(e){a(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,i)}l((o=o.apply(t,n||[])).next())}));var t,n,r,o}function vn(e){return t=this,n=void 0,o=function(){var t,n,r;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),t=new FormData,n=M+"/admin/admin.php?do=NewCustomerOrderAjax",t.append("customerId",String(e.value())),[4,fetch(n,{body:t,method:"POST"})];case 1:return[4,o.sent().json()];case 2:return[2,{success:!0,value:o.sent().data.orderId}];case 3:return r=o.sent(),A&&window.console.log(r),[2,{success:!1,error:"ErrorApi"}];case 4:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,a){function s(e){try{l(o.next(e))}catch(e){a(e)}}function i(e){try{l(o.throw(e))}catch(e){a(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,i)}l((o=o.apply(t,n||[])).next())}));var t,n,r,o}var gn=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function i(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}l((r=r.apply(e,t||[])).next())}))},hn=function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}};const bn=(0,o.aZ)({name:"SingleAction",props:{user:{type:Object,required:!0},customerGroups:{type:Array,required:!0},rowHover:{type:Boolean,required:!1,default:!1}},components:{Loadable:fn,ChangeCustomerGroup:ct,DeleteCustomer:Ot,ExportPersonalData:Nt,DeletePersonalData:$t,LoginAsCustomer:Jt},setup:function(e,t){var n=this,r=t.emit,a=lt.create(),s=new Xe(e.user.id),i=(0,N.iH)(!1),l=(0,N.iH)(null),u=(0,N.iH)({left:"0",top:"0"}),c=(0,N.iH)(e.rowHover);(0,o.YP)((function(){return e.rowHover}),(function(e){c.value=e}),{immediate:!0});var d=function(t){(null==t?void 0:t.target.id)!=="dropdownMoreOptionsButton"+e.user.id&&(i.value=!1)};function f(){r("update:customers")}(0,o.bv)((function(){document.addEventListener("click",d)})),(0,o.Ah)((function(){document.removeEventListener("click",d)}));var p=(0,N.iH)(!1),m=(0,N.iH)(!1);function v(){m.value=!m.value}var g=(0,N.iH)(!1),h=(0,N.iH)(!1);function b(){h.value=!h.value}var w=(0,N.iH)(!1),y=(0,N.iH)(!1),_=(0,N.iH)(!1),k=function(e){w.value=null!=e?e:!w.value},C=function(){return gn(n,void 0,void 0,(function(){var t,n,r;return hn(this,(function(o){switch(o.label){case 0:return _.value?[4,mn({SHOW_WARNING_ON_LOGIN_AS_CUSTOMER:!_.value})]:[3,2];case 1:(t=o.sent()).success&&window.console.log(t),o.label=2;case 2:return e.user.id&&(null===(n=ie.value)||void 0===n?void 0:n.pageToken)&&(window.location.href=re+"/admin/admin.php?do=CustomerLogin&customerId="+e.user.id+"&pageToken="+(null===(r=ie.value)||void 0===r?void 0:r.pageToken)),[2]}}))}))};return{dropdownContainer:l,dropdownPosition:u,optionsVisibility:c,showOptionsVisibility:function(){r("hovering-options"),c.value=!0,i.value=!0},encodedCustomerName:function(){return encodeURIComponent(e.user.personalInformation.firstName+" "+e.user.personalInformation.lastName)},changeCustomerGroup:p,toggleChangeCustomerGroup:function(){p.value=!p.value},deletingCustomer:m,toggleDeleteCustomer:v,deleteUser:function(){return gn(this,void 0,void 0,(function(){return hn(this,(function(e){switch(e.label){case 0:return r(ae,!0),[4,pn(s)];case 1:return e.sent(),a.notifySuccess(oe.profile_customer_deleted),v(),f(),[2]}}))}))},showMoreOptions:i,toggleMoreOptions:function(e){var t,n=e.target.getBoundingClientRect(),r=document.getElementById("table-container").getBoundingClientRect(),o=document.getElementById("table-footer").getBoundingClientRect(),a=document.querySelector(".gx-admin-footer").getBoundingClientRect(),s=null===(t=l.value)||void 0===t?void 0:t.cloneNode(!0);s.style.display="block",s.style.top="-99999px",s.style.left="-99999px",document.body.append(s);var c={dropdownWidth:Math.ceil(s.getBoundingClientRect().width),dropdownHeight:Math.ceil(s.getBoundingClientRect().height),dropdownPaddingY:parseInt(window.getComputedStyle(s).getPropertyValue("padding-top"),10)+parseInt(window.getComputedStyle(s).getPropertyValue("padding-bottom"),10)},d=c.dropdownWidth,f=c.dropdownHeight,p=c.dropdownPaddingY;s.remove();var m=Math.ceil(n.top+n.height+f),v=document.documentElement.clientHeight-o.height-a.height,g=Math.ceil(n.top-r.top+n.height),h=Math.ceil(n.left-r.left+n.width-d);m>v&&(g=g-f-2*p),u.value.top=g+"px",u.value.left=h+"px",i.value=!i.value},exportingPersonalData:g,toggleExportPersonalData:function(){g.value=!g.value},deletingPersonalData:h,toggleDeletePersonalData:b,loginAsCustomer:w,isSigningIn:y,hideLoginWarning:_,toggleHideLoginWarning:function(){_.value=!_.value},toggleLoginAsCustomerModal:k,performLoginAsCustomer:C,handleOnLoginAsCustomer:function(){var e;(null===(e=ie.value.userConfigurations)||void 0===e?void 0:e.SHOW_WARNING_ON_LOGIN_AS_CUSTOMER)?k(!0):C()},customerFullName:function(e){return e.personalInformation.firstName||e.personalInformation.lastName?e.personalInformation.firstName+" "+e.personalInformation.lastName:e.businessInformation.companyName||oe.profile_no_name},updateCustomers:f,switchAction:function(e){switch(e){case"delete-personal-data":v(),b();break;case"delete-customer-account":b(),v()}},getCustomerOrdersURL:function(e){return re+"/admin/admin.php?do=OrdersOverview&filter[customer]="+encodeURIComponent("#"+e)},translations:oe,baseUrl:re,performCreateOrder:function(){return gn(this,void 0,void 0,(function(){var e;return hn(this,(function(t){switch(t.label){case 0:return[4,vn(s)];case 1:return(e=t.sent()).success&&(window.location.href=re+"/admin/orders.php?oID="+e.value+"&action=edit"),[2]}}))}))}}}});bn.render=function(e,t,n,s,i,l){const u=(0,o.up)("change-customer-group"),c=(0,o.up)("Loadable"),d=(0,o.up)("delete-customer"),f=(0,o.up)("export-personal-data"),p=(0,o.up)("delete-personal-data"),m=(0,o.up)("login-as-customer");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("ul",ue,[(0,o._)("li",ce,[(0,o._)("a",{href:`${e.baseUrl}/admin/customers/${e.user.id}`,title:e.translations.overview_tooltip_customer_profile,class:"btn btn-action"},fe,8,de)]),(0,o._)("li",pe,[(0,o._)("a",{href:e.getCustomerOrdersURL(e.user.id),title:e.translations.overview_tooltip_customer_orders,class:"btn btn-action"},ve,8,me)]),(0,o._)("li",ge,[(0,o._)("a",{href:`${e.baseUrl}/admin/admin.php?do=Emails&mailto=${e.user.contactInformation.email}`,title:e.translations.overview_tooltip_customer_email,class:"btn btn-action"},be,8,he)]),(0,o._)("li",we,[(0,o._)("div",ye,[(0,o._)("button",{onClick:t[0]||(t[0]=(...t)=>e.toggleMoreOptions&&e.toggleMoreOptions(...t)),class:(0,a.C_)(["btn btn-action dropdown-toggle",{show:e.showMoreOptions}]),type:"button",id:`dropdownMoreOptionsButton${e.user.id}`,"aria-expanded":"false"},null,10,_e),((0,o.wg)(),(0,o.j4)(o.lR,{to:".table-content-wrapper"},[(0,o.wy)((0,o._)("ul",{ref:"dropdownContainer",class:(0,a.C_)(["dropdown-menu actions-dropdown-menu",{show:e.showMoreOptions}]),"aria-labelledby":`dropdownMoreOptionsButton${e.user.id}`,style:(0,a.j5)(e.dropdownPosition),onMouseenter:t[7]||(t[7]=(...t)=>e.showOptionsVisibility&&e.showOptionsVisibility(...t)),onMouseleave:t[8]||(t[8]=(...t)=>e.showOptionsVisibility&&e.showOptionsVisibility(...t))},[(0,o._)("li",null,[(0,o._)("button",{onClick:t[1]||(t[1]=(...t)=>e.performCreateOrder&&e.performCreateOrder(...t)),class:"dropdown-item rounded-0"},[Ce,(0,o.Uk)(" "+(0,a.zw)(e.translations.profile_new_order),1)]),1!==e.user.id?((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:t[2]||(t[2]=(...t)=>e.toggleChangeCustomerGroup&&e.toggleChangeCustomerGroup(...t)),class:"dropdown-item rounded-0"},[xe,(0,o.Uk)(" "+(0,a.zw)(e.translations.profile_change_customer_group),1)])):(0,o.kq)("v-if",!0),1!==e.user.id&&e.user.customerGroup>0?((0,o.wg)(),(0,o.iD)("button",{key:1,onClick:t[3]||(t[3]=(...t)=>e.handleOnLoginAsCustomer&&e.handleOnLoginAsCustomer(...t)),class:"dropdown-item rounded-0"},[Ie,(0,o.Uk)(" "+(0,a.zw)(e.translations.profile_login_as_customer),1)])):(0,o.kq)("v-if",!0),(0,o._)("button",{onClick:t[4]||(t[4]=(...t)=>e.toggleExportPersonalData&&e.toggleExportPersonalData(...t)),class:"dropdown-item rounded-0"},[Ee,(0,o.Uk)(" "+(0,a.zw)(e.translations.profile_export_personal_data),1)]),1!==e.user.id?((0,o.wg)(),(0,o.iD)("button",{key:2,onClick:t[5]||(t[5]=(...t)=>e.toggleDeletePersonalData&&e.toggleDeletePersonalData(...t)),class:"dropdown-item rounded-0"},[Se,(0,o.Uk)(" "+(0,a.zw)(e.translations.profile_delete_personal_data),1)])):(0,o.kq)("v-if",!0)]),1!==e.user.id?((0,o.wg)(),(0,o.iD)("li",De,Te)):(0,o.kq)("v-if",!0),1!==e.user.id?((0,o.wg)(),(0,o.iD)("li",Oe,[(0,o._)("button",{onClick:t[6]||(t[6]=(...t)=>e.toggleDeleteCustomer&&e.toggleDeleteCustomer(...t)),class:"dropdown-item rounded-0"},[Pe,(0,o.Uk)(" "+(0,a.zw)(e.translations.profile_delete_customer),1)])])):(0,o.kq)("v-if",!0)],46,ke),[[r.F8,e.showMoreOptions&&e.optionsVisibility]])]))])])]),(0,o.Wm)(c,{type:"loading-spinner"},{default:(0,o.w5)((({toggle:t,loading:n})=>[(0,o.Wm)(u,{"customer-id":e.user.id,"customer-group":e.user.customerGroup,"customer-groups":e.customerGroups,"customer-name":e.customerFullName(e.user),"is-changing":e.changeCustomerGroup,loading:n,[(0,a.hR)(e.TOGGLE_LOADING_EVENT)]:t,"onToggle:changeCustomerGroup":e.toggleChangeCustomerGroup,"onUpdate:customer":e.updateCustomers},null,16,["customer-id","customer-group","customer-groups","customer-name","is-changing","loading","onToggle:changeCustomerGroup","onUpdate:customer"])])),_:1}),(0,o.Wm)(c,{type:"loading-spinner"},{default:(0,o.w5)((({toggle:t,loading:n})=>[(0,o.Wm)(d,{"customer-id":e.user.id,"customer-name":e.customerFullName(e.user),"is-deleting":e.deletingCustomer,loading:n,[(0,a.hR)(e.TOGGLE_LOADING_EVENT)]:t,"onToggle:deleteCustomer":e.toggleDeleteCustomer,onSwitchAction:e.switchAction,"onDelete:customer":e.deleteUser},null,16,["customer-id","customer-name","is-deleting","loading","onToggle:deleteCustomer","onSwitchAction","onDelete:customer"])])),_:1}),(0,o.Wm)(c,{type:"loading-spinner"},{default:(0,o.w5)((({toggle:t,loading:n})=>[(0,o.Wm)(f,{"customer-id":e.user.id,"is-changing":e.exportingPersonalData,loading:n,[(0,a.hR)(e.TOGGLE_LOADING_EVENT)]:t,"onToggle:exportPersonalData":e.toggleExportPersonalData,"onExportPersonalData:export":e.toggleExportPersonalData},null,16,["customer-id","is-changing","loading","onToggle:exportPersonalData","onExportPersonalData:export"])])),_:1}),(0,o.Wm)(c,{type:"loading-spinner"},{default:(0,o.w5)((({toggle:t,loading:n})=>[(0,o.Wm)(p,{"customer-id":e.user.id,"customer-name":e.customerFullName(e.user),"is-deleting":e.deletingPersonalData,loading:n,[(0,a.hR)(e.TOGGLE_LOADING_EVENT)]:t,"onToggle:deletePersonalData":e.toggleDeletePersonalData,"onDeletePersonalData:deleted":e.toggleDeletePersonalData,onSwitchAction:e.switchAction},null,16,["customer-id","customer-name","is-deleting","loading","onToggle:deletePersonalData","onDeletePersonalData:deleted","onSwitchAction"])])),_:1}),(0,o.Wm)(c,{type:"loading-spinner"},{default:(0,o.w5)((({toggle:n,loading:r})=>[e.loginAsCustomer?((0,o.wg)(),(0,o.j4)(m,{key:0,loginAsCustomer:e.loginAsCustomer,"is-signing-in":e.isSigningIn,"hide-login-warning":e.hideLoginWarning,"customer-name":e.customerFullName(e.user),"onToggle:hideLoginWarning":e.toggleHideLoginWarning,"onClose:modal":t[9]||(t[9]=()=>e.toggleLoginAsCustomerModal(!1)),onSave:e.performLoginAsCustomer},null,8,["loginAsCustomer","is-signing-in","hide-login-warning","customer-name","onToggle:hideLoginWarning","onSave"])):(0,o.kq)("v-if",!0)])),_:1})],64)},bn.__scopeId="data-v-c5913880";const wn=bn;function yn(e,t,n){return void 0===n&&(n=oe.profile_currency_format_locale),Intl.NumberFormat(n,{style:"currency",currency:t}).format(e)}function _n(e,t){var n;return void 0===t&&(t=oe.profile_currency_format_locale),null===(n=Intl.NumberFormat(t,{style:"currency",currency:e}).formatToParts(0).find((function(e){return"currency"==e.type})))||void 0===n?void 0:n.value}function kn(e,t,n){void 0===t&&(t=ne.Full),void 0===n&&(n=oe.profile_currency_format_locale);var r="medium",o="short";return new Intl.DateTimeFormat(n,function(){switch(t){default:case ne.Full:return{dateStyle:r,timeStyle:o};case ne.DateOnly:return{dateStyle:r};case ne.TimeOnly:return{timeStyle:o}}}()).format(new Date(e))}function Cn(e,t){return n=this,r=void 0,a=function(){var n,r;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),n={customerId:e.value(),isFavorite:t},[4,fetch(M+"/admin/api/customer",{body:JSON.stringify(n),headers:{"Content-Type":"application/json"},method:"PATCH"})];case 1:return 204===o.sent().status?[2,{success:!0,value:!0}]:[2,{success:!1,error:"ErrorUnknown"}];case 2:return r=o.sent(),A&&console.error(r),[2,{success:!1,error:"ErrorApi"}];case 3:return[2]}}))},new((o=void 0)||(o=Promise))((function(e,t){function s(e){try{l(a.next(e))}catch(e){t(e)}}function i(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,i)}l((a=a.apply(n,r||[])).next())}));var n,r,o,a}const xn=(0,o.aZ)({name:"Row",components:{SingleAction:wn},props:{user:{type:Object,required:!0},customerGroups:{type:Array,required:!0},additionalInformation:{type:Object,required:!0}},computed:{customerName:function(){return this.user.personalInformation.firstName||this.user.personalInformation.lastName?this.user.personalInformation.firstName+" "+this.user.personalInformation.lastName:this.user.businessInformation.companyName||oe.profile_no_name}},setup:function(e,t){var n=t.emit,r=lt.create(),a=(0,N.iH)();(0,o.YP)((function(){return e.customerGroups}),(function(t){a.value=t.find((function(t){return t.id===e.user.customerGroup}))}),{immediate:!0});var s=(0,N.Fl)((function(){return"1000-01-01"===e.additionalInformation.dateAdded.split("T").shift()?"":kn(e.additionalInformation.dateAdded,ne.DateOnly)})),i=(0,N.Fl)((function(){return"1000-01-01"===e.additionalInformation.lastLogon.split("T").shift()?"":kn(e.additionalInformation.lastLogon,ne.DateOnly)}));function l(){n("update:customers")}var u=(0,N.iH)(!1);return{customerGroup:a,baseUrl:re,translations:oe,optionsVisibility:u,toggleOptionsVisibility:function(){u.value=!u.value},dateAddedPreview:s,lastLogonPreview:i,toggleIsFavorite:function(e){return t=this,n=void 0,a=function(){return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(t){switch(t.label){case 0:return[4,Cn(new Xe(e.id),!e.isFavorite)];case 1:return t.sent(),r.notifySuccess(),l(),[2]}}))},new((o=void 0)||(o=Promise))((function(e,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function i(e){try{l(a.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,i)}l((a=a.apply(t,n||[])).next())}));var t,n,o,a},updateCustomers:l,fullDatePreview:function(e){return"1000-01-01"===e.split("T").shift()?"":kn(e,ne.Full)}}}});xn.render=function(e,t,n,r,s,i){const l=(0,o.up)("SingleAction");return(0,o.wg)(),(0,o.iD)("tr",{class:(0,a.C_)({"is-hovering":e.optionsVisibility}),onMouseenter:t[1]||(t[1]=(...t)=>e.toggleOptionsVisibility&&e.toggleOptionsVisibility(...t)),onMouseleave:t[2]||(t[2]=(...t)=>e.toggleOptionsVisibility&&e.toggleOptionsVisibility(...t))},[(0,o.kq)('    <td class="sticky" style="left: 0" width="60px">\n      <div class="form-check">\n        <input class="form-check-input" type="checkbox" v-model="user.checked" />\n      </div>\n    </td>'),(0,o.kq)('    <td class="sticky" style="left: 0;" width="60px">{{ user.id }}</td>'),(0,o._)("td",j,[(0,o._)("button",{onClick:t[0]||(t[0]=t=>e.toggleIsFavorite(e.user)),class:(0,a.C_)(["btn btn-sm p-0 btn-star",{"is-starred":e.user.isFavorite}]),title:e.user.isFavorite?e.translations.overview_tooltip_customer_favorite_remove:e.translations.overview_tooltip_customer_favorite_add},[(0,o._)("i",{class:(0,a.C_)(["fa",{"fa-star-o":!e.user.isFavorite,"fa-star":e.user.isFavorite}])},null,2)],10,V)]),(0,o._)("td",{class:"sticky last-sticky",style:{left:"30px"},width:"200",title:`${e.user.personalInformation.firstName} ${e.user.personalInformation.lastName}`},[(0,o._)("a",{href:`${e.baseUrl}/admin/customers/${e.user.id}`,class:"fw-bold d-block text-truncate",textContent:(0,a.zw)(e.customerName)},null,8,F)],8,B),(0,o.kq)('    <td class="sticky last-sticky" style="left: 150px" width="150">{{ user.personalInformation.lastName }}</td>'),(0,o._)("td",{width:"270",class:"text-truncate",title:e.user.contactInformation.email},(0,a.zw)(e.user.contactInformation.email),9,q),(0,o._)("td",{width:"150",class:"text-truncate",title:e.user.contactInformation.phoneNumber},(0,a.zw)(e.user.contactInformation.phoneNumber),9,W),(0,o._)("td",{width:"120",class:"text-truncate",title:e.user.businessInformation.companyName},(0,a.zw)(e.user.businessInformation.companyName),9,$),(0,o._)("td",R,[e.user.businessInformation.vatId?((0,o.wg)(),(0,o.iD)("span",{key:0,title:e.user.businessInformation.isValidVatId?e.translations.overview_vat_id_verified:e.translations.overview_vat_id_not_verified,class:"badge rounded-pill p-1"},[e.user.businessInformation.isValidVatId?((0,o.wg)(),(0,o.iD)("i",Z)):((0,o.wg)(),(0,o.iD)("i",K)),(0,o.Uk)(" "+(0,a.zw)(e.user.businessInformation.vatId),1)],8,Y)):(0,o.kq)("v-if",!0)]),(0,o._)("td",{width:"150",title:e.customerGroup.label},[(0,o._)("span",{class:(0,a.C_)(["badge",{"bg-primary text-white":0===e.customerGroup.id}]),textContent:(0,a.zw)(e.customerGroup.label)},null,10,Q)],8,J),(0,o._)("td",{width:"150",class:"text-truncate",title:e.fullDatePreview(e.additionalInformation.dateAdded)},(0,a.zw)(e.dateAddedPreview),9,X),(0,o._)("td",{width:"150",class:"text-truncate",title:e.fullDatePreview(e.additionalInformation.lastLogon)},(0,a.zw)(e.lastLogonPreview),9,ee),(0,o.kq)('    <td width="150">{{ user.id * 2 }} orders</td>\n    <td width="150">&euro; {{ user.id * 175 }}</td>\n    <td width="150">Total orders - {{ user.totalOrders }}</td>\n    <td width="150">Total orders - {{ user.totalOrders }}</td>'),(0,o._)("td",te,[(0,o.Wm)(l,{user:e.user,customerGroups:e.customerGroups,"row-hover":e.optionsVisibility,onHoveringOptions:e.toggleOptionsVisibility,"onUpdate:customers":e.updateCustomers},null,8,["user","customerGroups","row-hover","onHoveringOptions","onUpdate:customers"])])],34)};const In=xn;(0,o.dD)("data-v-12e2455e");const En={class:"row g-0 m-0 p-0"},Sn={class:"col-4 headline-tabs"},Dn={class:"nav flex-column"},Tn=["onClick"],On={key:0,class:"fa fa-check"},Pn={key:1,class:"fa fa-warning"},Nn={class:"col-8"},Mn={class:"row mx-2"},An={class:"col pt-3"};(0,o.Cn)(),(0,o.dD)("data-v-25fe0ebc");const Gn={class:"mb-3"},Hn={for:"customer-group",class:"form-label"},Ln=["value","textContent"],Un={class:"row mb-4"},zn={class:"col-6"},jn={for:"make-favorite",class:"form-label"},Vn={class:"form-check form-switch mt-1"},Bn=["checked"],Fn={class:"form-check-label",for:"make-favorite"},qn={key:0,class:"col-6"},Wn={for:"credit-balance",class:"form-label"},$n={class:"input-group"},Rn=["textContent"],Yn=["title"],Zn=[(0,o._)("i",{class:"fa fa-plus"},null,-1)],Kn=["title"],Jn=[(0,o._)("i",{class:"fa fa-minus"},null,-1)],Qn={class:"mb-3"},Xn={for:"email-subscription",class:"form-label"},er={class:"form-check form-switch"},tr=["checked"],nr={class:"form-check-label",for:"email-subscription"},rr=["innerHTML"],or={key:0,class:"mb-3"},ar={for:"password",class:"form-label"},sr=(0,o._)("span",{class:"text-danger"},"*",-1),ir={class:"input-group"},lr=["type","placeholder","aria-label"],ur=["title"],cr=["title"],dr=[(0,o._)("i",{class:"fa fa-repeat","aria-hidden":"true"},null,-1)],fr=["textContent"],pr={key:1,class:"form-check form-switch mb-3"},mr={class:"form-check-label",for:"send-email"},vr=["textContent"];(0,o.Cn)();const gr=(0,o.aZ)({name:"EditGeneral",props:{hasErrors:Boolean,errors:{type:Array,default:[]},customerGroup:Number,customerGroups:Array,isFavorite:Boolean,isSubscribed:Boolean,password:String,credit:Number,currency:Object,sendEmail:Boolean},setup(e,{emit:t}){const n=(0,N.iH)(e.customerGroup),r=(0,N.iH)(e.isFavorite),a=(0,N.iH)(e.isSubscribed),s=(0,N.iH)(e.credit),i=_n(e.currency.code),l=(0,N.iH)(!1),u=(0,N.iH)(""),c=(0,N.iH)(e.sendEmail);(0,o.YP)((()=>[e.isFavorite,e.isSubscribed,e.credit]),(([e,t,n])=>{r.value=e,a.value=t,s.value=n}),{immediate:!0});const d=()=>{let e="0123456789abcdefghijklmnopqrstuvwxyz!@#$%^&*()ABCDEFGHIJKLMNOPQRSTUVWXYZ",t="";for(let n=0;n<=12;n++){let n=Math.floor(Math.random()*e.length);t+=e.substring(n,n+1)}u.value=t,l.value=!0,f()};function f(){t("change:customer-password",u.value)}function p(){t("change:customer-credit",s.value)}const m=yn(10,e.currency.code);return(0,o.bv)((()=>{d()})),{newCustomerGroup:n,changeCustomerGroup:function(){u.value.length||d(),1===n.value&&(u.value="",s.value=0,f(),p()),t("change:customer-group",n.value)},customerIsFavorite:r,customerIsSubscribed:a,toggleIsFavorite:function(){t("toggle:is-favorite")},toggleIsSubscribed:function(){t("toggle:is-subscribed")},customerCredit:s,currencySymbol:i,changeCustomerCredit:p,creditChangeValueFormatted:m,addCreditValue:function(){t("change:customer-credit",s.value+10)},subtractCreditValue:function(){let e=s.value-10;e<0&&(e=0),t("change:customer-credit",e)},visibility:l,newPassword:u,generatePassword:d,changeCustomerPassword:f,triggerValidate:function(){e.hasErrors&&this.$emit("trigger-validate")},isSendingEmail:c,toggleSendEmail:function(){t("toggle:send-email")},translations:oe,configurations:ie}}});gr.render=function(e,t,n,s,i,l){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",Gn,[(0,o._)("label",Hn,(0,a.zw)(e.translations.profile_customer_group),1),(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.newCustomerGroup=t),id:"customer-group",class:"form-select",onChange:t[1]||(t[1]=(...t)=>e.changeCustomerGroup&&e.changeCustomerGroup(...t))},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.customerGroups,((e,t)=>((0,o.wg)(),(0,o.iD)("option",{key:t,value:e.id,textContent:(0,a.zw)(e.label)},null,8,Ln)))),128))],544),[[r.bM,e.newCustomerGroup]])]),(0,o._)("div",Un,[(0,o._)("div",zn,[(0,o._)("label",jn,(0,a.zw)(e.translations.profile_favorite_customer),1),(0,o._)("div",Vn,[(0,o._)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"make-favorite",checked:e.customerIsFavorite,onChange:t[2]||(t[2]=(...t)=>e.toggleIsFavorite&&e.toggleIsFavorite(...t))},null,40,Bn),(0,o._)("label",Fn,(0,a.zw)(e.translations.profile_favorite_customer_button),1)])]),1!==e.customerGroup?((0,o.wg)(),(0,o.iD)("div",qn,[(0,o._)("label",Wn,(0,a.zw)(e.translations.profile_balance),1),(0,o._)("div",$n,[(0,o._)("span",{class:"input-group-text",id:"credit-balance-currency",textContent:(0,a.zw)(e.currencySymbol)},null,8,Rn),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.customerCredit=t),type:"number",min:"0",class:"form-control",id:"credit-balance",onChange:t[4]||(t[4]=(...t)=>e.changeCustomerCredit&&e.changeCustomerCredit(...t))},null,544),[[r.nr,e.customerCredit]]),(0,o._)("button",{title:e.translations.profile_balance_increment.replace("{amount}",e.creditChangeValueFormatted),class:"btn btn-outline-primary",onClick:t[5]||(t[5]=(...t)=>e.addCreditValue&&e.addCreditValue(...t))},Zn,8,Yn),(0,o._)("button",{title:e.translations.profile_balance_decrement.replace("{amount}",e.creditChangeValueFormatted),class:"btn btn-outline-primary",onClick:t[6]||(t[6]=(...t)=>e.subtractCreditValue&&e.subtractCreditValue(...t))},Jn,8,Kn)])])):(0,o.kq)("v-if",!0)]),(0,o._)("div",Qn,[(0,o._)("label",Xn,(0,a.zw)(e.translations.profile_newsletter_subscription_label),1),(0,o._)("div",er,[(0,o._)("input",{class:"form-check-input",type:"checkbox",role:"switch",checked:e.customerIsSubscribed,id:"email-subscription",onChange:t[7]||(t[7]=(...t)=>e.toggleIsSubscribed&&e.toggleIsSubscribed(...t))},null,40,tr),(0,o._)("label",nr,(0,a.zw)(e.translations.profile_newsletter_subscription_option),1),(0,o._)("div",{class:"form-text",innerHTML:e.translations.profile_newsletter_subscription_warning},null,8,rr)])]),1!==e.newCustomerGroup?((0,o.wg)(),(0,o.iD)("div",or,[(0,o._)("label",ar,[(0,o.Uk)((0,a.zw)(e.translations.profile_new_password)+" ",1),sr]),(0,o._)("div",ir,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[8]||(t[8]=t=>e.newPassword=t),type:e.visibility?"text":"password",id:"password",class:(0,a.C_)(["form-control",{"is-invalid":e.errors.password}]),placeholder:e.translations.profile_password,"aria-label":e.translations.profile_password,"aria-describedby":"view-password",autocomplete:"off",onChange:t[9]||(t[9]=(...t)=>e.changeCustomerPassword&&e.changeCustomerPassword(...t))},null,42,lr),[[r.YZ,e.newPassword]]),(0,o._)("button",{title:e.visibility?e.translations.profile_password_hide:e.translations.profile_password_show,onClick:t[10]||(t[10]=t=>e.visibility=!e.visibility),class:"btn btn-outline-primary",id:"view-password",type:"button"},[(0,o._)("i",{class:(0,a.C_)(["fa",e.visibility?"fa-eye-slash":"fa-eye"]),"aria-hidden":"true"},null,2)],8,ur),(0,o._)("button",{title:e.translations.profile_password_generate,onClick:t[11]||(t[11]=(...t)=>e.generatePassword&&e.generatePassword(...t)),class:"btn btn-outline-primary",id:"generate-password",type:"button"},dr,8,cr)]),(0,o._)("div",{class:(0,a.C_)([{"d-block":e.errors.password},"invalid-feedback"]),id:"view-password-feedback",textContent:(0,a.zw)(e.errors.password)},null,10,fr)])):(0,o.kq)("v-if",!0),1!==e.newCustomerGroup?((0,o.wg)(),(0,o.iD)("div",pr,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[12]||(t[12]=t=>e.isSendingEmail=t),class:"form-check-input",type:"checkbox",role:"switch",id:"send-email",onChange:t[13]||(t[13]=(...t)=>e.toggleSendEmail&&e.toggleSendEmail(...t))},null,544),[[r.e8,e.isSendingEmail]]),(0,o._)("label",mr,(0,a.zw)(e.translations.overview_send_new_customer_password_email),1)])):(0,o.kq)("v-if",!0),e.sendEmail?((0,o.wg)(),(0,o.iD)("div",{key:2,class:"alert alert-warning mb-3",role:"alert",textContent:(0,a.zw)(e.translations.overview_send_new_customer_password_email_hint)},null,8,vr)):(0,o.kq)("v-if",!0)],64)},gr.__scopeId="data-v-25fe0ebc";const hr=gr,br={class:"row"},wr={class:"col-6"},yr={class:"mb-3"},_r={for:"first-name",class:"form-label"},kr=["textContent"],Cr={class:"col-6"},xr={class:"mb-3"},Ir={for:"last-name",class:"form-label"},Er=["textContent"],Sr={class:"mb-3"},Dr={for:"date-of-birth",class:"form-label"},Tr={class:"mb-3"},Or=["for"],Pr={key:0,class:"text-danger"},Nr=["onUpdate:modelValue","value","id"],Mr=["for","textContent"],Ar=["textContent"],Gr={class:"mb-3"},Hr={for:"customer-number",class:"form-label"},Lr=(0,o.aZ)({name:"EditPersonalInformation",props:{hasErrors:Boolean,errors:{type:Array,default:[]},genders:Array,personalInformation:Object},setup:e=>({triggerValidate:function(){e.hasErrors&&this.$emit("trigger-validate")},translations:oe,configurations:ie})});Lr.render=function(e,t,n,s,i,l){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",br,[(0,o._)("div",wr,[(0,o._)("div",yr,[(0,o._)("label",_r,(0,a.zw)(e.translations.profile_first_name),1),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.personalInformation.firstName=t),type:"text",class:(0,a.C_)(["form-control",{"is-invalid":e.errors.firstName}]),id:"first-name","aria-describedby":"first-name-feedback",onBlur:t[1]||(t[1]=(...t)=>e.triggerValidate&&e.triggerValidate(...t))},null,34),[[r.nr,e.personalInformation.firstName]]),(0,o._)("div",{id:"first-name-feedback",class:"invalid-feedback",textContent:(0,a.zw)(e.errors.firstName)},null,8,kr)])]),(0,o._)("div",Cr,[(0,o._)("div",xr,[(0,o._)("label",Ir,(0,a.zw)(e.translations.profile_last_name),1),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.personalInformation.lastName=t),type:"text",class:(0,a.C_)(["form-control",{"is-invalid":e.errors.lastName}]),"aria-describedby":"last-name-feedback",id:"last-name",onBlur:t[3]||(t[3]=(...t)=>e.triggerValidate&&e.triggerValidate(...t))},null,34),[[r.nr,e.personalInformation.lastName]]),(0,o._)("div",{id:"last-name-feedback",class:"invalid-feedback",textContent:(0,a.zw)(e.errors.lastName)},null,8,Er)])])]),(0,o._)("div",Sr,[(0,o._)("label",Dr,(0,a.zw)(e.translations.profile_date_of_birth),1),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[4]||(t[4]=t=>e.personalInformation.dateOfBirth=t),type:"date",class:"form-control",onfocus:"this.showPicker()",id:"date-of-birth"},null,512),[[r.nr,e.personalInformation.dateOfBirth]])]),(0,o._)("div",Tr,[(0,o._)("label",{for:e.configurations.GENDER_MANDATORY?`gender-${e.genders[0].id}`:`gender-${e.genders[e.genders.length-1].id}`,class:"form-label"},[(0,o.Uk)((0,a.zw)(e.translations.profile_salutation)+" ",1),e.configurations.GENDER_MANDATORY?((0,o.wg)(),(0,o.iD)("span",Pr,"*")):(0,o.kq)("v-if",!0)],8,Or),(0,o._)("div",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.genders,((n,s)=>((0,o.wg)(),(0,o.iD)("div",{key:s,class:"form-check form-check-inline"},[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t=>e.personalInformation.gender=t,value:n.id,name:"gender",class:(0,a.C_)(["form-check-input",{"is-invalid":e.errors.gender}]),"aria-describedby":"gender-feedback",type:"radio",id:`gender-${n.id}`,onChange:t[5]||(t[5]=(...t)=>e.triggerValidate&&e.triggerValidate(...t))},null,42,Nr),[[r.G2,e.personalInformation.gender]]),(0,o._)("label",{class:"form-check-label",for:`gender-${n.id}`,textContent:(0,a.zw)(n.label)},null,8,Mr)])))),128)),(0,o._)("div",{class:(0,a.C_)([{"d-block":e.errors.gender},"invalid-feedback"]),id:"gender-feedback",textContent:(0,a.zw)(e.errors.gender)},null,10,Ar)])]),(0,o._)("div",Gr,[(0,o._)("label",Hr,(0,a.zw)(e.translations.profile_customer_number),1),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[6]||(t[6]=t=>e.personalInformation.customerNumber=t),type:"text",class:"form-control",id:"customer-number"},null,512),[[r.nr,e.personalInformation.customerNumber]])])],64)};const Ur=Lr,zr={class:"mb-3"},jr={for:"email",class:"form-label"},Vr=(0,o._)("span",{class:"text-danger"},"*",-1),Br=["textContent"],Fr={class:"mb-3"},qr={for:"phone-number",class:"form-label"},Wr=["textContent"],$r={class:"mb-3"},Rr={for:"fax-number",class:"form-label"},Yr=(0,o.aZ)({name:"EditContactInformation",props:{hasErrors:Boolean,errors:{type:Array,default:[]},contactInformation:Object},setup:e=>({translations:oe,configurations:ie,triggerValidate:function(){e.hasErrors&&this.$emit("trigger-validate")}})});Yr.render=function(e,t,n,s,i,l){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",zr,[(0,o._)("label",jr,[(0,o.Uk)((0,a.zw)(e.translations.profile_email)+" ",1),Vr]),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.contactInformation.email=t),type:"email",class:(0,a.C_)(["form-control",{"is-invalid":e.errors.email}]),id:"email","aria-describedby":"email-feedback",onBlur:t[1]||(t[1]=(...t)=>e.triggerValidate&&e.triggerValidate(...t))},null,34),[[r.nr,e.contactInformation.email]]),(0,o._)("div",{id:"email-feedback",class:"invalid-feedback",textContent:(0,a.zw)(e.errors.email)},null,8,Br)]),(0,o._)("div",Fr,[(0,o._)("label",qr,(0,a.zw)(e.translations.profile_phone_number),1),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.contactInformation.phoneNumber=t),type:"text",class:(0,a.C_)(["form-control",{"is-invalid":e.errors.phoneNumber}]),id:"phone-number","aria-describedby":"phone-number-feedback",onBlur:t[3]||(t[3]=(...t)=>e.triggerValidate&&e.triggerValidate(...t))},null,34),[[r.nr,e.contactInformation.phoneNumber]]),(0,o._)("div",{id:"phone-number-feedback",class:"invalid-feedback",textContent:(0,a.zw)(e.errors.phoneNumber)},null,8,Wr)]),(0,o._)("div",$r,[(0,o._)("label",Rr,(0,a.zw)(e.translations.profile_fax_number),1),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[4]||(t[4]=t=>e.contactInformation.faxNumber=t),type:"text",class:"form-control",id:"fax-number"},null,512),[[r.nr,e.contactInformation.faxNumber]])])],64)};const Zr=Yr,Kr={class:"mb-3"},Jr={for:"company-name",class:"form-label"},Qr=["textContent"],Xr={class:"mb-3"},eo={for:"vat-id",class:"form-label"},to={class:"form-check form-switch"},no={class:"form-check-label",for:"trade-person"},ro=(0,o.aZ)({name:"EditBusinessInformation",props:{hasErrors:Boolean,errors:{type:Array,default:[]},businessInformation:Object},setup:e=>({triggerValidate:function(){e.hasErrors&&this.$emit("trigger-validate")},translations:oe,configurations:ie})});ro.render=function(e,t,n,s,i,l){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",Kr,[(0,o._)("label",Jr,(0,a.zw)(e.translations.profile_company_name),1),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.businessInformation.companyName=t),type:"text",class:(0,a.C_)(["form-control",{"is-invalid":e.errors.companyName}]),id:"company-name","aria-describedby":"company-name-feedback",onBlur:t[1]||(t[1]=(...t)=>e.triggerValidate&&e.triggerValidate(...t))},null,34),[[r.nr,e.businessInformation.companyName]]),(0,o._)("div",{id:"company-name-feedback",class:"invalid-feedback",textContent:(0,a.zw)(e.errors.companyName)},null,8,Qr)]),(0,o._)("div",Xr,[(0,o._)("label",eo,(0,a.zw)(e.translations.profile_vat_id),1),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.businessInformation.vatId=t),type:"text",class:"form-control",id:"vat-id"},null,512),[[r.nr,e.businessInformation.vatId]])]),(0,o._)("div",to,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.businessInformation.isTradesperson=t),class:"form-check-input",type:"checkbox",role:"switch",id:"trade-person"},null,512),[[r.e8,e.businessInformation.isTradesperson]]),(0,o._)("label",no,(0,a.zw)(e.translations.profile_tradeperson),1)])],64)};const oo=ro,ao={key:0,class:"row"},so={class:"col-3"},io={class:"mb-3"},lo={for:"salutation",class:"form-label"},uo=["value","textContent"],co={class:"col-9"},fo={class:"row"},po={class:"col-6"},mo={class:"mb-3"},vo={for:"first-name",class:"form-label"},go=["textContent"],ho={class:"col-6"},bo={class:"mb-3"},wo={for:"last-name",class:"form-label"},yo=["textContent"],_o={key:1,class:"mb-3"},ko={for:"company-name",class:"form-label"},Co=["textContent"],xo={key:2,class:"row"},Io={class:"col-8"},Eo={class:"mb-3"},So={for:"street-name",class:"form-label"},Do=(0,o._)("span",{class:"text-danger"},"*",-1),To=["textContent"],Oo={class:"col-4"},Po={class:"mb-3"},No={for:"house-number",class:"form-label"},Mo=(0,o._)("span",{class:"text-danger"},"*",-1),Ao=["textContent"],Go={key:3,class:"mb-3"},Ho={for:"street-name",class:"form-label"},Lo=(0,o._)("span",{class:"text-danger"},"*",-1),Uo=["textContent"],zo={class:"row"},jo={class:"col-3"},Vo={class:"mb-3"},Bo={for:"postcode",class:"form-label"},Fo=(0,o._)("span",{class:"text-danger"},"*",-1),qo=["textContent"],Wo={class:"col-9"},$o={class:"mb-3"},Ro={for:"city",class:"form-label"},Yo={key:0,class:"text-danger"},Zo=["textContent"],Ko={class:"mb-3"},Jo={for:"country",class:"form-label"},Qo=(0,o._)("span",{class:"text-danger"},"*",-1),Xo=["value","textContent"],ea={class:"row"},ta={class:"col-6"},na={class:"mb-3"},ra={for:"state",class:"form-label"},oa=["value","textContent"],aa={class:"col-6"},sa={class:"mb-3"},ia={for:"suburb",class:"form-label"},la={class:"mb-3"},ua={for:"additional-information",class:"form-label"},ca=(0,o.aZ)({name:"EditAddress",props:{hasErrors:Boolean,errors:Array,hideProfileFields:Boolean,address:Object},setup:function(e,t){var n=t.emit,r=(0,N.iH)([]),a=(0,N.iH)(!1),s=(0,N.iH)([{id:"m",label:oe.profile_salutation_mr},{id:"f",label:oe.profile_salutation_ms},{id:"d",label:oe.profile_salutation_none}]);function i(t){var o;void 0===t&&(t=void 0),r.value=ie.value.activeCountries.find((function(t){var n;return t.isoCode2===(null===(n=e.address)||void 0===n?void 0:n.country.isoCode2)}))||{},a.value=r.value.hasOwnProperty("zones")&&!!r.value.zones.length;var s={id:0,name:""};void 0===t?s=null===(o=e.address)||void 0===o?void 0:o.state:a.value&&(s=r.value.zones[0]),n("edit-address:change-state",s,r.value||"")}return(0,o.bv)((function(){return i()})),{salutations:s,statesList:r,hasStatesZones:a,translations:oe,configurations:ie,updateStatesList:i,triggerValidate:function(){e.hasErrors&&n("trigger-validate")}}}});ca.render=function(e,t,n,s,i,l){return(0,o.wg)(),(0,o.iD)(o.HY,null,[e.hideProfileFields?(0,o.kq)("v-if",!0):((0,o.wg)(),(0,o.iD)("div",ao,[(0,o._)("div",so,[(0,o._)("div",io,[(0,o._)("label",lo,(0,a.zw)(e.translations.profile_salutation),1),(0,o.wy)((0,o._)("select",{id:"salutation",class:"form-select","onUpdate:modelValue":t[0]||(t[0]=t=>e.address.gender=t)},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.salutations,((e,t)=>((0,o.wg)(),(0,o.iD)("option",{key:t,value:e.id,textContent:(0,a.zw)(e.label)},null,8,uo)))),128))],512),[[r.bM,e.address.gender]])])]),(0,o._)("div",co,[(0,o._)("div",fo,[(0,o._)("div",po,[(0,o._)("div",mo,[(0,o._)("label",vo,(0,a.zw)(e.translations.profile_first_name),1),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.address.firstName=t),type:"text",class:(0,a.C_)(["form-control",{"is-invalid":e.errors.firstName}]),id:"first-name","aria-describedby":"first-name-feedback",onBlur:t[2]||(t[2]=(...t)=>e.triggerValidate&&e.triggerValidate(...t))},null,34),[[r.nr,e.address.firstName]]),(0,o._)("div",{id:"first-name-feedback",class:"invalid-feedback",textContent:(0,a.zw)(e.errors.firstName)},null,8,go)])]),(0,o._)("div",ho,[(0,o._)("div",bo,[(0,o._)("label",wo,(0,a.zw)(e.translations.profile_last_name),1),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.address.lastName=t),type:"text",class:(0,a.C_)(["form-control",{"is-invalid":e.errors.lastName}]),id:"last-name","aria-describedby":"last-name-feedback",onBlur:t[4]||(t[4]=(...t)=>e.triggerValidate&&e.triggerValidate(...t))},null,34),[[r.nr,e.address.lastName]]),(0,o._)("div",{id:"last-name-feedback",class:"invalid-feedback",textContent:(0,a.zw)(e.errors.lastName)},null,8,yo)])])])])])),e.hideProfileFields?(0,o.kq)("v-if",!0):((0,o.wg)(),(0,o.iD)("div",_o,[(0,o._)("label",ko,(0,a.zw)(e.translations.profile_company_name),1),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[5]||(t[5]=t=>e.address.companyName=t),type:"text",class:(0,a.C_)(["form-control",{"is-invalid":e.errors.companyName}]),id:"company-name","aria-describedby":"company-name-feedback",onBlur:t[6]||(t[6]=(...t)=>e.triggerValidate&&e.triggerValidate(...t))},null,34),[[r.nr,e.address.companyName]]),(0,o._)("div",{id:"company-name-feedback",class:"invalid-feedback",textContent:(0,a.zw)(e.errors.companyName)},null,8,Co)])),e.configurations.ACCOUNT_SPLIT_STREET_INFORMATION||e.address.houseNumber?((0,o.wg)(),(0,o.iD)("div",xo,[(0,o._)("div",Io,[(0,o._)("div",Eo,[(0,o._)("label",So,[(0,o.Uk)((0,a.zw)(e.translations.profile_street_name)+" ",1),Do]),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[7]||(t[7]=t=>e.address.streetName=t),type:"text",class:(0,a.C_)(["form-control",{"is-invalid":e.errors.streetName}]),id:"street-name","aria-describedby":"street-name-feedback",onBlur:t[8]||(t[8]=(...t)=>e.triggerValidate&&e.triggerValidate(...t))},null,34),[[r.nr,e.address.streetName]]),(0,o._)("div",{id:"street-name-feedback",class:"invalid-feedback",textContent:(0,a.zw)(e.errors.streetName)},null,8,To)])]),(0,o._)("div",Oo,[(0,o._)("div",Po,[(0,o._)("label",No,[(0,o.Uk)((0,a.zw)(e.translations.profile_house_number)+" ",1),Mo]),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[9]||(t[9]=t=>e.address.houseNumber=t),type:"text",class:(0,a.C_)(["form-control",{"is-invalid":e.errors.houseNumber}]),id:"house-number","aria-describedby":"house-number-feedback",onBlur:t[10]||(t[10]=(...t)=>e.triggerValidate&&e.triggerValidate(...t))},null,34),[[r.nr,e.address.houseNumber]]),(0,o._)("div",{id:"house-number-feedback",class:"invalid-feedback",textContent:(0,a.zw)(e.errors.houseNumber)},null,8,Ao)])])])):((0,o.wg)(),(0,o.iD)("div",Go,[(0,o._)("label",Ho,[(0,o.Uk)((0,a.zw)(e.translations.profile_street_name)+" & "+(0,a.zw)(e.translations.profile_house_number)+" ",1),Lo]),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[11]||(t[11]=t=>e.address.streetName=t),type:"text",class:(0,a.C_)(["form-control",{"is-invalid":e.errors.streetName}]),id:"street-name-house-number","aria-describedby":"street-name-house-number-feedback",onBlur:t[12]||(t[12]=(...t)=>e.triggerValidate&&e.triggerValidate(...t))},null,34),[[r.nr,e.address.streetName]]),(0,o._)("div",{id:"street-name-house-number-feedback",class:"invalid-feedback",textContent:(0,a.zw)(e.errors.streetName)},null,8,Uo)])),(0,o._)("div",zo,[(0,o._)("div",jo,[(0,o._)("div",Vo,[(0,o._)("label",Bo,[(0,o.Uk)((0,a.zw)(e.translations.profile_post_code)+" ",1),Fo]),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[13]||(t[13]=t=>e.address.postcode=t),type:"text",class:(0,a.C_)(["form-control",{"is-invalid":e.errors.postcode}]),id:"postcode","aria-describedby":"postcode-feedback",onBlur:t[14]||(t[14]=(...t)=>e.triggerValidate&&e.triggerValidate(...t))},null,34),[[r.nr,e.address.postcode]]),(0,o._)("div",{id:"postcode-feedback",class:"invalid-feedback",textContent:(0,a.zw)(e.errors.postcode)},null,8,qo)])]),(0,o._)("div",Wo,[(0,o._)("div",$o,[(0,o._)("label",Ro,[(0,o.Uk)((0,a.zw)(e.translations.profile_city)+" ",1),0!==e.configurations.ENTRY_CITY_MIN_LENGTH?((0,o.wg)(),(0,o.iD)("span",Yo,"*")):(0,o.kq)("v-if",!0)]),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[15]||(t[15]=t=>e.address.city=t),type:"text",class:(0,a.C_)(["form-control",{"is-invalid":e.errors.city}]),id:"city","aria-describedby":"city-feedback",onBlur:t[16]||(t[16]=(...t)=>e.triggerValidate&&e.triggerValidate(...t))},null,34),[[r.nr,e.address.city]]),(0,o._)("div",{id:"city-feedback",class:"invalid-feedback",textContent:(0,a.zw)(e.errors.city)},null,8,Zo)])])]),(0,o._)("div",Ko,[(0,o._)("label",Jo,[(0,o.Uk)((0,a.zw)(e.translations.profile_country)+" ",1),Qo]),(0,o.wy)((0,o._)("select",{class:"form-select",id:"country","onUpdate:modelValue":t[17]||(t[17]=t=>e.address.country=t),onChange:t[18]||(t[18]=(...t)=>e.updateStatesList&&e.updateStatesList(...t))},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.configurations.activeCountries,((e,t)=>((0,o.wg)(),(0,o.iD)("option",{key:t,value:{name:e.name,isoCode2:e.isoCode2},textContent:(0,a.zw)(e.name)},null,8,Xo)))),128))],544),[[r.bM,e.address.country]])]),(0,o._)("div",ea,[(0,o._)("div",ta,[(0,o._)("div",na,[(0,o._)("label",ra,(0,a.zw)(e.translations.profile_state),1),e.hasStatesZones?(0,o.wy)(((0,o.wg)(),(0,o.iD)("select",{key:0,"onUpdate:modelValue":t[19]||(t[19]=t=>e.address.state=t),class:"form-select",id:"states"},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.statesList.zones,((e,t)=>((0,o.wg)(),(0,o.iD)("option",{key:t,value:e,textContent:(0,a.zw)(e.name),"aria-describedby":"state-feedback"},null,8,oa)))),128))],512)),[[r.bM,e.address.state]]):(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{key:1,"onUpdate:modelValue":t[20]||(t[20]=t=>e.address.state.name=t),id:"states",type:"text","aria-describedby":"state-feedback",class:"form-control"},null,512)),[[r.nr,e.address.state.name]])])]),(0,o._)("div",aa,[(0,o._)("div",sa,[(0,o._)("label",ia,(0,a.zw)(e.translations.profile_suburb),1),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[21]||(t[21]=t=>e.address.suburb=t),type:"text",class:"form-control",id:"suburb"},null,512),[[r.nr,e.address.suburb]])])])]),(0,o._)("div",la,[(0,o._)("label",ua,(0,a.zw)(e.translations.profile_additional_information),1),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[22]||(t[22]=t=>e.address.additionalInformation=t),type:"text",class:"form-control",id:"additional-information"},null,512),[[r.nr,e.address.additionalInformation]])])],64)};const da=ca,fa=(0,o.aZ)({name:"EditLocationInformation",components:{EditAddress:da},props:{hasErrors:Boolean,errors:{type:Array,default:[]},hideProfileFields:{type:Boolean,default:!1},locationInformation:Object},setup:()=>({translations:oe})});fa.render=function(e,t,n,r,a,s){const i=(0,o.up)("edit-address");return(0,o.wg)(),(0,o.j4)(i,{address:e.locationInformation.paymentAddress,"hide-profile-fields":e.hideProfileFields,hasErrors:!!e.errors[Object.keys(e.errors)]&&e.errors[Object.keys(e.errors)].hasErrors,errors:e.errors[Object.keys(e.errors)]?e.errors[Object.keys(e.errors)].fields:{},"onEditAddress:changeState":t[0]||(t[0]=(t,n)=>e.$emit("edit-address:change-state",t,n)),onTriggerValidate:t[1]||(t[1]=t=>e.$emit("trigger-validate"))},null,8,["address","hide-profile-fields","hasErrors","errors"])};const pa=fa;function ma(e){return t=this,n=void 0,o=function(){var t,n;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,G(M+"/admin/api/validate-email","POST",{email:e})];case 1:return[2,{success:!0,value:{success:(t=r.sent()).success,errorCode:t.errorCode||void 0,message:t.message||void 0}}];case 2:throw n=r.sent(),A&&console.error(n),n;case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,a){function s(e){try{l(o.next(e))}catch(e){a(e)}}function i(e){try{l(o.throw(e))}catch(e){a(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,i)}l((o=o.apply(t,n||[])).next())}));var t,n,r,o}function va(e,t){return n=this,r=void 0,a=function(){var n,r,o;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(a){switch(a.label){case 0:return n={},r=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,e.email.length?(String(e.email).toLowerCase().match(r)||(n.email=t.profile_error_invalid_email),[4,ma(e.email)]):(n.email=t.profile_error_empty_field,[2,n]);case 1:return(o=a.sent()).success&&!o.value.success&&(n.email=o.value.message),[2,n]}}))},new((o=void 0)||(o=Promise))((function(e,t){function s(e){try{l(a.next(e))}catch(e){t(e)}}function i(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,i)}l((a=a.apply(n,r||[])).next())}));var n,r,o,a}function ga(e,t,n){var r=[];return Object.entries(e).forEach((function(e){e[0];var o=e[1],a={hasErrors:!1,fields:{}};t.value.ACCOUNT_SPLIT_STREET_INFORMATION?(o.streetName.length||(a.fields.streetName=n.profile_error_empty_field),o.houseNumber.length||(a.fields.houseNumber=n.profile_error_empty_field)):o.streetName.length||(a.fields.streetName=n.profile_error_empty_field),o.postcode.length||(a.fields.postcode=n.profile_error_empty_field),o.city.length||(a.fields.city=n.profile_error_empty_field),a.hasErrors=0!==Object.keys(a.fields).length,r.push(a),a.hasErrors||(r=[])})),r}var ha=function(){return(ha=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const ba=(0,o.aZ)({name:"CreateCustomer",components:{Modal:Qe,EditGeneral:hr,EditPersonalInformation:Ur,EditContactInformation:Zr,EditBusinessInformation:oo,EditLocationInformation:pa},props:{isCreating:Boolean,customerGroups:Array,currency:Object,loading:Boolean},setup(e,{emit:t}){const n=(0,N.iH)([{id:"m",label:oe.profile_salutation_mr},{id:"f",label:oe.profile_salutation_ms},{id:"o",label:oe.profile_salutation_none}]),r=(0,N.iH)(!1),a=(0,N.iH)({customerGroup:ie.value.DEFAULT_CUSTOMERS_STATUS_ID,isGuestAccount:!1,isFavorite:!1,isSubscribed:!1,credit:0,password:"",personalInformation:{gender:"o",firstName:"",lastName:"",dateOfBirth:"",customerNumber:""},contactInformation:{email:"",phoneNumber:"",faxNumber:""},businessInformation:{companyName:"",vatId:"",isTradesperson:!1,isValidVatId:!1},locationInformation:{paymentAddress:{firstName:"",lastName:"",companyName:"",streetName:"",houseNumber:"",postcode:"",city:"",country:{name:ie.value.storeCountry.name||"Germany",isoCode2:ie.value.storeCountry.isoCode2||"DE"},additionalInformation:"",suburb:"",state:{id:0,name:""}}}}),s=(0,N.iH)({EditPersonalInformation:{name:oe.profile_personal_information,component:"EditPersonalInformation",active:!1,errors:{}},EditContactInformation:{name:oe.profile_contact_information,component:"EditContactInformation",active:!1,errors:{}},EditBusinessInformation:{name:oe.profile_business_information,component:"EditBusinessInformation",active:!1,errors:{}},EditLocationInformation:{name:oe.profile_address,component:"EditLocationInformation",active:!1,errors:{}},EditGeneral:{name:oe.overview_settings,component:"EditGeneral",active:!0,errors:{}}});async function i(){return(await function(){return e=this,t=void 0,r=function(){var e;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,G(M+"/admin/api/next-customer-number")];case 1:return[2,{data:{success:!0,value:t.sent().data+""}}];case 2:return e=t.sent(),A&&console.error(e),[2,{data:{success:!1,value:""}}];case 3:return[2]}}))},new((n=void 0)||(n=Promise))((function(o,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function i(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}l((r=r.apply(e,t||[])).next())}));var e,t,n,r}()).data.value}async function l(e){switch(s.value[e].errors={},e){case"EditPersonalInformation":case"EditBusinessInformation":return!0;case"EditContactInformation":const t=await va(a.value.contactInformation,ie);return Object.keys(t).length&&(s.value[e].errors=t),0===Object.keys(s.value[e].errors).length;case"EditLocationInformation":a.value.locationInformation.paymentAddress.firstName=a.value.personalInformation.firstName,a.value.locationInformation.paymentAddress.lastName=a.value.personalInformation.lastName,a.value.locationInformation.paymentAddress.companyName=a.value.businessInformation.companyName;const n=ga(a.value.locationInformation,ie,oe);return Object.keys(n).length&&(s.value[e].errors=n),0===Object.keys(s.value[e].errors).length;case"EditGeneral":if(1===a.value.customerGroup)return!0;const r=function(e,t,n){var r={};return e.password.length||(r.password=n.profile_error_empty_field),r}({password:a.value.password},0,oe);return Object.keys(r).length&&(s.value[e].errors=r),0===Object.keys(s.value[e].errors).length}}(0,o.bv)((async()=>{a.value.personalInformation.customerNumber=await i()}));const u=(0,N.iH)(0);return{genders:n,newCustomer:a,changeCustomerGroup:function(e){a.value.customerGroup=e},changeCustomerPassword:function(e){a.value.password=e},toggleIsFavorite:function(){a.value.isFavorite=!a.value.isFavorite},toggleIsSubscribed:function(){a.value.isSubscribed=!a.value.isSubscribed},changeCustomerCredit:function(e){a.value.credit=e},currentTab:u,formSections:s,changeTab:function(e){u.value=e},nextStep:async function(){if(!await l(Object.keys(s.value)[u.value]))return;if(u.value+1!==Object.keys(s.value).length)return void u.value++;a.value.isGuestAccount=a.value.customerGroup===ie.value.DEFAULT_CUSTOMERS_STATUS_ID_GUEST;const e=(0,N.iH)({...a.value});if(e.value.locationInformation=e.value.locationInformation.paymentAddress,!(await function(e){return t=this,n=void 0,o=function(){var t,n;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=[ha({},e)],[4,fetch(M+"/admin/api/customer-register",{body:JSON.stringify(t),headers:{"Content-Type":"application/json"},method:"POST"})];case 1:return 200===r.sent().status?[2,{success:!0,value:!0}]:[2,{success:!1,error:"ErrorUnknown"}];case 2:return n=r.sent(),A&&console.error(n),[2,{success:!1,error:"ErrorApi"}];case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,a){function s(e){try{l(o.next(e))}catch(e){a(e)}}function i(e){try{l(o.throw(e))}catch(e){a(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,i)}l((o=o.apply(t,n||[])).next())}));var t,n,r,o}(e.value)).success)return lt.create().notifyWarning(oe.error_message,oe.error_heading),void t("toggle:create-customer");if(r.value){const e=new URL(`${re}/admin/mail.php`),t=oe.create_customer_password_email_subject.replace("{shop_url}",ie.value.STORE_NAME),n=oe.create_customer_password_email_body.replace("{shop_url}",re).replace("{firstname}",a.value.personalInformation.firstName).replace("{lastname}",a.value.personalInformation.lastName).replace("{password}",a.value.password);e.searchParams.append("selected_box","tools"),e.searchParams.append("customer",a.value.contactInformation.email),e.searchParams.append("subject",t),e.searchParams.append("message",n),window.location.href=e.href}else lt.create().notifySuccess(),t("toggle:create-customer"),t("update:customers")},validate:l,sendEmail:r,toggleSendEmail:function(){r.value=!r.value},configurations:ie,translations:oe,onChangeState:function(e,t){0===e.id&&(a.value.locationInformation.paymentAddress.state.name=e.name)}}}});ba.render=function(e,t,n,r,s,i){const l=(0,o.up)("EditPersonalInformation"),u=(0,o.up)("EditContactInformation"),c=(0,o.up)("EditBusinessInformation"),d=(0,o.up)("EditLocationInformation"),f=(0,o.up)("EditGeneral"),p=(0,o.up)("Modal");return(0,o.wg)(),(0,o.j4)(p,{id:"create-customer",active:e.isCreating,"is-saving":e.loading,size:"lg","body-padding":!0,primaryActionLabel:e.currentTab+1===Object.keys(e.formSections).length?e.translations.modal_create_customer:e.translations.modal_next,"onClose:modal":t[4]||(t[4]=t=>e.$emit("toggle:create-customer")),onSave:e.nextStep},{title:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.translations.modal_create_customer_title),1)])),content:(0,o.w5)((()=>[(0,o._)("div",En,[(0,o._)("div",Sn,[(0,o._)("ul",Dn,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.formSections,((t,n,r)=>((0,o.wg)(),(0,o.iD)("li",{key:r,class:"nav-item d-grid"},[(0,o._)("button",{onClick:t=>e.changeTab(r),class:(0,a.C_)([{active:e.currentTab===Number(r),disabled:e.currentTab<Number(r)},"btn nav-link"]),"aria-current":"step"},[(0,o.Uk)((0,a.zw)(t.name)+" ",1),e.currentTab>Number(r)&&!Boolean(Object.keys(t.errors).length)?((0,o.wg)(),(0,o.iD)("i",On)):e.currentTab===Number(r)&&Boolean(Object.keys(t.errors).length)?((0,o.wg)(),(0,o.iD)("i",Pn)):(0,o.kq)("v-if",!0)],10,Tn)])))),128))])]),(0,o._)("div",Nn,[(0,o._)("div",Mn,[(0,o._)("div",An,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.formSections,((n,r,a)=>((0,o.wg)(),(0,o.iD)("div",{key:a},[e.currentTab===Number(a)&&"EditPersonalInformation"===r?((0,o.wg)(),(0,o.j4)(l,{key:0,personalInformation:e.newCustomer.personalInformation,genders:e.genders,hasErrors:Boolean(Object.keys(n.errors).length),errors:n.errors,onTriggerValidate:t[0]||(t[0]=t=>e.validate("EditPersonalInformation"))},null,8,["personalInformation","genders","hasErrors","errors"])):(0,o.kq)("v-if",!0),e.currentTab===Number(a)&&"EditContactInformation"===r?((0,o.wg)(),(0,o.j4)(u,{key:1,contactInformation:e.newCustomer.contactInformation,hasErrors:Boolean(Object.keys(n.errors).length),errors:n.errors,onTriggerValidate:t[1]||(t[1]=t=>e.validate("EditContactInformation"))},null,8,["contactInformation","hasErrors","errors"])):(0,o.kq)("v-if",!0),e.currentTab===Number(a)&&"EditBusinessInformation"===r?((0,o.wg)(),(0,o.j4)(c,{key:2,"business-information":e.newCustomer.businessInformation,hasErrors:Boolean(Object.keys(n.errors).length),errors:n.errors,onTriggerValidate:t[2]||(t[2]=t=>e.validate("EditBusinessInformation"))},null,8,["business-information","hasErrors","errors"])):(0,o.kq)("v-if",!0),e.currentTab===Number(a)&&"EditLocationInformation"===r?((0,o.wg)(),(0,o.j4)(d,{key:3,"display-tabs":!1,"hide-profile-fields":!0,"location-information":e.newCustomer.locationInformation,hasErrors:Boolean(Object.keys(n.errors).length),errors:n.errors,"onEditAddress:changeState":e.onChangeState,onTriggerValidate:t[3]||(t[3]=t=>e.validate("EditLocationInformation"))},null,8,["location-information","hasErrors","errors","onEditAddress:changeState"])):(0,o.kq)("v-if",!0),e.currentTab===Number(a)&&"EditGeneral"===r?((0,o.wg)(),(0,o.j4)(f,{key:4,"customer-group":e.newCustomer.customerGroup,"customer-groups":e.customerGroups,"is-favorite":e.newCustomer.isFavorite,"is-subscribed":e.newCustomer.isSubscribed,credit:e.newCustomer.credit,currency:e.currency,"send-email":e.sendEmail,hasErrors:Boolean(Object.keys(n.errors).length),errors:n.errors,"onChange:customerGroup":e.changeCustomerGroup,"onChange:customerCredit":e.changeCustomerCredit,"onToggle:isFavorite":e.toggleIsFavorite,"onToggle:isSubscribed":e.toggleIsSubscribed,"onChange:customerPassword":e.changeCustomerPassword,"onToggle:sendEmail":e.toggleSendEmail},null,8,["customer-group","customer-groups","is-favorite","is-subscribed","credit","currency","send-email","hasErrors","errors","onChange:customerGroup","onChange:customerCredit","onToggle:isFavorite","onToggle:isSubscribed","onChange:customerPassword","onToggle:sendEmail"])):(0,o.kq)("v-if",!0)])))),128))])])])])])),_:1},8,["active","is-saving","primaryActionLabel","onSave"])},ba.__scopeId="data-v-12e2455e";const wa=ba,ya={value:"20"},_a={value:"30"},ka={value:"50"},Ca={value:"100"},xa={class:"pagination d-flex align-items-center justify-content-end ms-auto"},Ia=["disabled","title"],Ea=[(0,o._)("i",{class:"fa fa-angle-left"},null,-1)],Sa={class:"d-inline-block mx-2"},Da=["value"],Ta={class:"ms-0"},Oa=["textContent"],Pa=["disabled","title"],Na=[(0,o._)("i",{class:"fa fa-angle-right"},null,-1)],Ma=(0,o.aZ)({name:"Pagination",props:{meta:{type:Object,required:!1,default:{totalPages:0,totalItems:0,perPage:0,page:0}}},setup:function(e,t){var n=t.emit,r=(0,N.iH)(e.meta.perPage),a=(0,N.iH)(e.meta.page);function s(){n("update:pagination",r.value,a.value)}return(0,o.YP)((function(){return e.meta}),(function(e){a.value>e.totalPages&&(e.page=e.totalPages),a.value=e.page,r.value=e.perPage}),{immediate:!0}),{page:a,itemsPerPage:r,goToPage:function(e){a.value=e,s()},updatePagination:s,translations:oe,changeItemsPerPage:function(){a.value=1,n("save:items-per-page",r.value),s()}}}});Ma.render=function(e,t,n,s,i,l){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",null,[(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.itemsPerPage=t),class:"form-select form-select-sm",onChange:t[1]||(t[1]=(...t)=>e.changeItemsPerPage&&e.changeItemsPerPage(...t))},[(0,o._)("option",ya,"20 "+(0,a.zw)(e.translations.overview_per_page),1),(0,o._)("option",_a,"30 "+(0,a.zw)(e.translations.overview_per_page),1),(0,o._)("option",ka,"50 "+(0,a.zw)(e.translations.overview_per_page),1),(0,o._)("option",Ca,"100 "+(0,a.zw)(e.translations.overview_per_page),1)],544),[[r.bM,e.itemsPerPage]])]),(0,o._)("div",xa,[(0,o._)("span",null,(0,a.zw)(e.meta.page||0)+" "+(0,a.zw)(e.translations.overview_to)+" "+(0,a.zw)(e.meta.perPage)+" ("+(0,a.zw)(e.translations.overview_from)+" "+(0,a.zw)(e.meta.totalItems||0)+" "+(0,a.zw)(e.translations.overview_customers)+")",1),(0,o._)("button",{disabled:!(e.page>1),title:e.translations.overview_page_prev,class:"btn btn-sm btn-default settings-btn",onClick:t[2]||(t[2]=t=>e.goToPage(e.page-1))},Ea,8,Ia),(0,o._)("span",null,(0,a.zw)(e.translations.overview_page),1),(0,o._)("div",Sa,[(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.page=t),class:"form-select form-select-sm",onChange:t[4]||(t[4]=(...t)=>e.updatePagination&&e.updatePagination(...t))},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.meta.totalPages,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e,value:e},(0,a.zw)(e),9,Da)))),128))],544),[[r.bM,e.page]])]),(0,o._)("span",Ta,[(0,o.Uk)((0,a.zw)(e.translations.overview_from)+" ",1),(0,o._)("strong",{textContent:(0,a.zw)(e.meta.totalPages)},null,8,Oa)]),(0,o._)("button",{disabled:e.page+1>e.meta.totalPages,title:e.translations.overview_page_next,onClick:t[5]||(t[5]=t=>e.goToPage(e.page+1)),class:"btn btn-sm btn-default settings-btn"},Na,8,Pa)])],64)};const Aa=Ma;(0,o.dD)("data-v-06db3e4e");const Ga={class:"empty__wrapper"},Ha={class:"empty__icon"},La={class:"empty__text"};(0,o.Cn)();const Ua=(0,o.aZ)({name:"EmptyState",props:{text:String}});Ua.render=function(e,t,n,r,a,s){return(0,o.wg)(),(0,o.iD)("div",Ga,[(0,o._)("div",Ha,[(0,o.WI)(e.$slots,"icon",{},void 0,!0)]),(0,o._)("div",La,[(0,o.WI)(e.$slots,"text",{},void 0,!0),(0,o.WI)(e.$slots,"actions",{},void 0,!0)])])},Ua.__scopeId="data-v-06db3e4e";const za=Ua;var ja,Va=(ja=function(e,t){return(ja=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ja(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});const Ba=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Va(t,e),t}(Error);function Fa(e,t,n){return r=this,o=void 0,s=function(){var r,o,a;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),r=["per-page="+t.perPage(),"page="+t.page(),"sort="+n.type+n.name,"term="+e.searchTerm],[4,G(M+"/admin/api/customers/search?"+r.join("&"))];case 1:return[2,{success:!0,value:{customers:(o=s.sent()).data.customers,additionalInformation:o.data.additionalInformation,_meta:o._meta}}];case 2:throw a=s.sent(),A&&console.error(a),new Ba;case 3:return[2]}}))},new((a=void 0)||(a=Promise))((function(e,t){function n(e){try{l(s.next(e))}catch(e){t(e)}}function i(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof a?r:new a((function(e){e(r)}))).then(n,i)}l((s=s.apply(r,o||[])).next())}));var r,o,a,s}const qa={class:"mb-3 d-flex pt-3"},Wa={style:{"max-width":"20%"}},$a={value:null},Ra={class:"flex-grow-1 ms-3"},Ya=["placeholder"],Za=["label"],Ka=["textContent","value"];var Ja;!function(e){e.CUSTOMER_GROUP="customerGroup",e.IS_FAVORITE="isFavorite"}(Ja||(Ja={}));const Qa=(0,o.aZ)({name:"CustomerGroupsFilter",props:{customerGroups:{type:Array,required:!0}},setup:function(e){var t=(0,N.iH)([]);return(0,o.YP)((function(){return e.customerGroups}),(function(e){t.value.length||(t.value=e.map((function(e){return{id:Ja.CUSTOMER_GROUP+"["+e.id+"]",label:e.label,type:Ja.CUSTOMER_GROUP,value:e.id,multipleSelection:!1}})))})),{groups:t,translations:oe}}});Qa.render=function(e,t,n,r,s,i){return(0,o.wg)(),(0,o.iD)("optgroup",{label:e.translations.overview_customer_group},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.groups,(e=>((0,o.wg)(),(0,o.iD)("option",{key:`customerGroup[${e.id}]`,textContent:(0,a.zw)(e.label),value:e},null,8,Ka)))),128))],8,Za)};const Xa=Qa,es=["value","textContent"],ts=(0,o.aZ)({name:"FavoriteCustomerFilter",setup:function(){return{data:{id:"1",label:oe.overview_filter_favorite,type:Ja.IS_FAVORITE,value:1,multipleSelection:!1}}}});ts.render=function(e,t,n,r,s,i){return(0,o.wg)(),(0,o.iD)("option",{value:e.data,textContent:(0,a.zw)(e.data.label)},null,8,es)};const ns=ts,rs={key:0,class:"filters mb-3"},os={class:"filter-pill"},as=(0,o.Uk)("Unnamed filter"),ss=[(0,o._)("path",{d:"M11 4L4 11",stroke:"#4E4E4E","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),(0,o._)("path",{d:"M4 4L11 11",stroke:"#4E4E4E","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)],is=(0,o.aZ)({name:"FilterPill"});is.render=function(e,t,n,r,a,s){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("span",os,[(0,o.WI)(e.$slots,"title",{},(()=>[as])),(0,o.WI)(e.$slots,"icon",{},(()=>[((0,o.wg)(),(0,o.iD)("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:t[0]||(t[0]=t=>e.$emit("remove:filter"))},ss))]))]),(0,o.kq)('  <a href="#" class="btn btn-sm"><i class="fa fa-pencil"></i></a>'),(0,o.kq)('  <a href="#" class="btn btn-sm"><i class="fa fa-ellipsis-v"></i></a>')],2112)};const ls=is,us=(0,o.aZ)({name:"ActiveFilters",components:{FilterPill:ls},props:{filters:{type:Array,required:!0}},setup:function(e,t){var n=t.emit;return{removeFilter:function(t){e.filters.length||n("active-filter:empty"),n("active-filter:removed",t)}}}});us.render=function(e,t,n,r,s,i){const l=(0,o.up)("filter-pill");return e.filters.length?((0,o.wg)(),(0,o.iD)("div",rs,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.filters,(t=>((0,o.wg)(),(0,o.j4)(l,{key:t.id,"onRemove:filter":n=>e.removeFilter(t)},{title:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(t.label),1)])),_:2},1032,["onRemove:filter"])))),128))])):(0,o.kq)("v-if",!0)};const cs=us;var ds=n(6486);const fs=(0,o.aZ)({name:"OverviewFilters",components:{CustomerGroupsFilter:Xa,FavoriteCustomerFilter:ns,ActiveFilters:cs},props:{customerGroups:{type:Array,required:!0}},setup:function(e,t){var n=t.emit,r=(0,N.iH)(null),a=(0,N.iH)([]),s=(0,N.iH)("");(0,o.bv)((function(){var e=new Proxy(new URLSearchParams(window.location.search),{get:function(e,t){return e.get(t)}});e.search&&(s.value=e.search,n("overview-filter:initial-search",s.value))}));var i=(0,ds.debounce)(c,300);function l(){var e;""!==s.value&&(s.value=""),r.value||u(),n("overview-filter:filter",(e={},a.value.forEach((function(t){e[t.type]=t.value})),e))}function u(){a.value=[],r.value=null}function c(){u(),n("overview-filter:search",s.value)}return{currentFilter:r,selectedFilters:a,searchTerm:s,translations:oe,resetActiveFilters:u,onSearch:i,filterCustomers:l,removedFilter:function(e){a.value=a.value.filter((function(t){return e!==t})),a.value.length?l():c()},addFilter:function(){var e;if(!(null===(e=r.value)||void 0===e?void 0:e.multipleSelection)){var t=a.value.find((function(e){var t;return e.type===(null===(t=r.value)||void 0===t?void 0:t.type)}));t&&(a.value=a.value.filter((function(e){return e.type!==t.type})))}!a.value.find((function(e){var t,n;return e.type===(null===(t=r.value)||void 0===t?void 0:t.type)&&e.id===(null===(n=r.value)||void 0===n?void 0:n.id)}))&&r.value&&a.value.push(r.value),l()}}}});fs.render=function(e,t,n,s,i,l){const u=(0,o.up)("favorite-customer-filter"),c=(0,o.up)("customer-groups-filter"),d=(0,o.up)("active-filters");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",qa,[(0,o._)("div",Wa,[(0,o.wy)((0,o._)("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":t[0]||(t[0]=t=>e.currentFilter=t),onChange:t[1]||(t[1]=(...t)=>e.addFilter&&e.addFilter(...t))},[(0,o._)("option",$a,(0,a.zw)(e.translations.overview_no_filter_selected),1),(0,o.Wm)(u),(0,o.Wm)(c,{"customer-groups":e.customerGroups},null,8,["customer-groups"])],544),[[r.bM,e.currentFilter]])]),(0,o._)("div",Ra,[(0,o.wy)((0,o._)("input",{type:"search",placeholder:e.translations.overview_search_placeholder,class:"form-control","onUpdate:modelValue":t[2]||(t[2]=t=>e.searchTerm=t),onInput:t[3]||(t[3]=(...t)=>e.onSearch&&e.onSearch(...t))},null,40,Ya),[[r.nr,e.searchTerm]])]),(0,o.kq)("    <div>"),(0,o.kq)('      <button type="button" class="btn btn-default settings-btn">'),(0,o.kq)('        <i class="fa fa-cog"></i>'),(0,o.kq)("        {{ translations.overview_settings }}"),(0,o.kq)("      </button>"),(0,o.kq)("    </div>")]),(0,o.Wm)(d,{filters:e.selectedFilters,"onActiveFilter:removed":e.removedFilter,"onActiveFilter:empty":e.resetActiveFilters},null,8,["filters","onActiveFilter:removed","onActiveFilter:empty"])],64)};const ps=fs,ms=["textContent"];function vs(){return e=this,t=void 0,r=function(){var e;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,fetch(M+"/admin/api/delete-guests",{method:"POST"})];case 1:return t.sent(),[2,{success:!0,value:!0}];case 2:return e=t.sent(),A&&console.log(e),[2,{success:!1,error:"Guests could not be deleted!"}];case 3:return[2]}}))},new((n=void 0)||(n=Promise))((function(o,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function i(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}l((r=r.apply(e,t||[])).next())}));var e,t,n,r}const gs=(0,o.aZ)({name:"DeleteGuests",components:{Modal:Qe},props:{isDeleting:Boolean,loading:Boolean},setup:function(e,t){var n=t.emit,r=lt.create();return{translations:oe,onDeleteGuests:function(){return e=this,t=void 0,a=function(){var e;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(t){switch(t.label){case 0:return n("toggle:delete-guests"),n(ae,!0),[4,vs()];case 1:return e=t.sent(),n(ae,!1),e.success&&(r.notifySuccess(oe.overview_delete_guest_accounts_deleted),n("delete:guests")),[2]}}))},new((o=void 0)||(o=Promise))((function(n,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function i(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,i)}l((a=a.apply(e,t||[])).next())}));var e,t,o,a}}}});gs.render=function(e,t,n,r,s,i){const l=(0,o.up)("Modal");return(0,o.wg)(),(0,o.j4)(l,{id:"delete-customer",active:e.isDeleting,"is-saving":e.loading,primaryActionLabel:e.translations.modal_delete,"onClose:modal":t[0]||(t[0]=t=>e.$emit("toggle:delete-guests")),onSave:e.onDeleteGuests},{title:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.translations.overview_delete_guest_accounts),1)])),content:(0,o.w5)((()=>[(0,o._)("p",{class:"mb-0",textContent:(0,a.zw)(e.translations.overview_delete_guest_accounts_modal_body)},null,8,ms)])),_:1},8,["active","is-saving","primaryActionLabel","onSave"])};const hs=gs;function bs(e){return t=this,n=void 0,o=function(){var t,n;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t={CUSTOMERS_PER_PAGE:parseInt(e,10)},[4,fetch(M+"/admin/api/customer-user-configuration",{body:JSON.stringify(t),headers:{"Content-Type":"application/json"},method:"PATCH"})];case 1:return 204===r.sent().status?[2,{success:!0,value:!0}]:[2,{success:!1,error:"ErrorUnknown"}];case 2:return n=r.sent(),A&&console.error(n),[2,{success:!1,error:"ErrorApi"}];case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,a){function s(e){try{l(o.next(e))}catch(e){a(e)}}function i(e){try{l(o.throw(e))}catch(e){a(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,i)}l((o=o.apply(t,n||[])).next())}));var t,n,r,o}var ws=function(){return(ws=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ys=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function i(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}l((r=r.apply(e,t||[])).next())}))},_s=function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}};const ks=(0,o.aZ)({name:"Overview",components:{DeleteGuests:hs,OverviewFilters:ps,EmptyState:za,Row:In,dataTablePagination:Aa,CreateCustomer:wa,Loadable:fn},setup:function(){var e=this,t=(0,N.iH)(),n=(0,N.iH)(),r=(0,N.iH)(),a=(0,N.iH)(!1),s=(0,N.iH)(!1),i=(0,N.iH)(),l=(0,N.iH)(),u=(0,N.iH)(null),c=(0,N.iH)([]),d=(0,N.iH)(),f=(0,N.iH)(""),p=(0,N.iH)({}),m={perPage:20,page:1},v=(0,N.iH)(ws({},m)),g=((0,N.iH)({}),(0,N.iH)(!1)),h=(0,N.iH)(!1),b=(0,N.iH)("");function w(){return ys(this,void 0,void 0,(function(){var e,t,n;return _s(this,(function(r){switch(r.label){case 0:return e=new z(v.value.perPage,v.value.page),t={name:L.RegistrationDate,type:U.DESC},k(!0),[4,H(e,p.value,t)];case 1:return(n=r.sent()).success&&(k(!1),i.value=n.value.customers,u.value=n.value.customerGroups,l.value=n.value.currency,ie.value=ws(ws({},n.value.configurations),{activeCountries:n.value.activeCountries,userConfigurations:n.value.userConfigurations,pageToken:b.value}),le.value=n.value.userId,c.value=n.value.additionalInformation,d.value=n.value._meta,setTimeout(C)),[2]}}))}))}function y(){return ys(this,void 0,void 0,(function(){var e,t,n,r;return _s(this,(function(o){switch(o.label){case 0:return e=new z(v.value.perPage,v.value.page),t={searchTerm:f.value},n={name:L.RegistrationDate,type:U.DESC},k(!0),[4,Fa(t,e,n)];case 1:return(r=o.sent()).success&&(k(!1),i.value=r.value.customers,c.value=r.value.additionalInformation,d.value=r.value._meta,setTimeout(C)),[2]}}))}))}function _(e){var n=e.target||e,r=parseFloat(getComputedStyle(n,null).width.replace("px","")),o=n.scrollLeft;t.value.scrollLeft=o,a.value=o>=1,s.value=r+o<n.scrollWidth}function k(e){var t;null===(t=r.value)||void 0===t||t.dispatchEvent(new CustomEvent(ae,{detail:e}))}function C(){_(n.value),window.dispatchEvent(new Event("gx-admin:fix-footer"))}function x(){v.value.perPage=m.perPage,v.value.page=m.page}return(0,o.Ah)((function(){window.removeEventListener("resize",C)})),(0,o.bv)((function(){return ys(e,void 0,void 0,(function(){return _s(this,(function(e){switch(e.label){case 0:return function(){var e=Array.from(document.getElementsByName("page_token"))[0];b.value=e.value;var t=Array.from(document.getElementsByName("customers_per_page"))[0];v.value.perPage=parseInt(t.value,10)}(),C(),window.addEventListener("resize",C),[4,w()];case 1:return e.sent(),f.value.length&&y(),[2]}}))}))})),{currency:l,currentSearchTerm:f,tableContainer:n,tableHead:t,isLeftShadow:a,isRightShadow:s,handleScrolling:_,users:i,customerGroups:u,usersMeta:d,userEmail:function(e,t){return(e+"."+t+"@example.com").toLowerCase()},translations:oe,isCreating:g,isDeletingGuests:h,toggleCreatingCustomer:function(){g.value=!g.value},toggleDeletingGuests:function(){h.value=!h.value},fetchCustomers:w,saveItemsPerPage:function(e){return ys(this,void 0,void 0,(function(){var t;return _s(this,(function(n){switch(n.label){case 0:return[4,bs(e)];case 1:return(t=n.sent()).success&&window.console.log(t),[2]}}))}))},updatePagination:function(e,t){v.value.perPage=e,v.value.page=t,f.value.length?y():w()},pageLoadingToggle:r,TOGGLE_LOADING_EVENT:ae,updateCustomers:function(){f.value.length?y():w()},searchCustomers:function(e){f.value=e,x(),p.value={},f.value.length?y():w()},filterCustomers:function(e){p.value=e,x(),f.value="",w()},getAddInformationByCustomerId:function(e){return c.value.find((function(t){return t.customerId===e}))}}}});ks.render=function(e,t,n,r,N,M){const A=(0,o.up)("create-customer"),G=(0,o.up)("delete-guests"),H=(0,o.up)("Loadable"),L=(0,o.up)("overview-filters"),U=(0,o.up)("Row"),z=(0,o.up)("EmptyState"),j=(0,o.up)("dataTablePagination");return(0,o.wg)(),(0,o.iD)(o.HY,null,[((0,o.wg)(),(0,o.j4)(o.lR,{to:".content-header"},[(0,o._)("div",s,[(0,o._)("button",{onClick:t[0]||(t[0]=(...t)=>e.toggleDeletingGuests&&e.toggleDeletingGuests(...t)),class:"btn btn-sm btn-default mx-2"},[i,(0,o.Uk)(" "+(0,a.zw)(e.translations.overview_delete_guest_accounts),1)]),(0,o._)("button",{onClick:t[1]||(t[1]=(...t)=>e.toggleCreatingCustomer&&e.toggleCreatingCustomer(...t)),class:"btn btn-sm btn-primary ms-auto"},[l,(0,o.Uk)(" "+(0,a.zw)(e.translations.overview_add_customer),1)]),e.isCreating?((0,o.wg)(),(0,o.j4)(A,{key:0,"is-creating":e.isCreating,currency:e.currency,"customer-groups":e.customerGroups,"onToggle:createCustomer":e.toggleCreatingCustomer,"onUpdate:customers":e.fetchCustomers},null,8,["is-creating","currency","customer-groups","onToggle:createCustomer","onUpdate:customers"])):(0,o.kq)("v-if",!0),(0,o.Wm)(H,{type:"loading-spinner"},{default:(0,o.w5)((({toggle:t})=>[e.isDeletingGuests?((0,o.wg)(),(0,o.j4)(G,{key:0,"is-deleting":e.isDeletingGuests,"onToggle:deleteGuests":e.toggleDeletingGuests,"onDelete:guests":e.fetchCustomers,[(0,a.hR)(e.TOGGLE_LOADING_EVENT)]:t},null,16,["is-deleting","onToggle:deleteGuests","onDelete:guests"])):(0,o.kq)("v-if",!0)])),_:1})])])),(0,o.Wm)(H,{type:"loading-spinner"},{default:(0,o.w5)((({toggle:n,loading:r})=>[(0,o._)("div",{class:(0,a.C_)([{"show-left-shadow":e.isLeftShadow},{"show-right-shadow":e.isRightShadow}])},[(0,o._)("div",u,[(0,o._)("div",c,[(0,o.Wm)(L,{"customer-groups":e.customerGroups,"onOverviewFilter:filter":t[2]||(t[2]=t=>e.filterCustomers(t)),"onOverviewFilter:search":t[3]||(t[3]=t=>e.searchCustomers(t)),"onUpdate:customers":e.updateCustomers,"onOverviewFilter:initialSearch":t[4]||(t[4]=t=>e.currentSearchTerm=t)},null,8,["customer-groups","onUpdate:customers"]),(0,o._)("div",d,[(0,o._)("div",f,[(0,o._)("table",p,[(0,o._)("thead",m,[(0,o._)("tr",null,[(0,o.kq)('                  <th class="sticky" style="left: 0" width="60px">\n                                    <div class="form-check">\n                                      <input class="form-check-input" type="checkbox" value="" />\n                                      <select\n                                        class="form-select form-select-sm d-none"\n                                        aria-label="Default select example"\n                                        style="padding-left: 0; padding-right: 22px; background-position: center"\n                                      >\n                                        <option value="0">Send Email</option>\n                                        <option value="1">Add to Favorites</option>\n                                        <option value="2">Change Customer Group</option>\n                                      </select>\n                                    </div>\n                                  </th>'),(0,o.kq)('                  <th class="sticky" style="left: 0" width="60px">#</th>'),v,(0,o._)("th",g,[(0,o._)("strong",null,(0,a.zw)(e.translations.overview_name),1),(0,o.kq)("                  <svg"),(0,o.kq)('                      style="position: relative; top: -2px; margin-left: 3px"'),(0,o.kq)('                      xmlns="http://www.w3.org/2000/svg"'),(0,o.kq)('                      width="16"'),(0,o.kq)('                      height="16"'),(0,o.kq)('                      viewBox="0 0 24 24"'),(0,o.kq)('                      fill="none"'),(0,o.kq)('                      stroke="currentColor"'),(0,o.kq)('                      stroke-width="2"'),(0,o.kq)('                      stroke-linecap="round"'),(0,o.kq)('                      stroke-linejoin="round"'),(0,o.kq)('                      class="feather feather-arrow-down"'),(0,o.kq)("                  >"),(0,o.kq)('                    <line x1="12" y1="5" x2="12" y2="19"></line>'),(0,o.kq)('                    <polyline points="19 12 12 19 5 12"></polyline>'),(0,o.kq)("                  </svg>")]),(0,o.kq)('                  <th class="sticky last-sticky" style="left: 150px" width="150">Last name</th>'),(0,o._)("th",h,(0,a.zw)(e.translations.overview_email),1),(0,o._)("th",b,(0,a.zw)(e.translations.overview_phone),1),(0,o._)("th",w,(0,a.zw)(e.translations.overview_company),1),(0,o._)("th",y,(0,a.zw)(e.translations.overview_vat_number),1),(0,o._)("th",_,(0,a.zw)(e.translations.overview_customer_group),1),(0,o._)("th",{width:"150",class:"text-truncate",title:e.translations.overview_registration_date},(0,a.zw)(e.translations.overview_registration_date),9,k),(0,o._)("th",C,(0,a.zw)(e.translations.overview_last_login),1),(0,o.kq)('                  <th width="150">Total orders</th>\n                                  <th width="150">Total spent</th>\n                                  <th width="150">Total orders</th>\n                                  <th width="150">Total orders</th>'),x])])])],512)])]),(0,o._)("div",I,[(0,o._)("div",{ref:"tableContainer",id:"table-container",style:{"overflow-x":"auto",width:"100%"},onScrollPassive:t[5]||(t[5]=(...t)=>e.handleScrolling&&e.handleScrolling(...t))},[(0,o._)("table",E,[(0,o._)("tbody",null,[e.users&&e.users.length?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:0},(0,o.Ko)(e.users,(t=>((0,o.wg)(),(0,o.j4)(U,{key:t.id,user:t,"customer-groups":e.customerGroups,"additional-information":e.getAddInformationByCustomerId(t.id),"onUpdate:customers":e.updateCustomers},null,8,["user","customer-groups","additional-information","onUpdate:customers"])))),128)):(0,o.kq)("v-if",!0),r||e.users&&e.users.length?(0,o.kq)("v-if",!0):((0,o.wg)(),(0,o.j4)(z,{key:1,class:"mt-1",translations:e.translations},{icon:(0,o.w5)((()=>[S])),text:(0,o.w5)((()=>[(0,o._)("h4",{class:"mb-1 text-black",textContent:(0,a.zw)(e.translations.overview_no_results)},null,8,D),(0,o._)("p",{class:"mb-4",textContent:(0,a.zw)(e.translations.overview_no_results_hint)},null,8,T)])),_:1},8,["translations"]))])])],544)]),e.usersMeta&&e.usersMeta?.totalItems?((0,o.wg)(),(0,o.iD)("div",O,[(0,o._)("div",P,[(0,o.kq)('        <div>\n                    <select class="form-select form-select-sm" aria-label="Default select example">\n                      <option value="0">Actions</option>\n                      <option value="0">Send Email</option>\n                      <option value="1">Add to Favorites</option>\n                      <option value="2">Change Customer Group</option>\n                    </select>\n                  </div>'),(0,o.Wm)(j,{meta:e.usersMeta,"onSave:itemsPerPage":e.saveItemsPerPage,"onUpdate:pagination":e.updatePagination},null,8,["meta","onSave:itemsPerPage","onUpdate:pagination"])])])):(0,o.kq)("v-if",!0)])],2),(0,o._)("button",{hidden:"",[(0,a.hR)(e.TOGGLE_LOADING_EVENT)]:({detail:e})=>n(e),ref:"pageLoadingToggle"},null,16)])),_:1})],64)};const Cs=ks,xs={class:"ms-auto me-4"},Is=(0,o._)("i",{class:"fa fa-sign-in"},null,-1),Es=["href"],Ss=(0,o._)("i",{class:"fa fa-envelope-o"},null,-1),Ds=(0,o._)("i",{class:"fa fa-shopping-cart"},null,-1),Ts={key:0,class:"card my-4"},Os=(0,o._)("i",{class:"fa fa-group text-black fs-1"},null,-1),Ps=["textContent"],Ns=["innerHTML"],Ms=["href"],As=(0,o._)("i",{class:"fa fa-chevron-left me-1"},null,-1),Gs={key:1,class:"row py-4"},Hs={class:"col-md-4 col-lg-3"},Ls={class:"col-md-8 col-lg-9"},Us={key:0,class:"row"},zs={class:"col-md-7"},js={class:"card"},Vs={id:"tabs",class:"nav nav-tabs"},Bs=["textContent","onClick"],Fs={class:"col-md-5"};function qs(e){return t=this,n=void 0,o=function(){var t,n,r,o;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),t={customerId:e.value()},[4,G(M+"/admin/api/customer-profile","POST",t)];case 1:return n=a.sent(),(r=function(e){return{customer:{id:new Xe(e.customer.id),customerGroup:new et(e.customer.customerGroup),isGuestAccount:e.customer.isGuestAccount,isFavorite:e.customer.isFavorite,personalInformation:e.customer.personalInformation,contactInformation:e.customer.contactInformation,businessInformation:e.customer.businessInformation,credit:e.customer.credit,addresses:e.customer.addresses,disallowedPaymentMethods:e.customer.disallowedPaymentMethods,disallowedShippingMethods:e.customer.disallowedShippingMethods},customerGroups:e.customerGroups,customerMemos:e.customerMemos,address:e.address,history:e.history,disallowedPaymentMethods:e.disallowedPaymentMethods,disallowedShippingMethods:e.disallowedShippingMethods,statistics:e.statistics,currency:e.currency,products:e.products,logAdminActivities:e.logAdminActivities,configurations:e.configurations,userConfigurations:e.userConfigurations,userId:e.userId,activeCountries:e.activeCountries,newsletterSubscriptionStatus:e.newsletterSubscriptionStatus}}(n)).activeCountries.forEach((function(e){Object.keys(e).includes("zones")&&e.zones.length&&e.zones.unshift({id:0,name:""})})),[2,{success:!0,value:{customer:r.customer,customerGroups:r.customerGroups,customerMemos:r.customerMemos,address:r.address,history:r.history,disallowedPaymentMethods:r.disallowedPaymentMethods,disallowedShippingMethods:r.disallowedShippingMethods,statistics:r.statistics,currency:r.currency,products:r.products,logAdminActivities:r.logAdminActivities,configurations:r.configurations,userConfigurations:r.userConfigurations,userId:r.userId,activeCountries:r.activeCountries,newsletterSubscriptionStatus:r.newsletterSubscriptionStatus}}];case 2:return o=a.sent(),A&&console.error(o),[2,{success:!1,error:"Error while fetching customer"}];case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,a){function s(e){try{l(o.next(e))}catch(e){a(e)}}function i(e){try{l(o.throw(e))}catch(e){a(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,i)}l((o=o.apply(t,n||[])).next())}));var t,n,r,o}(0,o.dD)("data-v-1d8fdd9b");const Ws={class:"timeline__wrapper"},$s=["textContent"],Rs={class:"timeline"},Ys=["textContent"],Zs=["innerHTML"],Ks=["innerHTML"],Js={key:2,class:"description"},Qs=["innerHTML"],Xs=["innerHTML"],ei=["innerHTML"],ti=["innerHTML"],ni=["innerHTML"];(0,o.Cn)();const ri=(0,o.aZ)({name:"History",props:{customerId:Number,currentUserID:Number,history:{type:Array,required:!1,default:[]},products:Object},setup:function(e){return{formatDate:kn,DateTimeFormatVariant:ne,newsletterTranslation:function(t){return t.createdByAdmin&&t.admin.id===e.currentUserID?oe.profile_subscribed_to_newsletter_by_you:t.createdByAdmin?oe.profile_subscribed_to_newsletter_by_admin.replace("{admin}",'<a href="/admin/customers/'+(n=t.admin).id+'">'+n.personalInformation.firstName+" "+n.personalInformation.lastName+"</a>"):oe.profile_subscribed_to_newsletter;var n},customHistoryEntry:function(e){return void 0!==e.head&&e.head.length?"<h5>"+e.head+"</h5>"+e.body:e.body},translations:oe,baseUrl:re}}});ri.render=function(e,t,n,r,s,i){return(0,o.wg)(),(0,o.iD)("div",Ws,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.history,((t,n)=>((0,o.wg)(),(0,o.iD)(o.HY,{key:n},[(0,o._)("h4",{textContent:(0,a.zw)(n)},null,8,$s),(0,o._)("ul",Rs,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t,((t,n)=>((0,o.wg)(),(0,o.iD)("li",{class:"event",key:n},[(0,o._)("span",{class:"time",textContent:(0,a.zw)(e.formatDate(t.date,e.DateTimeFormatVariant.TimeOnly))},null,8,Ys),"orders"===t.type?((0,o.wg)(),(0,o.iD)("p",{key:0,class:"description",innerHTML:e.translations.profile_placed_order.replace("{link}",`${e.baseUrl}/admin/orders.php?oID=${t.payload.orders_id}&action=edit`).replace("{order}",`#${t.payload.orders_id}`)+"."},null,8,Zs)):"reviews"===t.type?((0,o.wg)(),(0,o.iD)("p",{key:1,class:"description",innerHTML:e.translations.profile_reviewed_product.replace("{link}",`${e.baseUrl}/product_info.php?info=p${t.payload.products_id}_.html&no_boost=1`).replace("{product}",e.products[t.payload.products_id]?.name??"").replace("{rating}",t.payload.reviews_rating)+"."},null,8,Ks)):"customer"===t.type?((0,o.wg)(),(0,o.iD)("p",Js,["account created"===t.payload.action?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Uk)((0,a.zw)(e.translations.profile_created_account)+". ",1)],2112)):(0,o.kq)("v-if",!0)])):"vouchers"===t.type?((0,o.wg)(),(0,o.iD)("p",{key:3,class:"description",innerHTML:e.translations.profile_redeemed_voucher.replace("{voucherLink}",`/admin/coupon_admin.php?cid=${t.payload.coupon_id}&action=edit`).replace("{voucherDescription}",t.payload.descriptions.en.name).replace("{orderLink}",`${e.baseUrl}/admin/orders.php?oID=${t.payload.order_id}&action=edit`).replace("{orderId}",`#${t.payload.order_id}`)+"."},null,8,Qs)):"cart"===t.type?((0,o.wg)(),(0,o.iD)("p",{key:4,class:"description",innerHTML:e.translations.profile_added_product_to_cart.replace("{link}",`${e.baseUrl}/product_info.php?info=p${t.payload.extended_products_id}_.html&no_boost=1`).replace("{product}",e.products[t.payload.products_id]?.name??"").replace("{quantity}",t.payload.quantity)+"."},null,8,Xs)):"wishlist"===t.type?((0,o.wg)(),(0,o.iD)("p",{key:5,class:"description",innerHTML:e.translations.profile_added_product_to_wishlist.replace("{link}",`${e.baseUrl}/product_info.php?info=p${t.payload.extended_products_id}_.html&no_boost=1`).replace("{product}",e.products[t.payload.products_id]?.name??"").replace("{quantity}",t.payload.quantity)+"."},null,8,ei)):"newsletter"===t.type?((0,o.wg)(),(0,o.iD)("p",{key:6,class:"description",innerHTML:e.newsletterTranslation(t.payload)},null,8,ti)):"custom"===t.type?((0,o.wg)(),(0,o.iD)("p",{key:7,class:"description",innerHTML:e.customHistoryEntry(t.payload)},null,8,ni)):(0,o.kq)("v-if",!0)])))),128))])],64)))),128))])},ri.__scopeId="data-v-1d8fdd9b";const oi=ri;(0,o.dD)("data-v-7a405640");const ai={key:0,class:"orders__wrapper"},si={class:"orders__list"},ii={class:"d-flex align-items-center"},li={class:"order-title"},ui=["href"],ci={class:"ms-2"},di=["textContent"],fi={class:"ms-auto"},pi=["href","title"],mi=[(0,o._)("i",{class:"fa fa-eye"},null,-1)],vi={class:"d-flex my-1"},gi={class:"order-meta"},hi=(0,o._)("i",{class:"fa fa-calendar-o"},null,-1),bi={class:"d-flex"},wi={class:"order-meta"},yi=(0,o._)("i",{class:"fa fa-credit-card-alt"},null,-1),_i={class:"order-meta"},ki=(0,o._)("i",{class:"fa fa-truck"},null,-1),Ci={class:"order-meta"},xi=(0,o._)("i",{class:"fa fa-shopping-cart"},null,-1),Ii=["textContent"],Ei=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"42",height:"42",viewBox:"0 0 24 24",fill:"none",stroke:"#000000","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-file-text"},[(0,o._)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,o._)("polyline",{points:"14 2 14 8 20 8"}),(0,o._)("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),(0,o._)("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),(0,o._)("polyline",{points:"10 9 9 9 8 9"})],-1),Si=["innerHTML"],Di=(0,o._)("i",{class:"fa fa-shopping-cart"},null,-1);(0,o.Cn)();function Ti(e){return t=this,n=void 0,o=function(){var t,n;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t={},[4,G(M+"/admin/api/customer/"+e.value()+"/orders","GET",t)];case 1:return[2,{success:!0,value:r.sent()}];case 2:return n=r.sent(),A&&console.error(n),[2,{success:!1,error:"Orders could not be loaded!"}];case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,a){function s(e){try{l(o.next(e))}catch(e){a(e)}}function i(e){try{l(o.throw(e))}catch(e){a(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,i)}l((o=o.apply(t,n||[])).next())}));var t,n,r,o}const Oi=(0,o.aZ)({name:"Orders",components:{EmptyState:za},props:{customerId:Number,customerName:String},emits:[ae,se],setup:function(e,t){var n=t.emit,r=(0,N.iH)(null),a=new Xe(e.customerId);return(0,o.bv)((function(){!function(){var e,t,o,s;e=this,t=void 0,s=function(){var e;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(t){switch(t.label){case 0:return n(ae,!0),[4,Ti(a)];case 1:return(e=t.sent()).success&&(r.value=e.value,n(ae,!1)),[2]}}))},new((o=void 0)||(o=Promise))((function(n,r){function a(e){try{l(s.next(e))}catch(e){r(e)}}function i(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,i)}l((s=s.apply(e,t||[])).next())}))}()})),{orders:r,triggerCreateOrder:function(){window.console.log("triggerCreateOrder"),n(se)},badgeTextColor:function(e){return e=e.replace("#",""),(299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16))/1e3>=128?"black":"white"},translations:oe,baseUrl:re,formatMoneyValue:yn,formatDate:kn}}});Oi.render=function(e,t,n,r,s,i){const l=(0,o.up)("EmptyState");return e.orders&&Object.values(e.orders).length?((0,o.wg)(),(0,o.iD)("div",ai,[(0,o._)("div",si,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.orders,((t,n)=>((0,o.wg)(),(0,o.iD)("div",{class:"order",key:n},[(0,o._)("div",ii,[(0,o._)("h3",li,[(0,o.Uk)((0,a.zw)(e.translations.profile_order)+": ",1),(0,o._)("a",{href:`${e.baseUrl}/admin/orders.php?oID=${t.orderId}&action=edit`},[(0,o._)("strong",null,"#"+(0,a.zw)(t.orderId),1)],8,ui)]),(0,o._)("div",ci,[(0,o._)("span",{class:"badge",style:(0,a.j5)({backgroundColor:`#${t.orderStatus.color}`,color:e.badgeTextColor(t.orderStatus.color)}),textContent:(0,a.zw)(t.orderStatus.label)},null,12,di)]),(0,o._)("div",fi,[(0,o._)("a",{href:`${e.baseUrl}/admin/orders.php?oID=${t.orderId}&action=edit`,class:"btn btn-sm order-edit",title:e.translations.profile_order_view},mi,8,pi)])]),(0,o._)("div",vi,[(0,o._)("span",gi,[hi,(0,o.Uk)(" "+(0,a.zw)(e.formatDate(t.orderDate)),1)])]),(0,o._)("div",bi,[(0,o._)("span",wi,[yi,(0,o.Uk)(" "+(0,a.zw)(t.paymentMethod),1)]),(0,o._)("span",_i,[ki,(0,o.Uk)(" "+(0,a.zw)(t.shippingCountry),1)]),(0,o._)("span",Ci,[xi,(0,o.Uk)(" "+(0,a.zw)(`${t.productIds.length} ${e.translations.profile_products}`),1)]),(0,o._)("span",{class:"order-meta ms-auto total-sum",textContent:(0,a.zw)(e.formatMoneyValue(t.totalAmount,"EUR"))},null,8,Ii)])])))),128))])])):((0,o.wg)(),(0,o.j4)(l,{key:1},{icon:(0,o.w5)((()=>[Ei])),text:(0,o.w5)((()=>[(0,o._)("p",{innerHTML:e.translations.profile_empty_state_orders.replace("{customer}",`<strong>${e.customerName}</strong>`)},null,8,Si)])),actions:(0,o.w5)((()=>[(0,o._)("button",{onClick:t[0]||(t[0]=(...t)=>e.triggerCreateOrder&&e.triggerCreateOrder(...t)),class:"btn btn-sm btn-primary mb-3"},[Di,(0,o.Uk)(" "+(0,a.zw)(e.translations.profile_new_order),1)])])),_:1}))},Oi.__scopeId="data-v-7a405640";const Pi=Oi,Ni=(0,o.aZ)({name:"Emails"});Ni.render=function(e,t,n,r,o,a){return" Emails "};const Mi=Ni;(0,o.dD)("data-v-471d442c");const Ai={key:0,class:"wishlist__wrapper"},Gi=["textContent"],Hi={class:"flex-shrink-0"},Li=["src","alt"],Ui={class:"flex-grow-1 ms-3"},zi=["href"],ji={class:"wishlist-card-title"},Vi={class:"wishlist-card-title-addition"},Bi={class:"wishlist-card-text"},Fi=(0,o._)("br",null,null,-1),qi=(0,o._)("br",null,null,-1),Wi={class:"empty-wishlist__wrapper"},$i=(0,o._)("svg",{width:"42",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40"},[(0,o._)("path",{d:"M19.19,36a1.16,1.16,0,0,0,1.62,0l12.7-12.61A10,10,0,0,0,20,8.7,10,10,0,0,0,6.5,23.42ZM8.12,10.91a7.6,7.6,0,0,1,5.49-2.26A7.46,7.46,0,0,1,19,10.88l0,0,.18.18a1.15,1.15,0,0,0,1.63,0l.18-.18A7.7,7.7,0,0,1,31.89,21.79L20,33.58,8.12,21.79A7.74,7.74,0,0,1,8.12,10.91Z"})],-1),Ri=["innerHTML"];(0,o.Cn)();function Yi(e){return t=this,n=void 0,o=function(){var t;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,G(M+"/admin/api/customer/"+e.value()+"/wishlist","GET")];case 1:return[2,{success:!0,value:n.sent()}];case 2:return t=n.sent(),A&&console.log(t),[2,{success:!1,error:"Wishlist could not be loaded!"}];case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,a){function s(e){try{l(o.next(e))}catch(e){a(e)}}function i(e){try{l(o.throw(e))}catch(e){a(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,i)}l((o=o.apply(t,n||[])).next())}));var t,n,r,o}function Zi(e){return t=this,n=void 0,o=function(){var t,n;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=M+"/admin/api/customer/"+e.value()+"/wishlist",[4,fetch(t,{method:"DELETE"})];case 1:return r.sent(),[2,{success:!0,value:!0}];case 2:return n=r.sent(),A&&console.log(n),[2,{success:!1,error:"Wishlist could not be loaded!"}];case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,a){function s(e){try{l(o.next(e))}catch(e){a(e)}}function i(e){try{l(o.throw(e))}catch(e){a(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,i)}l((o=o.apply(t,n||[])).next())}));var t,n,r,o}var Ki=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function i(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}l((r=r.apply(e,t||[])).next())}))},Ji=function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}};const Qi=(0,o.aZ)({name:"Wishlist",components:{EmptyState:za},props:{customerId:Number,customerName:String},emits:[ae],setup:function(e,t){var n=t.emit,r=(0,N.iH)(null),a=new Xe(e.customerId);function s(){return Ki(this,void 0,void 0,(function(){var e;return Ji(this,(function(t){switch(t.label){case 0:return n(ae,!0),[4,Yi(a)];case 1:return(e=t.sent()).success&&(r.value=Array.isArray(e.value.items)?function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([],e.value.items,!0).sort((function(e,t){var n=e.addedAt,r=t.addedAt;return new Date(r).getTime()-new Date(n).getTime()})).reduce((function(e,t){return function(){var n;return(e[n=kn(t.addedAt,ne.DateOnly)]||(e[n]=[])).push(t),e}()}),{}):null,n(ae,!1)),[2]}}))}))}return(0,o.bv)((function(){s()})),{wishlist:r,baseUrl:re,translations:oe,deleteWishlist:function(){return Ki(this,void 0,void 0,(function(){return Ji(this,(function(e){switch(e.label){case 0:return n(ae,!0),[4,Zi(a)];case 1:return e.sent().success&&(n(ae,!1),s()),[2]}}))}))}}}});Qi.render=function(e,t,n,r,s,i){const l=(0,o.up)("EmptyState");return e.wishlist&&Object.values(e.wishlist).length?((0,o.wg)(),(0,o.iD)("div",Ai,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.wishlist,((t,n)=>((0,o.wg)(),(0,o.iD)("div",{class:"wishlist__list",key:n},[(0,o._)("h4",{textContent:(0,a.zw)(n)},null,8,Gi),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t,((t,n)=>((0,o.wg)(),(0,o.iD)("div",{class:"wishlist-card d-flex",key:n},[(0,o._)("div",Hi,[(0,o._)("img",{src:`${e.baseUrl}/images/product_images/thumbnail_images/${t.itemDetails.image}`,alt:t.itemDetails.title,class:"wishlist-card-image"},null,8,Li)]),(0,o._)("div",Ui,[(0,o._)("a",{href:`${e.baseUrl}/product_info.php?info=p${t.extendedProductId}_.html&no_boost=1`},[(0,o._)("h5",ji,[(0,o.Uk)((0,a.zw)(t.itemDetails.title)+" ",1),(0,o._)("span",Vi,"("+(0,a.zw)(t.amount)+"x)",1)])],8,zi),(0,o._)("p",Bi,[(0,o._)("strong",null,(0,a.zw)(e.translations.profile_product_number)+":",1),(0,o.Uk)(" "+(0,a.zw)(t.itemDetails.itemNumber),1),Fi]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.selectedOptions,(e=>((0,o.wg)(),(0,o.iD)("p",{class:"wishlist-card-text",key:e.optionKey},[(0,o._)("strong",null,(0,a.zw)(e.optionKey)+":",1),(0,o.Uk)(" "+(0,a.zw)(e.optionValue),1),qi])))),128))])])))),128))])))),128)),(0,o._)("div",Wi,[(0,o._)("button",{class:"btn btn-default",onClick:t[0]||(t[0]=(...t)=>e.deleteWishlist&&e.deleteWishlist(...t))},(0,a.zw)(e.translations.profile_empty_wishlist),1)])])):((0,o.wg)(),(0,o.j4)(l,{key:1},{icon:(0,o.w5)((()=>[$i])),text:(0,o.w5)((()=>[(0,o._)("p",{innerHTML:e.translations.profile_empty_state_wishlist.replace("{customer}",`<strong>${e.customerName}</strong>`)},null,8,Ri)])),_:1}))},Qi.__scopeId="data-v-471d442c";const Xi=Qi;(0,o.dD)("data-v-bd3e0806");const el={key:0,class:"cart__wrapper"},tl=["textContent"],nl={class:"flex-shrink-0"},rl=["src","alt"],ol={class:"flex-grow-1 ms-3"},al=["href"],sl={class:"cart-card-title"},il={class:"cart-card-title-addition"},ll={class:"cart-card-text"},ul=(0,o._)("br",null,null,-1),cl=(0,o._)("br",null,null,-1),dl={class:"empty-cart__wrapper"},fl=(0,o._)("svg",{width:"42",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40"},[(0,o._)("path",{d:"M31,13.66a1.08,1.08,0,0,0-1.07-1H26.08V11.28a6.31,6.31,0,0,0-12.62,0v1.36H9.27a1,1,0,0,0-1,1L5.21,32A3.8,3.8,0,0,0,9,35.8H30.19A3.8,3.8,0,0,0,34,31.94Zm-15.42-1V11.28a4.2,4.2,0,0,1,8.39,0v1.35Zm-1.06,5.59a1.05,1.05,0,0,0,1.06-1.06v-2.4H24v2.4a1.06,1.06,0,0,0,2.12,0v-2.4h2.84L31.86,32a1.68,1.68,0,0,1-1.67,1.68H9a1.67,1.67,0,0,1-1.68-1.61l2.94-17.31h3.19v2.4A1.06,1.06,0,0,0,14.51,18.22Z"})],-1),pl=["innerHTML"];(0,o.Cn)();function ml(e){return t=this,n=void 0,o=function(){var t;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,G(M+"/admin/api/customer/"+e.value()+"/cart","GET")];case 1:return[2,{success:!0,value:n.sent()}];case 2:return t=n.sent(),A&&console.log(t),[2,{success:!1,error:"Cart could not be loaded!"}];case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,a){function s(e){try{l(o.next(e))}catch(e){a(e)}}function i(e){try{l(o.throw(e))}catch(e){a(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,i)}l((o=o.apply(t,n||[])).next())}));var t,n,r,o}function vl(e){return t=this,n=void 0,o=function(){var t,n;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=M+"/admin/api/customer/"+e.value()+"/cart",[4,fetch(t,{method:"DELETE"})];case 1:return r.sent(),[2,{success:!0,value:!0}];case 2:return n=r.sent(),A&&console.log(n),[2,{success:!1,error:"Cart could not be loaded!"}];case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,a){function s(e){try{l(o.next(e))}catch(e){a(e)}}function i(e){try{l(o.throw(e))}catch(e){a(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,i)}l((o=o.apply(t,n||[])).next())}));var t,n,r,o}var gl=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function i(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}l((r=r.apply(e,t||[])).next())}))},hl=function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}};const bl=(0,o.aZ)({name:"Cart",components:{EmptyState:za},props:{customerId:Number,customerName:String},emits:[ae],setup:function(e,t){var n=t.emit,r=(0,N.iH)(null),a=new Xe(e.customerId);function s(){return gl(this,void 0,void 0,(function(){var e;return hl(this,(function(t){switch(t.label){case 0:return n(ae,!0),[4,ml(a)];case 1:return(e=t.sent()).success&&(r.value=Array.isArray(e.value.items)?function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([],e.value.items,!0).sort((function(e,t){var n=e.addedAt,r=t.addedAt;return new Date(r).getTime()-new Date(n).getTime()})).reduce((function(e,t){return function(){var n;return(e[n=kn(t.addedAt,ne.DateOnly)]||(e[n]=[])).push(t),e}()}),{}):null,n(ae,!1)),[2]}}))}))}return(0,o.bv)((function(){s()})),{cart:r,baseUrl:re,translations:oe,deleteCart:function(){return gl(this,void 0,void 0,(function(){return hl(this,(function(e){switch(e.label){case 0:return n(ae,!0),[4,vl(a)];case 1:return e.sent().success&&(n(ae,!1),s()),[2]}}))}))}}}});bl.render=function(e,t,n,r,s,i){const l=(0,o.up)("EmptyState");return e.cart&&Object.values(e.cart).length?((0,o.wg)(),(0,o.iD)("div",el,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.cart,((t,n)=>((0,o.wg)(),(0,o.iD)("div",{class:"cart__list",key:n},[(0,o._)("h4",{textContent:(0,a.zw)(n)},null,8,tl),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t,((t,n)=>((0,o.wg)(),(0,o.iD)("div",{class:"cart-card d-flex",key:n},[(0,o._)("div",nl,[(0,o._)("img",{src:`${e.baseUrl}/images/product_images/thumbnail_images/${t.itemDetails.image}`,alt:t.itemDetails.title,class:"cart-card-image"},null,8,rl)]),(0,o._)("div",ol,[(0,o._)("a",{href:`${e.baseUrl}/product_info.php?info=p${t.extendedProductId}_.html&no_boost=1`},[(0,o._)("h5",sl,[(0,o.Uk)((0,a.zw)(t.itemDetails.title)+" ",1),(0,o._)("span",il,"("+(0,a.zw)(t.amount)+"x)",1)])],8,al),(0,o._)("p",ll,[(0,o._)("strong",null,(0,a.zw)(e.translations.profile_product_number)+":",1),(0,o.Uk)(" "+(0,a.zw)(t.itemDetails.itemNumber),1),ul]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.selectedOptions,(e=>((0,o.wg)(),(0,o.iD)("p",{class:"cart-card-text",key:e.optionKey},[(0,o._)("strong",null,(0,a.zw)(e.optionKey)+":",1),(0,o.Uk)(" "+(0,a.zw)(e.optionValue),1),cl])))),128))])])))),128))])))),128)),(0,o._)("div",dl,[(0,o._)("button",{class:"btn btn-default",onClick:t[0]||(t[0]=(...t)=>e.deleteCart&&e.deleteCart(...t))},(0,a.zw)(e.translations.profile_empty_cart),1)])])):((0,o.wg)(),(0,o.j4)(l,{key:1},{icon:(0,o.w5)((()=>[fl])),text:(0,o.w5)((()=>[(0,o._)("p",{innerHTML:e.translations.profile_empty_state_cart.replace("{customer}",`<strong>${e.customerName}</strong>`)},null,8,pl)])),_:1}))},bl.__scopeId="data-v-bd3e0806";const wl=bl;(0,o.dD)("data-v-61b2e31a");const yl={key:0,class:"review--wrapper"},_l={class:"flex-shrink-0"},kl=["src","alt"],Cl={class:"flex-grow-1 ms-3"},xl=["href"],Il=["textContent"],El=["textContent"],Sl={class:"review-stars"},Dl={class:"review-desc"},Tl=["textContent"],Ol=["href","title"],Pl=[(0,o._)("i",{class:"fa fa-pencil"},null,-1)],Nl=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"42",height:"42",viewBox:"0 0 24 24",fill:"none",stroke:"#000000","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-star"},[(0,o._)("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})],-1),Ml=["innerHTML"];(0,o.Cn)();function Al(e){return t=this,n=void 0,o=function(){var t,n;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t={},[4,G(M+"/admin/api/customer/"+e.value()+"/reviews","GET",t)];case 1:return[2,{success:!0,value:r.sent()}];case 2:return n=r.sent(),A&&console.error(n),[2,{success:!1,error:"Statistics could not be loaded!"}];case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,a){function s(e){try{l(o.next(e))}catch(e){a(e)}}function i(e){try{l(o.throw(e))}catch(e){a(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,i)}l((o=o.apply(t,n||[])).next())}));var t,n,r,o}const Gl=(0,o.aZ)({name:"Reviews",components:{EmptyState:za},props:{customerId:Number,customerName:String},emits:[ae],setup:function(e,t){var n=t.emit,r=(0,N.iH)(null);return(0,o.bv)((function(){!function(){var t,o,a,s;t=this,o=void 0,s=function(){var t;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(o){switch(o.label){case 0:return n(ae,!0),[4,Al(new Xe(e.customerId))];case 1:return(t=o.sent()).success?(r.value=t.value,n(ae,!1),[2]):[2]}}))},new((a=void 0)||(a=Promise))((function(e,n){function r(e){try{l(s.next(e))}catch(e){n(e)}}function i(e){try{l(s.throw(e))}catch(e){n(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(r,i)}l((s=s.apply(t,o||[])).next())}))}()})),{reviews:r,baseUrl:re,translations:oe,formatDate:kn}}});Gl.render=function(e,t,n,r,s,i){const l=(0,o.up)("EmptyState");return e.reviews&&Object.values(e.reviews).length?((0,o.wg)(),(0,o.iD)("div",yl,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.reviews,((t,n)=>((0,o.wg)(),(0,o.iD)("div",{class:"review d-flex",key:n},[(0,o._)("div",_l,[(0,o._)("img",{src:`${e.baseUrl}/images/product_images/thumbnail_images/${t.productImage}`,alt:t.productName,class:"review__product-image"},null,8,kl)]),(0,o._)("div",Cl,[(0,o._)("a",{href:`${e.baseUrl}/product_info.php?info=p${t.productId}_.html&no_boost=1`},[(0,o._)("h3",{class:"review-title",textContent:(0,a.zw)(t.productName)},null,8,Il)],8,xl),(0,o._)("span",{class:"review-time",textContent:(0,a.zw)(e.formatDate(t.creationTime))},null,8,El),(0,o._)("div",Sl,[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(5,((e,n)=>(0,o._)("i",{class:(0,a.C_)(["fa",[{"fa-star":n<t.rating},{"fa-star-o":n>=t.rating}]]),key:n},null,2))),64))]),(0,o._)("div",Dl,[(0,o._)("p",{textContent:(0,a.zw)(t.text)},null,8,Tl)]),(0,o._)("a",{href:`${e.baseUrl}/admin/reviews.php?&rID=${t.reviewId}&action=edit`,class:"btn btn-sm review-edit",title:e.translations.profile_edit},Pl,8,Ol)])])))),128))])):((0,o.wg)(),(0,o.j4)(l,{key:1},{icon:(0,o.w5)((()=>[Nl])),text:(0,o.w5)((()=>[(0,o._)("p",{innerHTML:e.translations.profile_empty_state_reviews.replace("{customer}",`<strong>${e.customerName}</strong>`)},null,8,Ml)])),_:1}))},Gl.__scopeId="data-v-61b2e31a";const Hl=Gl,Ll={class:"sidebar card"};(0,o.dD)("data-v-1085e36e");const Ul={id:"v-card",class:"widget"},zl={class:"d-flex align-items-center"},jl=["textContent"],Vl=["disabled","title"],Bl=[(0,o._)("i",{class:"fa fa-star-o"},null,-1),(0,o._)("i",{class:"fa fa-star"},null,-1)],Fl={class:"dropdown ms-auto"},ql={key:0},Wl=(0,o._)("i",{class:"fa fa-users","aria-hidden":"true"},null,-1),$l={key:1},Rl=(0,o._)("i",{class:"fa fa-unlock-alt","aria-hidden":"true"},null,-1),Yl={key:2},Zl=[(0,o._)("hr",{class:"dropdown-divider"},null,-1)],Kl=(0,o._)("i",{class:"fa fa-cloud-download","aria-hidden":"true"},null,-1),Jl={key:3},Ql=(0,o._)("i",{class:"fa fa-id-card-o","aria-hidden":"true"},null,-1),Xl={key:4},eu=[(0,o._)("hr",{class:"dropdown-divider"},null,-1)],tu={key:5},nu=(0,o._)("i",{class:"fa fa-trash-o"},null,-1),ru=["title","innerHTML","onClick"];(0,o.Cn)(),(0,o.dD)("data-v-cce47f4a");const ou={for:"password",class:"form-label"},au=(0,o._)("span",{class:"text-danger"},"*",-1),su={class:"input-group"},iu=["type","placeholder","aria-label"],lu=["title"],uu=["title"],cu=[(0,o._)("i",{class:"fa fa-repeat","aria-hidden":"true"},null,-1)],du=["textContent"];(0,o.Cn)();const fu=(0,o.aZ)({name:"ChangePassword",components:{Modal:Qe},props:{customerId:Number,isChanging:Boolean,loading:Boolean},setup(e,{emit:t}){const n=(0,N.qj)({hasErrors:!1,errors:{}}),r=(0,N.iH)(!1),a=(0,N.iH)(""),s=()=>{let e="0123456789abcdefghijklmnopqrstuvwxyz!@#$%^&*()ABCDEFGHIJKLMNOPQRSTUVWXYZ",t="";for(let n=0;n<=12;n++){let n=Math.floor(Math.random()*e.length);t+=e.substring(n,n+1)}a.value=t,r.value=!0},i=new Xe(e.customerId);return(0,o.bv)((()=>{s()})),{visibility:r,newPassword:a,...(0,N.BK)(n),generatePassword:s,savePassword:async function(){var e;t(ae,!0),e=a.value,n.errors={},e.length||(n.errors.password=oe.profile_error_password_empty),n.hasErrors=0!==Object.keys(n.errors).length,n.hasErrors||(await function(e,t){return n=this,r=void 0,a=function(){var n,r;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),n={customerId:e.value(),password:t},[4,fetch(M+"/admin/api/change-customer-password",{body:JSON.stringify(n),headers:{"Content-Type":"application/json"},method:"POST"})];case 1:return 201===o.sent().status?[2,{success:!0,value:!0}]:[2,{success:!1,error:"ErrorUnknown"}];case 2:return r=o.sent(),A&&console.error(r),[2,{success:!1,error:"ErrorApi"}];case 3:return[2]}}))},new((o=void 0)||(o=Promise))((function(e,t){function s(e){try{l(a.next(e))}catch(e){t(e)}}function i(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,i)}l((a=a.apply(n,r||[])).next())}));var n,r,o,a}(i,a.value),t("toggle:change-password"),lt.create().notifySuccess(),t("update:customer")),t(ae,!1)},handleOnClose:function(){t("toggle:change-password"),s()},translations:oe}}});fu.render=function(e,t,n,s,i,l){const u=(0,o.up)("Modal");return(0,o.wg)(),(0,o.j4)(u,{id:"change-password",active:e.isChanging,"is-saving":e.loading,"onClose:modal":e.handleOnClose,onSave:e.savePassword},{title:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.translations.profile_change_password),1)])),content:(0,o.w5)((()=>[(0,o._)("label",ou,[(0,o.Uk)((0,a.zw)(e.translations.profile_new_password)+" ",1),au]),(0,o._)("div",su,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.newPassword=t),type:e.visibility?"text":"password",id:"password",class:(0,a.C_)(["form-control",{"is-invalid":e.errors.password}]),placeholder:e.translations.profile_password,"aria-label":e.translations.profile_password,"aria-describedby":"view-password",autocomplete:"off"},null,10,iu),[[r.YZ,e.newPassword]]),(0,o._)("button",{title:e.visibility?e.translations.profile_password_hide:e.translations.profile_password_show,onClick:t[1]||(t[1]=t=>e.visibility=!e.visibility),class:"btn btn-outline-primary",id:"view-password",type:"button"},[(0,o._)("i",{class:(0,a.C_)(["fa",e.visibility?"fa-eye-slash":"fa-eye"]),"aria-hidden":"true"},null,2)],8,lu),(0,o._)("button",{title:e.translations.profile_password_generate,onClick:t[2]||(t[2]=(...t)=>e.generatePassword&&e.generatePassword(...t)),class:"btn btn-outline-primary",id:"generate-password",type:"button"},cu,8,uu)]),(0,o._)("div",{class:(0,a.C_)([{"d-block":e.errors.password},"invalid-feedback"]),id:"view-password-feedback",textContent:(0,a.zw)(e.errors.password)},null,10,du)])),_:1},8,["active","is-saving","onClose:modal","onSave"])},fu.__scopeId="data-v-cce47f4a";const pu=fu;var mu=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function i(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}l((r=r.apply(e,t||[])).next())}))},vu=function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}};const gu=(0,o.aZ)({name:"VCard",components:{DeletePersonalData:$t,ExportPersonalData:Nt,Loadable:fn,ChangeCustomerGroup:ct,ChangePassword:pu,DeleteCustomer:Ot},props:{customerId:{type:Number,required:!0},name:String,badges:Array,customerGroup:Number,customerGroups:Array,isStarred:Boolean},setup:function(e,t){var n=t.emit,r=(0,N.iH)(!1),a=(0,N.iH)(!1),s=new Xe(e.customerId),i=(0,N.iH)(!1),l=(0,N.iH)(!1),u=(0,N.iH)(!1),c=(0,N.iH)(!1),d=(0,N.iH)(!1),f=lt.create();(0,o.bv)((function(){document.addEventListener("click",p)})),(0,o.Ah)((function(){document.removeEventListener("click",p)}));var p=function(e){"dropdownMenuButton1"!==(null==e?void 0:e.target.id)&&(a.value=!1)};function m(){a.value=!1}function v(){u.value=!u.value}function g(){d.value=!d.value,d.value&&m()}return{isSaving:r,changeCustomerGroup:i,changePassword:l,deletingCustomer:u,showOptions:a,exportingPersonalData:c,deletingPersonalData:d,toggleOptions:function(){a.value=!a.value},toggleChangeCustomerGroup:function(){i.value=!i.value},toggleChangePassword:function(){l.value=!l.value},toggleDeleteCustomer:v,switchAction:function(e){switch(e){case"delete-personal-data":v(),g();break;case"delete-customer-account":g(),v()}},updateCustomer:function(){n("update:customer")},makeFavorite:function(){return mu(this,void 0,void 0,(function(){return vu(this,(function(t){switch(t.label){case 0:return n(ae,!0),[4,Cn(s,!e.isStarred)];case 1:return t.sent(),f.notifySuccess(),n("update:customer"),n(ae,!1),[2]}}))}))},deleteUser:function(){return mu(this,void 0,void 0,(function(){return vu(this,(function(e){switch(e.label){case 0:return n(ae,!0),[4,pn(s)];case 1:return e.sent(),f.notifySuccess(oe.profile_customer_deleted),window.location.href=re+"/admin/customers",[2]}}))}))},toggleExportPersonalData:function(){c.value=!c.value,c.value&&m()},toggleDeletePersonalData:g,openBadgeModal:function(e){var t=document.getElementById(e+"-trigger-open");t&&t.click()},closeOptions:m,translations:oe,TOGGLE_LOADING_EVENT:ae}}});gu.render=function(e,t,n,r,s,i){const l=(0,o.up)("change-customer-group"),u=(0,o.up)("Loadable"),c=(0,o.up)("change-password"),d=(0,o.up)("export-personal-data"),f=(0,o.up)("delete-personal-data"),p=(0,o.up)("delete-customer");return(0,o.wg)(),(0,o.iD)("div",Ul,[(0,o._)("div",zl,[(0,o._)("h1",{onClick:t[0]||(t[0]=t=>e.openBadgeModal("personal-information")),class:"mb-0 cursor-pointer",textContent:(0,a.zw)(e.name)},null,8,jl),(0,o._)("button",{class:(0,a.C_)(["btn py-0 px-1 ms-1 btn-star",{"is-starred":e.isStarred}]),disabled:e.isSaving,title:e.isStarred?e.translations.overview_tooltip_customer_favorite_remove:e.translations.overview_tooltip_customer_favorite_add,onClick:t[1]||(t[1]=(...t)=>e.makeFavorite&&e.makeFavorite(...t))},Bl,10,Vl),(0,o._)("div",Fl,[(0,o._)("button",{onClick:t[2]||(t[2]=(...t)=>e.toggleOptions&&e.toggleOptions(...t)),class:(0,a.C_)(["btn dropdown-toggle",{show:e.showOptions}]),type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"true"},null,2),(0,o._)("ul",{class:(0,a.C_)(["dropdown-menu actions-dropdown-menu dropdown-menu-end",{show:e.showOptions}]),"aria-labelledby":"dropdownMenuButton1"},[1!==e.customerId?((0,o.wg)(),(0,o.iD)("li",ql,[(0,o._)("button",{id:"customer-group-trigger-open",class:"dropdown-item",onClick:t[3]||(t[3]=(...t)=>e.toggleChangeCustomerGroup&&e.toggleChangeCustomerGroup(...t))},[Wl,(0,o.Uk)(" "+(0,a.zw)(e.translations.profile_change_customer_group),1)])])):(0,o.kq)("v-if",!0),1!==e.customerGroup?((0,o.wg)(),(0,o.iD)("li",$l,[(0,o._)("button",{onClick:t[4]||(t[4]=(...t)=>e.toggleChangePassword&&e.toggleChangePassword(...t)),class:"dropdown-item"},[Rl,(0,o.Uk)(" "+(0,a.zw)(e.translations.profile_change_password),1)])])):(0,o.kq)("v-if",!0),1!==e.customerId?((0,o.wg)(),(0,o.iD)("li",Yl,Zl)):(0,o.kq)("v-if",!0),(0,o._)("li",null,[(0,o._)("button",{onClick:t[5]||(t[5]=(...t)=>e.toggleExportPersonalData&&e.toggleExportPersonalData(...t)),class:"dropdown-item"},[Kl,(0,o.Uk)(" "+(0,a.zw)(e.translations.profile_export_personal_data),1)])]),1!==e.customerId?((0,o.wg)(),(0,o.iD)("li",Jl,[(0,o._)("button",{onClick:t[6]||(t[6]=(...t)=>e.toggleDeletePersonalData&&e.toggleDeletePersonalData(...t)),class:"dropdown-item"},[Ql,(0,o.Uk)(" "+(0,a.zw)(e.translations.profile_delete_personal_data),1)])])):(0,o.kq)("v-if",!0),1!==e.customerId?((0,o.wg)(),(0,o.iD)("li",Xl,eu)):(0,o.kq)("v-if",!0),1!==e.customerId?((0,o.wg)(),(0,o.iD)("li",tu,[(0,o._)("button",{onClick:t[7]||(t[7]=(...t)=>e.toggleDeleteCustomer&&e.toggleDeleteCustomer(...t)),class:"dropdown-item danger"},[nu,(0,o.Uk)(" "+(0,a.zw)(e.translations.profile_delete_customer),1)])])):(0,o.kq)("v-if",!0)],2)])]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.badges,((t,n)=>((0,o.wg)(),(0,o.iD)("span",{class:(0,a.C_)(["badge rounded-pill mt-2 me-2",t.classes]),key:n,title:t.title,innerHTML:t.label,onClick:n=>e.openBadgeModal(t.blockId)},null,10,ru)))),128)),(0,o.Wm)(u,{type:"loading-spinner"},{default:(0,o.w5)((({toggle:t,loading:n})=>[(0,o.Wm)(l,{"customer-id":e.customerId,"customer-group":e.customerGroup,"customer-groups":e.customerGroups,"is-changing":e.changeCustomerGroup,"customer-name":e.name,"is-profile-page":!0,loading:n,[(0,a.hR)(e.TOGGLE_LOADING_EVENT)]:t,"onToggle:changeCustomerGroup":e.toggleChangeCustomerGroup,"onUpdate:customer":e.updateCustomer},null,16,["customer-id","customer-group","customer-groups","is-changing","customer-name","loading","onToggle:changeCustomerGroup","onUpdate:customer"])])),_:1}),(0,o.Wm)(u,{type:"loading-spinner"},{default:(0,o.w5)((({toggle:t,loading:n})=>[(0,o.Wm)(c,{"customer-id":e.customerId,"is-changing":e.changePassword,loading:n,[(0,a.hR)(e.TOGGLE_LOADING_EVENT)]:t,"onToggle:changePassword":e.toggleChangePassword,"onUpdate:customer":e.updateCustomer},null,16,["customer-id","is-changing","loading","onToggle:changePassword","onUpdate:customer"])])),_:1}),(0,o.Wm)(u,{type:"loading-spinner"},{default:(0,o.w5)((({toggle:t,loading:n})=>[(0,o.Wm)(d,{"customer-id":e.customerId,"is-changing":e.exportingPersonalData,loading:n,[(0,a.hR)(e.TOGGLE_LOADING_EVENT)]:t,"onToggle:exportPersonalData":e.toggleExportPersonalData,"onExportPersonalData:export":e.toggleExportPersonalData},null,16,["customer-id","is-changing","loading","onToggle:exportPersonalData","onExportPersonalData:export"])])),_:1}),(0,o.Wm)(u,{type:"loading-spinner"},{default:(0,o.w5)((({toggle:t,loading:n})=>[(0,o.Wm)(f,{"customer-id":e.customerId,"customer-name":e.name,"is-deleting":e.deletingPersonalData,loading:n,[(0,a.hR)(e.TOGGLE_LOADING_EVENT)]:t,"onToggle:deletePersonalData":e.toggleDeletePersonalData,"onDeletePersonalData:deleted":e.toggleDeletePersonalData,onSwitchAction:e.switchAction},null,16,["customer-id","customer-name","is-deleting","loading","onToggle:deletePersonalData","onDeletePersonalData:deleted","onSwitchAction"])])),_:1}),(0,o.Wm)(u,{type:"loading-spinner"},{default:(0,o.w5)((({toggle:t,loading:n})=>[(0,o.Wm)(p,{"customer-id":e.customerId,"customer-name":e.name,"is-profile-page":!0,"is-deleting":e.deletingCustomer,loading:n,[(0,a.hR)(e.TOGGLE_LOADING_EVENT)]:t,"onToggle:deleteCustomer":e.toggleDeleteCustomer,"onDelete:customer":e.deleteUser,onSwitchAction:e.switchAction},null,16,["customer-id","customer-name","is-deleting","loading","onToggle:deleteCustomer","onDelete:customer","onSwitchAction"])])),_:1})])},gu.__scopeId="data-v-1085e36e";const hu=gu,bu={key:0},wu=(0,o._)("i",{class:"fa fa-hashtag"},null,-1),yu={key:1},_u=(0,o._)("i",{class:"fa fa-user-o"},null,-1),ku={key:2},Cu=(0,o._)("i",{class:"fa fa-calendar-o"},null,-1),xu=["id"],Iu={class:"widget--title"},Eu=["id","title"],Su=[(0,o._)("i",{class:"fa fa-pencil","aria-hidden":"true"},null,-1)],Du={key:0,class:"widget--content"},Tu={key:0},Ou={class:"modal fade show",style:{display:"block"},id:"editInformationModal",tabindex:"-1","aria-labelledby":"editInformationModalLabel","aria-hidden":"true"},Pu={class:"modal-content"},Nu={class:"modal-header"},Mu={class:"modal-title",id:"editInformationModalLabel"},Au=["disabled","aria-label"],Gu={class:"modal-footer"},Hu=["disabled"],Lu=["disabled"],Uu=(0,o.aZ)({name:"Widget",props:{editModal:Boolean,isSaving:{type:Boolean,default:!1},hasContent:{type:Boolean,default:!0},largeModal:{type:Boolean,default:!1},modalBodyPadding:{type:Boolean,default:!0},id:{type:String,required:!0}},setup:()=>({openEditModal:function(){this.$emit("toggle-edit-modal",!0)},closeEditModal:function(){this.$emit("toggle-edit-modal",!1)},triggerSaveInformation:function(){this.$emit("trigger-save-information")},translations:oe})});Uu.render=function(e,t,n,r,s,i){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",{id:e.id,class:"widget"},[(0,o._)("h4",Iu,[(0,o.WI)(e.$slots,"title"),(0,o._)("button",{id:`${e.id}-trigger-open`,title:e.translations.profile_edit,class:"btn btn-sm",onClick:t[0]||(t[0]=(...t)=>e.openEditModal&&e.openEditModal(...t))},Su,8,Eu)]),e.hasContent?((0,o.wg)(),(0,o.iD)("div",Du,[(0,o.WI)(e.$slots,"content")])):(0,o.kq)("v-if",!0)],8,xu),e.editModal?((0,o.wg)(),(0,o.iD)("div",Tu,[(0,o._)("div",Ou,[(0,o._)("div",{class:(0,a.C_)(["modal-dialog modal-dialog-scrollable",{"modal-lg":e.largeModal}])},[(0,o._)("div",Pu,[(0,o._)("div",Nu,[(0,o._)("h5",Mu,[(0,o.WI)(e.$slots,"title")]),(0,o._)("button",{disabled:e.isSaving,onClick:t[1]||(t[1]=(...t)=>e.closeEditModal&&e.closeEditModal(...t)),type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":e.translations.modal_close},null,8,Au)]),(0,o._)("div",{class:(0,a.C_)(["modal-body",{"p-0":!e.modalBodyPadding}])},[(0,o.WI)(e.$slots,"edit-form")],2),(0,o._)("div",Gu,[(0,o._)("button",{onClick:t[2]||(t[2]=(...t)=>e.closeEditModal&&e.closeEditModal(...t)),type:"button",class:"btn","data-bs-dismiss":"modal",disabled:e.isSaving},(0,a.zw)(e.translations.modal_cancel),9,Hu),(0,o._)("button",{onClick:t[3]||(t[3]=(...t)=>e.triggerSaveInformation&&e.triggerSaveInformation(...t)),type:"button",class:"btn btn-primary",disabled:e.isSaving},(0,a.zw)(e.translations.modal_save),9,Lu)])])],2)])])):(0,o.kq)("v-if",!0)],64)};const zu=Uu;const ju=(0,o.aZ)({name:"PersonalInformation",components:{Widget:zu,EditPersonalInformation:Ur},props:{customerId:Number,personalInformation:Object},computed:{customerNumber(){return this.personalInformation.customerNumber?this.personalInformation.customerNumber:""}},setup(e,{emit:t}){const n=(0,N.iH)(!1),r=(0,N.iH)(!1),o=(0,N.iH)({...e.personalInformation,dateOfBirth:e.personalInformation.dateOfBirth.split("T").at(0)}),a=new Xe(e.customerId),s=(0,N.iH)([{id:"m",label:oe.profile_salutation_mr},{id:"f",label:oe.profile_salutation_ms},{id:"o",label:oe.profile_salutation_none}]),i=(0,N.Fl)((()=>s.value.find((t=>t.id===e.personalInformation.gender))?.label||"")),l=(0,N.Fl)((()=>"1000-01-01"===e.personalInformation.dateOfBirth.split("T").shift()?"":kn(e.personalInformation.dateOfBirth,ne.DateOnly)));return{formData:o,birthDatePreview:l,genders:s,genderPreview:i,isEditing:n,isSaving:r,saveInformation:async function(){r.value=!0;const e=await function(e,t){return n=this,r=void 0,a=function(){var n,r;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),n={customerId:e.value(),personalInformation:t},[4,fetch(M+"/admin/api/customer",{body:JSON.stringify(n),headers:{"Content-Type":"application/json"},method:"PATCH"})];case 1:return 204===o.sent().status?[2,{success:!0,value:!0}]:[2,{success:!1,error:"ErrorUnknown"}];case 2:return r=o.sent(),A&&console.error(r),[2,{success:!1,error:"ErrorApi"}];case 3:return[2]}}))},new((o=void 0)||(o=Promise))((function(e,t){function s(e){try{l(a.next(e))}catch(e){t(e)}}function i(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,i)}l((a=a.apply(n,r||[])).next())}));var n,r,o,a}(a,o.value);if(n.value=!1,r.value=!1,e.success)return lt.create().notifySuccess(),void t("update:customer");lt.create().notifyWarning(oe.error_message,oe.error_heading)},toggleEditModal:function(t){n.value=t,o.value={...e.personalInformation,dateOfBirth:e.personalInformation.dateOfBirth.split("T").at(0)}},translations:oe}}});ju.render=function(e,t,n,r,s,i){const l=(0,o.up)("EditPersonalInformation"),u=(0,o.up)("Widget");return(0,o.wg)(),(0,o.j4)(u,{"edit-modal":e.isEditing,"is-saving":e.isSaving,id:"personal-information",onToggleEditModal:e.toggleEditModal,onTriggerSaveInformation:e.saveInformation},{title:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.translations.profile_personal_information),1)])),content:(0,o.w5)((()=>[(0,o._)("ul",null,[e.customerNumber?((0,o.wg)(),(0,o.iD)("li",bu,[wu,(0,o.Uk)(" "+(0,a.zw)(e.customerNumber),1)])):(0,o.kq)("v-if",!0),e.genderPreview?((0,o.wg)(),(0,o.iD)("li",yu,[_u,(0,o.Uk)(" "+(0,a.zw)(e.genderPreview),1)])):(0,o.kq)("v-if",!0),e.birthDatePreview?((0,o.wg)(),(0,o.iD)("li",ku,[Cu,(0,o.Uk)(" "+(0,a.zw)(e.birthDatePreview),1)])):(0,o.kq)("v-if",!0)])])),"edit-form":(0,o.w5)((()=>[(0,o.Wm)(l,{hasErrors:e.hasErrors,errors:e.fields,genders:e.genders,personalInformation:e.formData},null,8,["hasErrors","errors","genders","personalInformation"])])),_:1},8,["edit-modal","is-saving","onToggleEditModal","onTriggerSaveInformation"])};const Vu=ju,Bu={key:0},Fu=(0,o._)("i",{class:"fa fa-envelope-o"},null,-1),qu={key:1},Wu=(0,o._)("i",{class:"fa fa-phone fa-flip-horizontal"},null,-1),$u={key:2},Ru=(0,o._)("i",{class:"fa fa-fax"},null,-1);const Yu=(0,o.aZ)({name:"ContactInformation",components:{Widget:zu,EditContactInformation:Zr},props:{customerId:Number,contactInformation:Object},setup(e,{emit:t}){const n=e.contactInformation.email,r=(0,N.qj)({hasErrors:!1,fields:{}}),a=(0,N.iH)({...e.contactInformation}),s=new Xe(e.customerId),i=(0,N.iH)(!1);async function l(){r.fields={},n!==a.value.email&&(r.fields=await va(a.value,oe)),r.hasErrors=0!==Object.keys(r.fields).length}(0,o.YP)((()=>e.contactInformation),(e=>{i.value=""!==e.email||""!==e.phoneNumber||""!==e.faxNumber}),{immediate:!0});const u=(0,N.iH)(!1),c=(0,N.iH)(!1);return{isEditing:u,isSaving:c,formData:a,hasContent:i,saveInformation:async function(){c.value=!0,await l(a.value),r.hasErrors||(await function(e,t){return n=this,r=void 0,a=function(){var n,r;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),n={customerId:e.value(),contactInformation:t},[4,fetch(M+"/admin/api/customer",{body:JSON.stringify(n),headers:{"Content-Type":"application/json"},method:"PATCH"})];case 1:return 204===o.sent().status?[2,{success:!0,value:!0}]:[2,{success:!1,error:"ErrorUnknown"}];case 2:return r=o.sent(),A&&console.error(r),[2,{success:!1,error:"ErrorApi"}];case 3:return[2]}}))},new((o=void 0)||(o=Promise))((function(e,t){function s(e){try{l(a.next(e))}catch(e){t(e)}}function i(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,i)}l((a=a.apply(n,r||[])).next())}));var n,r,o,a}(s,a.value),u.value=!1,lt.create().notifySuccess(),t("update:customer")),c.value=!1},toggleEditModal:function(t){u.value=t,r.fields={},r.hasErrors=!1,a.value={...e.contactInformation}},translations:oe,validate:l,...(0,N.BK)(r)}}});Yu.render=function(e,t,n,r,s,i){const l=(0,o.up)("EditContactInformation"),u=(0,o.up)("Widget");return(0,o.wg)(),(0,o.j4)(u,{"edit-modal":e.isEditing,"is-saving":e.isSaving,"has-content":e.hasContent,id:"contact-information",onToggleEditModal:e.toggleEditModal,onTriggerSaveInformation:e.saveInformation},{title:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.translations.profile_contact_information),1)])),content:(0,o.w5)((()=>[(0,o._)("ul",null,[e.contactInformation.email?((0,o.wg)(),(0,o.iD)("li",Bu,[Fu,(0,o.Uk)(" "+(0,a.zw)(e.contactInformation.email),1)])):(0,o.kq)("v-if",!0),e.contactInformation.phoneNumber?((0,o.wg)(),(0,o.iD)("li",qu,[Wu,(0,o.Uk)(" "+(0,a.zw)(e.contactInformation.phoneNumber),1)])):(0,o.kq)("v-if",!0),e.contactInformation.faxNumber?((0,o.wg)(),(0,o.iD)("li",$u,[Ru,(0,o.Uk)(" "+(0,a.zw)(e.contactInformation.faxNumber),1)])):(0,o.kq)("v-if",!0)])])),"edit-form":(0,o.w5)((()=>[(0,o.Wm)(l,{hasErrors:e.hasErrors,errors:e.fields,contactInformation:e.formData,onTriggerValidate:e.validate},null,8,["hasErrors","errors","contactInformation","onTriggerValidate"])])),_:1},8,["edit-modal","is-saving","has-content","onToggleEditModal","onTriggerSaveInformation"])};const Zu=Yu,Ku={key:0},Ju={key:1};const Qu=(0,o.aZ)({name:"BusinessInformation",components:{Widget:zu,EditBusinessInformation:oo},props:{customerId:Number,businessInformation:Object},setup(e,{emit:t}){const n=(0,N.iH)({...e.businessInformation}),r=new Xe(e.customerId),a=(0,N.iH)(!1);(0,o.YP)((()=>e.businessInformation),(e=>{a.value=""!==e.companyName||""!==e.vatId}),{immediate:!0});const s=(0,N.iH)(!1),i=(0,N.iH)(!1);return{isEditing:s,isSaving:i,formData:n,hasContent:a,saveInformation:async function(){i.value=!0;const e=await function(e,t){return n=this,r=void 0,a=function(){var n,r;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),n={customerId:e.value(),businessInformation:t},[4,fetch(M+"/admin/api/customer",{body:JSON.stringify(n),headers:{"Content-Type":"application/json"},method:"PATCH"})];case 1:return 204===o.sent().status?[2,{success:!0,value:!0}]:[2,{success:!1,error:"ErrorUnknown"}];case 2:return r=o.sent(),A&&console.error(r),[2,{success:!1,error:"ErrorApi"}];case 3:return[2]}}))},new((o=void 0)||(o=Promise))((function(e,t){function s(e){try{l(a.next(e))}catch(e){t(e)}}function i(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,i)}l((a=a.apply(n,r||[])).next())}));var n,r,o,a}(r,n.value);s.value=!1,i.value=!1,e.success?(lt.create().notifySuccess(),t("update:customer")):lt.create().notifyWarning(e.error)},toggleEditModal:function(t){s.value=t,n.value={...e.businessInformation}},translations:oe}}});Qu.render=function(e,t,n,r,s,i){const l=(0,o.up)("EditBusinessInformation"),u=(0,o.up)("Widget");return(0,o.wg)(),(0,o.j4)(u,{"edit-modal":e.isEditing,"is-saving":e.isSaving,"has-content":e.hasContent,id:"business-information",onToggleEditModal:e.toggleEditModal,onTriggerSaveInformation:e.saveInformation},{title:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.translations.profile_business_information),1)])),content:(0,o.w5)((()=>[(0,o._)("ul",null,[e.businessInformation.companyName?((0,o.wg)(),(0,o.iD)("li",Ku,[(0,o._)("strong",null,(0,a.zw)(e.translations.profile_company_name)+":",1),(0,o.Uk)(" "+(0,a.zw)(e.businessInformation.companyName),1)])):(0,o.kq)("v-if",!0),e.businessInformation.vatId?((0,o.wg)(),(0,o.iD)("li",Ju,[(0,o._)("strong",null,(0,a.zw)(e.translations.profile_vat_id)+":",1),(0,o.Uk)(" "+(0,a.zw)(e.businessInformation.vatId),1)])):(0,o.kq)("v-if",!0)])])),"edit-form":(0,o.w5)((()=>[(0,o.Wm)(l,{hasErrors:e.hasErrors,errors:e.fields,businessInformation:e.formData},null,8,["hasErrors","errors","businessInformation"])])),_:1},8,["edit-modal","is-saving","has-content","onToggleEditModal","onTriggerSaveInformation"])};const Xu=Qu,ec=["innerHTML"];var tc=function(){return(tc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const nc=(0,o.aZ)({name:"Address",components:{Widget:zu,EditLocationInformation:pa},props:{customerId:Number,address:Object},setup(e,{emit:t}){const n=(0,N.qj)({hasErrors:!1,errors:[]}),r=(0,N.iH)({});(0,o.YP)((()=>e.address),(e=>{r.value={paymentAddress:e}}),{immediate:!0});const a=(0,N.iH)(JSON.parse(JSON.stringify(r.value))),s=new Xe(e.customerId),i=(0,N.iH)(!1),l=(0,N.iH)(!1);return{isEditing:i,isSaving:l,formData:a,...(0,N.BK)(n),changeState:function(t,n){n.isoCode2===e.address.country.isoCode2?a.value.paymentAddress.state=e.address.state:a.value.paymentAddress.state=t},previewAddress:e=>{let t="<p>";return t+=`${e.streetName} ${e.houseNumber} <br>`,t+=`${e.postcode} ${e.city} <br>`,(e.suburb.length||e.state.name.length)&&(t+=`${e.suburb} ${e.state.name} <br>`),t+=`${e.country.name}`,e.additionalInformation.length&&(t+=`<br> <small>${e.additionalInformation}</small>`),t+="</p>",t},saveInformation:async function(){if(l.value=!0,n.errors=ga(a.value,ie,oe),!n.errors.length){const e=await function(e,t){return n=this,r=void 0,a=function(){var n,r;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),n=tc({customerId:e.value()},t),[4,fetch(M+"/admin/api/customer-address/update-default",{body:JSON.stringify(n),headers:{"Content-Type":"application/json"},method:"POST"})];case 1:return 201===o.sent().status?[2,{success:!0,value:!0}]:[2,{success:!1,error:"ErrorUnknown"}];case 2:return r=o.sent(),A&&console.error(r),[2,{success:!1,error:"ErrorApi"}];case 3:return[2]}}))},new((o=void 0)||(o=Promise))((function(e,t){function s(e){try{l(a.next(e))}catch(e){t(e)}}function i(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,i)}l((a=a.apply(n,r||[])).next())}));var n,r,o,a}(s,a.value);if(i.value=!1,l.value=!1,!e.success)return void lt.create().notifyWarning(oe.error_message,oe.error_heading);lt.create().notifySuccess(),t("update:customer")}l.value=!1},toggleEditModal:function(e){i.value=e,n.errors=[],n.hasErrors=!1,a.value=JSON.parse(JSON.stringify(r.value))},translations:oe}}});nc.render=function(e,t,n,r,s,i){const l=(0,o.up)("EditLocationInformation"),u=(0,o.up)("Widget");return(0,o.wg)(),(0,o.j4)(u,{"edit-modal":e.isEditing,"is-saving":e.isSaving,id:"location-information",onToggleEditModal:e.toggleEditModal,onTriggerSaveInformation:e.saveInformation},{title:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.translations.profile_address),1)])),content:(0,o.w5)((()=>[(0,o._)("div",{innerHTML:e.previewAddress(e.address)},null,8,ec)])),"edit-form":(0,o.w5)((()=>[(0,o.Wm)(l,{hasErrors:e.hasErrors,errors:e.errors,"location-information":e.formData,"onEditAddress:changeState":e.changeState},null,8,["hasErrors","errors","location-information","onEditAddress:changeState"])])),_:1},8,["edit-modal","is-saving","onToggleEditModal","onTriggerSaveInformation"])};const rc=nc,oc={class:"mb-0"},ac=["textContent"],sc={class:"mb-0"},ic=["textContent"],lc={key:2,class:"mb-0"},uc={class:"mb-3"},cc={for:"payment-modules",class:"form-label"},dc={class:"form-text"},fc={class:"mb-3"},pc={for:"shipping-modules",class:"form-label"},mc={class:"form-text"},vc={for:"email-subscription",class:"form-label"},gc={class:"form-check form-switch"},hc={class:"form-check-label",for:"email-subscription"},bc=["innerHTML"],wc={key:0,class:"mt-3"},yc={for:"log-admin-activity",class:"form-label"},_c={class:"form-check form-switch"},kc={class:"form-check-label",for:"log-admin-activity"},Cc=(0,o.aZ)({name:"EditConfigurations",props:{configurations:Object},setup:()=>({translations:oe})});Cc.render=function(e,t,n,s,i,l){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",uc,[(0,o._)("label",cc,(0,a.zw)(e.translations.profile_disallowed_payment_methods),1),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.configurations.disallowedPaymentMethods=t),type:"text",class:"form-control",id:"payment-modules"},null,512),[[r.nr,e.configurations.disallowedPaymentMethods]]),(0,o._)("div",dc,(0,a.zw)(e.translations.profile_disallowed_payment_methods_hint),1)]),(0,o._)("div",fc,[(0,o._)("label",pc,(0,a.zw)(e.translations.profile_disallowed_shipping_methods),1),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.configurations.disallowedShippingMethods=t),type:"text",class:"form-control",id:"shipping-modules"},null,512),[[r.nr,e.configurations.disallowedShippingMethods]]),(0,o._)("div",mc,(0,a.zw)(e.translations.profile_disallowed_shipping_methods_hint),1)]),(0,o._)("label",vc,(0,a.zw)(e.translations.profile_newsletter_subscription_label),1),(0,o._)("div",gc,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.configurations.newsletterSubscriptionStatus=t),class:"form-check-input",type:"checkbox",role:"switch",id:"email-subscription"},null,512),[[r.e8,e.configurations.newsletterSubscriptionStatus]]),(0,o._)("label",hc,(0,a.zw)(e.translations.profile_newsletter_subscription_option),1),(0,o._)("div",{class:"form-text",innerHTML:e.translations.profile_newsletter_subscription_warning},null,8,bc)]),0===e.configurations.customerGroup?((0,o.wg)(),(0,o.iD)("div",wc,[(0,o._)("label",yc,(0,a.zw)(e.translations.profile_logging),1),(0,o._)("div",_c,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.configurations.logAdminActivities=t),class:"form-check-input",type:"checkbox",role:"switch",id:"log-admin-activity"},null,512),[[r.e8,e.configurations.logAdminActivities]]),(0,o._)("label",kc,(0,a.zw)(e.translations.profile_log_activity),1)])])):(0,o.kq)("v-if",!0)],64)};const xc=Cc;const Ic=(0,o.aZ)({name:"PersonalInformation",components:{Widget:zu,EditConfigurations:xc},props:{customerId:Number,customerGroup:Number,configurations:Array},setup(e,{emit:t}){const n=(0,N.iH)({...e.configurations,customerGroup:e.customerGroup}),r=(0,N.iH)({}),a=(0,N.iH)([]),s=(0,N.iH)([]),i=(0,N.iH)(!1),l=new Xe(e.customerId),u=(0,N.iH)(!1),c=e=>e.split(",").filter((e=>e));(0,o.YP)((()=>e.configurations),(e=>{u.value=""!==e.disallowedPaymentMethods||""!==e.disallowedShippingMethods||e.logAdminActivities,a.value=c(e.disallowedPaymentMethods),s.value=c(e.disallowedShippingMethods),i.value=e.logAdminActivities}),{immediate:!0});const d=(0,N.iH)(!1),f=(0,N.iH)(!1);return{isEditing:d,isSaving:f,formData:n,hasContent:u,disallowedPaymentMethodsList:a,disallowedShippingMethodsList:s,logAdminActivitiesStatus:i,toggleEditModal:function(t){d.value=t,n.value={...e.configurations,customerGroup:e.customerGroup}},saveInformation:async function(){f.value=!0,r.value={disallowedPaymentMethods:c(n.value.disallowedPaymentMethods),disallowedShippingMethods:c(n.value.disallowedShippingMethods)};const o=await function(e,t){return n=this,r=void 0,a=function(){var n,r;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),n={customerId:e.value(),paymentModuleIds:t.disallowedPaymentMethods,shippingModuleIds:t.disallowedShippingMethods},[4,fetch(M+"/admin/api/change-customer-disallowed-payment-and-shipping-modules",{body:JSON.stringify(n),headers:{"Content-Type":"application/json"},method:"POST"})];case 1:return 204===o.sent().status?[2,{success:!0,value:!0}]:[2,{success:!1,error:"ErrorUnknown"}];case 2:return r=o.sent(),A&&console.error(r),[2,{success:!1,error:"ErrorApi"}];case 3:return[2]}}))},new((o=void 0)||(o=Promise))((function(e,t){function s(e){try{l(a.next(e))}catch(e){t(e)}}function i(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,i)}l((a=a.apply(n,r||[])).next())}));var n,r,o,a}(l,r.value);if(window.console.log(o),0===e.customerGroup){const e=await function(e,t){return n=this,r=void 0,a=function(){var n,r;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),n={customerId:e.value(),logActivities:t},[4,fetch(M+"/admin/api/log-admin-activities",{body:JSON.stringify(n),headers:{"Content-Type":"application/json"},method:"PATCH"})];case 1:return 204===o.sent().status?[2,{success:!0,value:!0}]:[2,{success:!1,error:"ErrorUnknown"}];case 2:return r=o.sent(),A&&console.error(r),[2,{success:!1,error:"ErrorApi"}];case 3:return[2]}}))},new((o=void 0)||(o=Promise))((function(e,t){function s(e){try{l(a.next(e))}catch(e){t(e)}}function i(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,i)}l((a=a.apply(n,r||[])).next())}));var n,r,o,a}(l,n.value.logAdminActivities);window.console.log(e)}if(e.configurations.newsletterSubscriptionStatus!==n.value.newsletterSubscriptionStatus){const e=await function(e,t){return n=this,r=void 0,a=function(){var n,r;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),n=[{customerId:e.value(),subscribed:t}],[4,fetch(M+"/admin/api/newsletter-subscription",{body:JSON.stringify(n),headers:{"Content-Type":"application/json"},method:"POST"})];case 1:return 204===o.sent().status?[2,{success:!0,value:!0}]:[2,{success:!1,error:"ErrorUnknown"}];case 2:return r=o.sent(),A&&console.error(r),[2,{success:!1,error:"ErrorApi"}];case 3:return[2]}}))},new((o=void 0)||(o=Promise))((function(e,t){function s(e){try{l(a.next(e))}catch(e){t(e)}}function i(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,i)}l((a=a.apply(n,r||[])).next())}));var n,r,o,a}(l,n.value.newsletterSubscriptionStatus);window.console.log(e)}d.value=!1,f.value=!1,lt.create().notifySuccess(),t("update:customer")},translations:oe}}});Ic.render=function(e,t,n,r,s,i){const l=(0,o.up)("EditConfigurations"),u=(0,o.up)("Widget");return(0,o.wg)(),(0,o.j4)(u,{"edit-modal":e.isEditing,"is-saving":e.isSaving,"has-content":e.hasContent,id:"configurations",onToggleEditModal:e.toggleEditModal,onTriggerSaveInformation:e.saveInformation},{title:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.translations.profile_configurations),1)])),content:(0,o.w5)((()=>[0!==e.disallowedPaymentMethodsList.length?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o._)("p",oc,[(0,o._)("strong",null,(0,a.zw)(e.translations.profile_disallowed_payment_methods)+":",1)]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.disallowedPaymentMethodsList,((e,t)=>((0,o.wg)(),(0,o.iD)("span",{key:t,class:"badge rounded-pill me-2",textContent:(0,a.zw)(e)},null,8,ac)))),128))],64)):(0,o.kq)("v-if",!0),0!==e.disallowedShippingMethodsList.length?((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o._)("p",sc,[(0,o._)("strong",null,(0,a.zw)(e.translations.profile_disallowed_shipping_methods)+":",1)]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.disallowedShippingMethodsList,((e,t)=>((0,o.wg)(),(0,o.iD)("span",{key:t,class:"badge rounded-pill me-2",textContent:(0,a.zw)(e)},null,8,ic)))),128))],64)):(0,o.kq)("v-if",!0),e.logAdminActivitiesStatus?((0,o.wg)(),(0,o.iD)("p",lc,[(0,o._)("strong",null,(0,a.zw)(e.translations.profile_log_activity)+":",1),(0,o.Uk)(" "+(0,a.zw)(e.translations.profile_configurations_log_admin_activities_logging),1)])):(0,o.kq)("v-if",!0)])),"edit-form":(0,o.w5)((()=>[(0,o.Wm)(l,{"customer-id":e.customerId,configurations:e.formData},null,8,["customer-id","configurations"])])),_:1},8,["edit-modal","is-saving","has-content","onToggleEditModal","onTriggerSaveInformation"])};const Ec=Ic,Sc=(0,o.aZ)({name:"Panel",components:{VCard:hu,PersonalInformation:Vu,ContactInformation:Zu,BusinessInformation:Xu,LocationInformation:rc,Configurations:Ec,Loadable:fn},props:{customer:Object,customerGroups:Array,customerAddress:Object,customerConfigurations:Array,customerNewsletterSubscriptionStatus:Boolean},computed:{fullName(){return this.customer.personalInformation.firstName||this.customer.personalInformation.lastName?`${this.customer.personalInformation.firstName} ${this.customer.personalInformation.lastName}`:this.customer.businessInformation.companyName||oe.profile_no_name}},setup(e,{emit:t}){const n=(0,N.iH)([]);function r(){n.value=[];const t=e.customerGroups.find((t=>t.id===e.customer.customerGroup.value()));if(t){const r=1!==e.customer.id?"cursor-pointer":"";n.value.push({blockId:"customer-group",classes:`bg-primary text-white ${r}`,label:t.label})}e.customerNewsletterSubscriptionStatus&&n.value.push({blockId:"configurations",classes:"cursor-pointer",label:`<i class="fa fa-envelope-o" aria-hidden="true"></i> ${oe.profile_newsletter_subscription_badge}`}),e.customer.businessInformation.isTradesperson&&n.value.push({blockId:"business-information",classes:"cursor-pointer",label:oe.profile_tradeperson}),e.customer.businessInformation.vatId&&(e.customer.businessInformation.isValidVatId?n.value.push({blockId:"business-information",classes:"p-1 cursor-pointer",title:oe.profile_vat_id_verified,label:`<i class="fa fa-check-circle" aria-hidden="true" style="color: #0099e5;"></i> ${oe.profile_vat_id}`}):n.value.push({blockId:"business-information",classes:"p-1 cursor-pointer",title:oe.profile_vat_id_not_verified,label:`<i class="fa fa-times-circle-o" aria-hidden="true"></i> ${oe.profile_vat_id}`}))}return(0,o.bv)((()=>{r()})),(0,o.ic)((()=>{r()})),{customerBadges:n,updateCustomer:function(){t("update:customer")},TOGGLE_LOADING_EVENT:ae,configurations:ie}}});Sc.render=function(e,t,n,r,s,i){const l=(0,o.up)("VCard"),u=(0,o.up)("Loadable"),c=(0,o.up)("PersonalInformation"),d=(0,o.up)("ContactInformation"),f=(0,o.up)("BusinessInformation"),p=(0,o.up)("LocationInformation"),m=(0,o.up)("Configurations");return(0,o.wg)(),(0,o.iD)("aside",Ll,[(0,o.Wm)(u,{type:"loading-spinner"},{default:(0,o.w5)((({toggle:t})=>[(0,o.Wm)(l,{name:e.fullName,"customer-id":e.customer.id.value(),badges:e.customerBadges,"customer-group":e.customer.customerGroup.value(),"customer-groups":e.customerGroups,"is-starred":e.customer.isFavorite,[(0,a.hR)(e.TOGGLE_LOADING_EVENT)]:t,"onUpdate:customer":e.updateCustomer},null,16,["name","customer-id","badges","customer-group","customer-groups","is-starred","onUpdate:customer"])])),_:1}),(0,o.Wm)(c,{"onUpdate:customer":e.updateCustomer,"customer-id":e.customer.id.value(),"personal-information":e.customer.personalInformation},null,8,["onUpdate:customer","customer-id","personal-information"]),(0,o.Wm)(d,{"onUpdate:customer":e.updateCustomer,"customer-id":e.customer.id.value(),"contact-information":e.customer.contactInformation},null,8,["onUpdate:customer","customer-id","contact-information"]),(0,o.Wm)(f,{"onUpdate:customer":e.updateCustomer,"customer-id":e.customer.id.value(),"business-information":e.customer.businessInformation},null,8,["onUpdate:customer","customer-id","business-information"]),(0,o.Wm)(p,{"onUpdate:customer":e.updateCustomer,"customer-id":e.customer.id.value(),address:e.customerAddress},null,8,["onUpdate:customer","customer-id","address"]),(0,o.Wm)(m,{"onUpdate:customer":e.updateCustomer,"customer-id":e.customer.id.value(),"customer-group":e.customer.customerGroup.value(),configurations:e.customerConfigurations},null,8,["onUpdate:customer","customer-id","customer-group","configurations"])])};const Dc=Sc,Tc={class:"row mb-4"},Oc={class:"col"},Pc={class:"card stat"},Nc={class:"stat--value"},Mc={class:"stat--label"},Ac={class:"col"},Gc={class:"card stat"},Hc={class:"stat--value"},Lc={class:"stat--label"},Uc={class:"col"},zc={class:"card stat"},jc={class:"stat--value"},Vc={class:"stat--label"},Bc={key:0,class:"col"},Fc={class:"card stat"},qc={class:"stat--value"},Wc={class:"stat--label"},$c=(0,o._)("i",{class:"fa fa-pencil"},null,-1),Rc=(0,o.Uk)(),Yc={class:"btn-label"},Zc={key:0},Kc={class:"modal fade show",style:{display:"block"},id:"editInformationModal",tabindex:"-1","aria-labelledby":"editInformationModalLabel","aria-hidden":"true"},Jc={class:"modal-dialog modal-dialog-scrollable"},Qc={class:"modal-content"},Xc={class:"modal-header"},ed={class:"modal-title",id:"editInformationModalLabel"},td=["aria-label"],nd={class:"modal-body"},rd={class:"mb-0"},od={for:"credit-balance",class:"form-label"},ad={class:"input-group"},sd=["textContent"],id=["title"],ld=[(0,o._)("i",{class:"fa fa-plus"},null,-1)],ud=["title"],cd=[(0,o._)("i",{class:"fa fa-minus"},null,-1)],dd=["textContent"],fd={class:"modal-footer"},pd=["onClick","disabled"];const md=(0,o.aZ)({name:"Statistics",props:{customerId:Xe,customerGroup:et,statistics:Object,currencyCode:String,customerCredit:Number},components:{Loadable:fn},emits:[ae],setup(e,{emit:t}){const n=new Xe(e.customerId),r=(0,N.iH)(e.customerCredit),a=(0,N.iH)(!1),s=(0,N.Fl)((()=>{return{totalSpending:yn(e.statistics.totalSpending,e.currencyCode),averageSpending:yn(e.statistics.averageSpending,e.currencyCode),credit:yn(e.customerCredit,e.currencyCode),numberOfOrders:(t=e.statistics.numberOfOrders,void 0===n&&(n=oe.profile_currency_format_locale),Intl.NumberFormat(n).format(t)),currencySymbol:_n(e.currencyCode)};var t,n})),i=(0,N.iH)(!1);(0,o.YP)((()=>e.customerGroup),(e=>{1!==e&&(i.value=!0)}),{immediate:!0});const l=yn(10,e.currencyCode);function u(){a.value=!1}return{formData:r,addCreditModal:a,openAddCreditModal:function(){r.value=e.customerCredit,a.value=!0},closeCreditModal:u,showBalanceCard:i,addCredit:async function(e){e(!0),await function(e,t){return n=this,r=void 0,a=function(){var n,r;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),n={customerId:e.value(),credit:t},[4,fetch(M+"/admin/api/customer",{body:JSON.stringify(n),headers:{"Content-Type":"application/json"},method:"PATCH"})];case 1:return 204===o.sent().status?[2,{success:!0,value:!0}]:[2,{success:!1,error:"ErrorUnknown"}];case 2:return r=o.sent(),A&&console.error(r),[2,{success:!1,error:"ErrorApi"}];case 3:return[2]}}))},new((o=void 0)||(o=Promise))((function(e,t){function s(e){try{l(a.next(e))}catch(e){t(e)}}function i(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,i)}l((a=a.apply(n,r||[])).next())}));var n,r,o,a}(n,r.value),e(!1),u(),lt.create().notifySuccess(),t("update:customer")},translations:oe,formattedValues:s,creditChangeValueFormatted:l,addCreditValue:function(){r.value+=10},subtractCreditValue:function(){let e=r.value-10;e<0&&(e=0),r.value=e}}}});md.render=function(e,t,n,s,i,l){const u=(0,o.up)("Loadable");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",Tc,[(0,o._)("div",Oc,[(0,o._)("div",Pc,[(0,o._)("span",Nc,(0,a.zw)(e.formattedValues.totalSpending),1),(0,o._)("p",Mc,(0,a.zw)(e.translations.profile_total_spent_to_date),1)])]),(0,o._)("div",Ac,[(0,o._)("div",Gc,[(0,o._)("span",Hc,(0,a.zw)(e.formattedValues.numberOfOrders),1),(0,o._)("p",Lc,(0,a.zw)(e.translations.profile_total_orders),1)])]),(0,o._)("div",Uc,[(0,o._)("div",zc,[(0,o._)("span",jc,(0,a.zw)(e.formattedValues.averageSpending),1),(0,o._)("p",Vc,(0,a.zw)(e.translations.profile_average_order_value),1)])]),e.showBalanceCard?((0,o.wg)(),(0,o.iD)("div",Bc,[(0,o._)("div",Fc,[(0,o._)("span",qc,(0,a.zw)(e.formattedValues.credit),1),(0,o._)("p",Wc,[(0,o.Uk)((0,a.zw)(e.translations.profile_balance)+" ",1),(0,o._)("button",{onClick:t[0]||(t[0]=(...t)=>e.openAddCreditModal&&e.openAddCreditModal(...t)),class:"btn btn-sm btn-primary"},[$c,Rc,(0,o._)("span",Yc,(0,a.zw)(e.translations.profile_balance_edit),1)])])])])):(0,o.kq)("v-if",!0)]),(0,o.Wm)(u,{type:"loading-spinner"},{default:(0,o.w5)((({toggle:n,loading:s})=>[e.addCreditModal?((0,o.wg)(),(0,o.iD)("div",Zc,[(0,o._)("div",Kc,[(0,o._)("div",Jc,[(0,o._)("div",Qc,[(0,o._)("div",Xc,[(0,o._)("h5",ed,(0,a.zw)(e.translations.profile_balance_edit),1),(0,o._)("button",{onClick:t[1]||(t[1]=(...t)=>e.closeCreditModal&&e.closeCreditModal(...t)),type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":e.translations.modal_close},null,8,td)]),(0,o._)("div",nd,[(0,o._)("div",rd,[(0,o._)("label",od,(0,a.zw)(e.translations.profile_balance),1),(0,o._)("div",ad,[(0,o._)("span",{class:"input-group-text",id:"credit-balance-currency",textContent:(0,a.zw)(e.formattedValues.currencySymbol)},null,8,sd),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.formData=t),type:"number",class:"form-control",lang:"de",id:"credit-balance"},null,512),[[r.nr,e.formData]]),(0,o._)("button",{title:e.translations.profile_balance_increment.replace("{amount}",e.creditChangeValueFormatted),class:"btn btn-outline-primary",onClick:t[3]||(t[3]=(...t)=>e.addCreditValue&&e.addCreditValue(...t))},ld,8,id),(0,o._)("button",{title:e.translations.profile_balance_decrement.replace("{amount}",e.creditChangeValueFormatted),class:"btn btn-outline-primary",onClick:t[4]||(t[4]=(...t)=>e.subtractCreditValue&&e.subtractCreditValue(...t))},cd,8,ud)]),(0,o._)("div",{class:"form-text",textContent:(0,a.zw)(e.translations.profile_balance_hint)},null,8,dd)])]),(0,o._)("div",fd,[(0,o._)("button",{onClick:t[5]||(t[5]=(...t)=>e.closeCreditModal&&e.closeCreditModal(...t)),type:"button",class:"btn","data-bs-dismiss":"modal"},(0,a.zw)(e.translations.modal_cancel),1),(0,o._)("button",{onClick:()=>e.addCredit(n),disabled:s,type:"button",class:"btn btn-primary"},(0,a.zw)(e.translations.modal_save),9,pd)])])])])])):(0,o.kq)("v-if",!0)])),_:1})],64)};const vd=md,gd={id:"notes",class:"card"},hd={class:"widget"},bd={class:"widget--title"},wd={class:"widget--content"},yd={key:0},_d={class:"form-group mb-2"},kd=["placeholder"],Cd={key:0,class:"form-group mb-2 d-flex justify-content-end"},xd=["disabled","value"],Id=(0,o.aZ)({name:"MemosAddNew",props:{customerId:Number},setup(e,{emit:t,refs:n}){const r=(0,N.iH)(""),o=(0,N.iH)(!1),a=(0,N.iH)(null),s=()=>{o.value=!0},i=()=>{window.console.log("resetInput"),o.value=!1,r.value="",a.value.blur()};return{memo:r,inputFocused:o,noteInput:a,focusInput:s,focusOutInput:()=>{r.value.length||(o.value=!1)},resetInput:i,addMemo:function(){if(!r.value.length)return void s();const n={creatorId:e.customerId,content:r.value};t("add-memo",n),i()},translations:oe}}});Id.render=function(e,t,n,s,i,l){return(0,o.wg)(),(0,o.iD)("form",{onSubmit:t[5]||(t[5]=(0,r.iM)(((...t)=>e.addMemo&&e.addMemo(...t)),["prevent"]))},[(0,o._)("div",_d,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",placeholder:e.translations.profile_memos_placeholder,autocomplete:"off",ref:"noteInput","onUpdate:modelValue":t[0]||(t[0]=t=>e.memo=t),onFocusin:t[1]||(t[1]=(...t)=>e.focusInput&&e.focusInput(...t)),onFocusout:t[2]||(t[2]=(...t)=>e.focusOutInput&&e.focusOutInput(...t)),onKeydown:t[3]||(t[3]=(0,r.D2)(((...t)=>e.resetInput&&e.resetInput(...t)),["esc"]))},null,40,kd),[[r.nr,e.memo]])]),e.inputFocused?((0,o.wg)(),(0,o.iD)("div",Cd,[(0,o._)("input",{disabled:!e.memo.length,type:"submit",value:e.translations.profile_memos_add,class:"btn btn-sm btn-primary ms-2 order-2"},null,8,xd),(0,o._)("button",{onClick:t[4]||(t[4]=(...t)=>e.resetInput&&e.resetInput(...t)),class:"btn btn-sm btn-default order-1"},(0,a.zw)(e.translations.profile_memos_cancel),1)])):(0,o.kq)("v-if",!0)],32)};const Ed=Id;(0,o.dD)("data-v-170515f0");const Sd={class:"notes-list mt-3"},Dd={key:0,class:"modal fade show",style:{display:"block"},id:"deleteMemoModal",tabindex:"-1","aria-labelledby":"deleteMemoModalLabel","aria-hidden":"true"},Td={class:"modal-dialog modal-dialog-scrollable"},Od={class:"modal-content"},Pd={class:"modal-header"},Nd={class:"modal-title",id:"deleteMemoModalLabel"},Md=["aria-label"],Ad={class:"modal-body"},Gd=["innerHTML"],Hd={class:"notes-list to-delete mt-2 ps-2"},Ld={class:"modal-footer"};(0,o.Cn)(),(0,o.dD)("data-v-45a225d2");const Ud={class:"notes-list-item"},zd=["textContent"],jd={class:"d-flex mb-0"},Vd=["title","textContent"],Bd=["textContent"],Fd=["title"],qd=[(0,o._)("i",{class:"fa fa-trash-o"},null,-1)];(0,o.Cn)();const Wd=(0,o.aZ)({name:"MemosListItem",props:{memo:Object,preview:{type:Boolean,default:!1},currentUserId:{type:Number,required:!1}},setup:(e,{emit:t})=>({deleteMemo:async e=>{t("delete:memo",e)},memoCreator:e=>`${e.personalInformation.firstName} ${e.personalInformation.lastName}`,formatDate:kn,translations:oe})});Wd.render=function(e,t,n,r,s,i){return(0,o.wg)(),(0,o.iD)("li",Ud,[(0,o._)("p",{class:"mb-0",textContent:(0,a.zw)(e.memo.content)},null,8,zd),(0,o._)("p",jd,[(0,o._)("strong",{class:"creator",title:e.memo.creatorId===e.currentUserId?e.memoCreator(e.memo.creator):"",textContent:(0,a.zw)(e.memo.creatorId===e.currentUserId?e.translations.profile_memos_creator:e.memoCreator(e.memo.creator))},null,8,Vd),(0,o._)("i",{class:"ms-2",textContent:(0,a.zw)(e.formatDate(e.memo.creationTime))},null,8,Bd),e.preview?(0,o.kq)("v-if",!0):((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:t[0]||(t[0]=t=>e.deleteMemo(e.memo)),title:e.translations.profile_memos_delete,class:"btn p-0 ms-auto delete-memo"},qd,8,Fd))]),(0,o.kq)("7 days ago.")])},Wd.__scopeId="data-v-45a225d2";const $d=Wd;const Rd=(0,o.aZ)({name:"MemosList",components:{MemosListItem:$d},props:{currentUserId:{type:Number,required:!1},memos:Array},setup(e,{emit:t}){const n=(0,N.iH)(!1),r=(0,N.iH)({}),o=()=>{n.value=!1,r.value={}};return{isDeleting:n,deletingMemo:r,memoCreator:e=>`${e.personalInformation.firstName} ${e.personalInformation.lastName}`,triggerDeleteMemo:e=>{n.value=!0,r.value=e},closeDeleteMemoModal:o,deleteMemo:async e=>{const n=await function(e){return t=this,n=void 0,o=function(){var t;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,fetch(M+"/admin/api/customer/memos/"+e,{body:JSON.stringify({}),headers:{"Content-Type":"application/json"},method:"DELETE"})];case 1:return 204===n.sent().status?[2,{success:!0,value:!0}]:[2,{success:!1,error:"ErrorUnknown"}];case 2:return t=n.sent(),A&&window.console.log(t),[2,{success:!1,error:"ErrorApi"}];case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,a){function s(e){try{l(o.next(e))}catch(e){a(e)}}function i(e){try{l(o.throw(e))}catch(e){a(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,i)}l((o=o.apply(t,n||[])).next())}));var t,n,r,o}(e);window.console.log(n),n.success&&(t("update:customer"),o())},translations:oe}}});Rd.render=function(e,t,n,r,s,i){const l=(0,o.up)("MemosListItem");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("ul",Sd,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.memos,((t,n)=>((0,o.wg)(),(0,o.j4)(l,{key:n,memo:t,"current-user-id":e.currentUserId,"onDelete:memo":e.triggerDeleteMemo},null,8,["memo","current-user-id","onDelete:memo"])))),128))]),((0,o.wg)(),(0,o.j4)(o.lR,{to:".gx-admin-footer"},[e.isDeleting?((0,o.wg)(),(0,o.iD)("div",Dd,[(0,o._)("div",Td,[(0,o._)("div",Od,[(0,o._)("div",Pd,[(0,o._)("h5",Nd,(0,a.zw)(e.translations.profile_memos_delete),1),(0,o._)("button",{onClick:t[0]||(t[0]=(...t)=>e.closeDeleteMemoModal&&e.closeDeleteMemoModal(...t)),type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":e.translations.modal_close},null,8,Md)]),(0,o._)("div",Ad,[(0,o._)("p",{class:"mb-0",innerHTML:e.translations.profile_memos_delete_confirmation.replace("{creator}",e.memoCreator(e.deletingMemo.creator))},null,8,Gd),(0,o._)("ul",Hd,[(0,o.Wm)(l,{memo:e.deletingMemo,"current-user-id":e.currentUserId,preview:!0},null,8,["memo","current-user-id"])])]),(0,o._)("div",Ld,[(0,o._)("button",{onClick:t[1]||(t[1]=(...t)=>e.closeDeleteMemoModal&&e.closeDeleteMemoModal(...t)),type:"button",class:"btn","data-bs-dismiss":"modal"},(0,a.zw)(e.translations.modal_cancel),1),(0,o._)("button",{onClick:t[2]||(t[2]=t=>e.deleteMemo(e.deletingMemo.id)),type:"button",class:"btn btn-primary"},(0,a.zw)(e.translations.modal_delete),1)])])])])):(0,o.kq)("v-if",!0)]))],64)},Rd.__scopeId="data-v-170515f0";const Yd=Rd;const Zd=(0,o.aZ)({name:"Memos",components:{MemosAddNew:Ed,MemosList:Yd},props:{customerId:{type:Number,required:!1},currentUserId:{type:Number,required:!1},memos:Array},setup(e,{emit:t}){const n=(0,N.iH)(!0),r=()=>{t("update:customer")};return(0,o.bv)((()=>{setTimeout((()=>n.value=!1),300)})),{loading:n,addNewMemo:async t=>{const n=new Xe(e.customerId),o=await function(e,t){return n=this,r=void 0,a=function(){var n,r;return function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),n={customerId:e.value(),content:t.content},[4,fetch(M+"/admin/api/customer/memos",{body:JSON.stringify(n),headers:{"Content-Type":"application/json"},method:"POST"})];case 1:return 204===o.sent().status?[2,{success:!0,value:!0}]:[2,{success:!1,error:"ErrorUnknown"}];case 2:return r=o.sent(),A&&window.console.log(r),[2,{success:!1,error:"ErrorApi"}];case 3:return[2]}}))},new((o=void 0)||(o=Promise))((function(e,t){function s(e){try{l(a.next(e))}catch(e){t(e)}}function i(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,i)}l((a=a.apply(n,r||[])).next())}));var n,r,o,a}(n,t);window.console.log(o),o.success&&r()},refreshMemos:r,translations:oe}}});Zd.render=function(e,t,n,r,s,i){const l=(0,o.up)("MemosAddNew"),u=(0,o.up)("MemosList");return(0,o.wg)(),(0,o.iD)("div",gd,[(0,o._)("div",hd,[(0,o._)("h4",bd,(0,a.zw)(e.translations.profile_memos),1),(0,o._)("div",wd,[(0,o.Wm)(l,{"customer-id":e.customerId,onAddMemo:e.addNewMemo},null,8,["customer-id","onAddMemo"]),e.loading&&!e.memos?((0,o.wg)(),(0,o.iD)("h1",yd,(0,a.zw)(e.translations.profile_memo_loading)+"...",1)):(0,o.kq)("v-if",!0),e.memos.length?((0,o.wg)(),(0,o.j4)(u,{key:2,memos:e.memos,"current-user-id":e.currentUserId,"onUpdate:customer":e.refreshMemos},null,8,["memos","current-user-id","onUpdate:customer"])):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,a.zw)(e.translations.profile_memo_empty),1)],2112))])])])};const Kd=Zd;var Jd=function(){return(Jd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Qd=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function i(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}l((r=r.apply(e,t||[])).next())}))},Xd=function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}};const ef=(0,o.aZ)({name:"Profile",components:{EmptyState:za,Modal:Qe,History:oi,Orders:Pi,Emails:Mi,Wishlist:Xi,Cart:wl,Reviews:Hl,SidebarPanel:Dc,Statistics:vd,Memos:Kd,Loadable:fn,LoginAsCustomer:Jt},setup:function(){var e=this,t=(0,N.iH)(),n=(0,N.iH)(""),r=[{id:"history",label:oe.profile_history},{id:"orders",label:oe.profile_orders},{id:"wishlist",label:oe.profile_wishlist},{id:"cart",label:oe.profile_cart},{id:"reviews",label:oe.profile_reviews}],a=(0,N.iH)(r),s=(0,N.iH)("history"),i=(0,N.iH)(!1),l=(0,N.iH)(!1),u=(0,N.iH)(!1),c=function(e){i.value=null!=e?e:!i.value},d=function(){return Qd(e,void 0,void 0,(function(){var e,t;return Xd(this,(function(n){switch(n.label){case 0:return u.value?[4,mn({SHOW_WARNING_ON_LOGIN_AS_CUSTOMER:!u.value})]:[3,2];case 1:(e=n.sent()).success&&window.console.log(e),n.label=2;case 2:return(null===(t=f.value)||void 0===t?void 0:t.id.value())&&C.value&&(window.location.href=re+"/admin/admin.php?do=CustomerLogin&customerId="+f.value.id.value()+"&pageToken="+C.value),[2]}}))}))},f=(0,N.iH)(null),p=(0,N.iH)(null),m=(0,N.iH)(null),v=(0,N.iH)(null),g=(0,N.iH)(null),h=(0,N.iH)({}),b=(0,N.iH)({SHOW_WARNING_ON_LOGIN_AS_CUSTOMER:!1}),w=(0,N.iH)({}),y=(0,N.iH)({}),_=(0,N.iH)({}),k=(0,N.iH)(!1),C=(0,N.iH)(""),x=function(e){return e.personalInformation.firstName||e.personalInformation.lastName?e.personalInformation.firstName+" "+e.personalInformation.lastName:e.businessInformation.companyName||oe.profile_no_name},I=window.location.pathname.split("/").pop(),E=new Xe(I),S=(0,N.iH)(!1);function D(){return Qd(this,void 0,void 0,(function(){var e,t,n,r;return Xd(this,(function(o){switch(o.label){case 0:return T(!0),[4,qs(E)];case 1:return(e=o.sent()).success?(f.value=e.value.customer,p.value=e.value.customerGroups,v.value=e.value.customerMemos,g.value=e.value.address,w.value=e.value.statistics,y.value=e.value.currency,_.value=e.value.products,b.value=e.value.userConfigurations,ie.value=Jd(Jd({},e.value.configurations),{activeCountries:e.value.activeCountries}),le.value=e.value.userId,t=e.value.disallowedPaymentMethods.map((function(e){return e.id})).join(),n=e.value.disallowedShippingMethods.map((function(e){return e.id})).join(),k.value=e.value.newsletterSubscriptionStatus,r=e.value.logAdminActivities,h.value={disallowedPaymentMethods:t,disallowedShippingMethods:n,newsletterSubscriptionStatus:k.value,logAdminActivities:r},m.value=Array.isArray(e.value.history)?function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([],e.value.history,!0).sort((function(e,t){var n=e.date,r=t.date;return new Date(r).getTime()-new Date(n).getTime()})).reduce((function(e,t){var n;return(e[n=kn(t.date,ne.DateOnly)]||(e[n]=[])).push(t),e}),{}):null):S.value=!0,T(!1),[2]}}))}))}function T(e){var n;null===(n=t.value)||void 0===n||n.dispatchEvent(new CustomEvent(ae,{detail:e}))}function O(){document.title=x(f.value)+" "+n.value}return(0,o.m0)((function(){return f.value})),(0,o.wF)((function(){return n.value=document.title})),(0,o.bv)((function(){return Qd(e,void 0,void 0,(function(){return Xd(this,(function(e){switch(e.label){case 0:return[4,D()];case 1:return e.sent(),t=Array.from(document.getElementsByName("page_token"))[0],C.value=t.value,O(),[2]}var t}))}))})),{fetchCustomerID:I,customerDoestExists:S,currentUserID:le,customer:f,customerGroups:p,hideLoginWarning:u,loginAsCustomer:i,handleOnLoginAsCustomer:function(){b.value.SHOW_WARNING_ON_LOGIN_AS_CUSTOMER?c(!0):d()},customerFullName:x,isSigningIn:l,customerHistory:m,customerMemos:v,tabs:a,currentTab:s,customerAddress:g,customerConfigurations:h,customerPreferences:b,customerNewsletterSubscriptionStatus:k,switchTab:function(e){s.value=e},toggleLoginAsCustomerModal:c,toggleHideLoginWarning:function(){u.value=!u.value},performLoginAsCustomer:d,updateCustomer:function(){return Qd(this,void 0,void 0,(function(){return Xd(this,(function(e){switch(e.label){case 0:return[4,D()];case 1:return e.sent(),O(),[2]}}))}))},translations:oe,baseUrl:re,TOGGLE_LOADING_EVENT:ae,TRIGGER_CREATE_ORDER:se,pageLoadingToggle:t,pageToken:C,customerStatistics:w,currencyMetaData:y,customerProducts:_,performCreateOrder:function(){return Qd(this,void 0,void 0,(function(){var e;return Xd(this,(function(t){switch(t.label){case 0:return T(!0),[4,vn(E)];case 1:return(e=t.sent()).success&&(T(!1),window.location.href=re+"/admin/orders.php?oID="+e.value+"&action=edit"),[2]}}))}))}}}});ef.render=function(e,t,n,r,s,i){const l=(0,o.up)("login-as-customer"),u=(0,o.up)("EmptyState"),c=(0,o.up)("SidebarPanel"),d=(0,o.up)("Statistics"),f=(0,o.up)("Loadable"),p=(0,o.up)("Memos");return(0,o.wg)(),(0,o.iD)(o.HY,null,[((0,o.wg)(),(0,o.j4)(o.lR,{to:".content-header"},[(0,o._)("div",xs,[e.customer&&e.pageToken&&e.customer.customerGroup.value()>0?((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:t[0]||(t[0]=(...t)=>e.handleOnLoginAsCustomer&&e.handleOnLoginAsCustomer(...t)),class:"btn btn-sm btn-default"},[Is,(0,o.Uk)(" "+(0,a.zw)(e.translations.profile_login_as_customer),1)])):(0,o.kq)("v-if",!0),e.loginAsCustomer?((0,o.wg)(),(0,o.j4)(l,{key:1,loginAsCustomer:e.loginAsCustomer,"is-signing-in":e.isSigningIn,"hide-login-warning":e.hideLoginWarning,"is-profile-page":!0,"customer-name":e.customerFullName(e.customer),"onToggle:hideLoginWarning":e.toggleHideLoginWarning,"onClose:modal":t[1]||(t[1]=()=>e.toggleLoginAsCustomerModal(!1)),onSave:e.performLoginAsCustomer},null,8,["loginAsCustomer","is-signing-in","hide-login-warning","customer-name","onToggle:hideLoginWarning","onSave"])):(0,o.kq)("v-if",!0),e.customer&&e.customer?.contactInformation?.email&&e.customer.id.value()!==e.currentUserID?((0,o.wg)(),(0,o.iD)("a",{key:2,href:`${e.baseUrl}/admin/admin.php?do=Emails&mailto=${e.customer.contactInformation.email}`,class:"btn btn-sm btn-default ms-2"},[Ss,(0,o.Uk)(" "+(0,a.zw)(e.translations.profile_email),1)],8,Es)):(0,o.kq)("v-if",!0),e.customer?((0,o.wg)(),(0,o.iD)("a",{key:3,onClick:t[2]||(t[2]=(...t)=>e.performCreateOrder&&e.performCreateOrder(...t)),class:"btn btn-sm btn-primary ms-2"},[Ds,(0,o.Uk)(" "+(0,a.zw)(e.translations.profile_new_order),1)])):(0,o.kq)("v-if",!0)])])),(0,o.Wm)(f,{type:"loading-spinner"},{default:(0,o.w5)((({toggle:t})=>[e.customerDoestExists?((0,o.wg)(),(0,o.iD)("div",Ts,[(0,o.Wm)(u,{class:"mt-1"},{icon:(0,o.w5)((()=>[Os])),text:(0,o.w5)((()=>[(0,o._)("h4",{class:"mb-1 text-black",textContent:(0,a.zw)(e.translations.profile_not_found)},null,8,Ps),(0,o._)("p",{class:"mb-4",innerHTML:e.translations.profile_not_found_description.replace("{id}",`<strong>#${e.fetchCustomerID}</strong>`)},null,8,Ns),(0,o._)("a",{href:`${e.baseUrl}/admin/customers`,class:"btn btn-sm btn-primary px-2"},[As,(0,o.Uk)(" "+(0,a.zw)(e.translations.profile_not_found_back_button),1)],8,Ms)])),_:1})])):((0,o.wg)(),(0,o.iD)("div",Gs,[(0,o._)("div",Hs,[(0,o.kq)("      <pre>{{ customer }}</pre>\n              <hr>\n              <pre>{{ customerGroups }}</pre>"),e.customer?((0,o.wg)(),(0,o.j4)(c,{key:0,"onUpdate:customer":e.updateCustomer,customer:e.customer,"customer-groups":e.customerGroups,"customer-configurations":e.customerConfigurations,"customer-newsletter-subscription-status":e.customerNewsletterSubscriptionStatus,"customer-address":e.customerAddress},null,8,["onUpdate:customer","customer","customer-groups","customer-configurations","customer-newsletter-subscription-status","customer-address"])):(0,o.kq)("v-if",!0)]),(0,o._)("div",Ls,[(0,o.Wm)(f,null,{default:(0,o.w5)((({toggle:t})=>[e.customer?((0,o.wg)(),(0,o.j4)(d,{key:0,"onUpdate:customer":e.updateCustomer,"customer-id":e.customer.id.value(),"customer-group":e.customer.customerGroup.value(),"customer-credit":e.customer.credit,statistics:e.customerStatistics,"currency-code":e.currencyMetaData.code,[(0,a.hR)(e.TOGGLE_LOADING_EVENT)]:t},null,16,["onUpdate:customer","customer-id","customer-group","customer-credit","statistics","currency-code"])):(0,o.kq)("v-if",!0)])),_:1}),e.customer?((0,o.wg)(),(0,o.iD)("div",Us,[(0,o._)("div",zs,[(0,o._)("div",js,[(0,o._)("ul",Vs,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.tabs,((t,n)=>((0,o.wg)(),(0,o.iD)("li",{key:n,class:"nav-item"},[(0,o._)("button",{class:(0,a.C_)(["nav-link",{active:t.id==e.currentTab}]),textContent:(0,a.zw)(t.label),onClick:n=>e.switchTab(t.id)},null,10,Bs)])))),128))]),(0,o.Wm)(f,{type:"list-skeleton"},{default:(0,o.w5)((({toggle:t})=>[((0,o.wg)(),(0,o.j4)((0,o.LL)(e.currentTab),{"customer-id":e.customer.id.value(),history:e.customerHistory,"customer-name":e.customerFullName(e.customer),currentUserID:e.currentUserID,products:e.customerProducts,[(0,a.hR)(e.TOGGLE_LOADING_EVENT)]:t,[(0,a.hR)(e.TRIGGER_CREATE_ORDER)]:e.performCreateOrder},null,16,["customer-id","history","customer-name","currentUserID","products"]))])),_:1})])]),(0,o._)("div",Fs,[(0,o.Wm)(p,{"customer-id":e.customer.id.value(),"current-user-id":e.currentUserID,memos:e.customerMemos,"onUpdate:customer":e.updateCustomer},null,8,["customer-id","current-user-id","memos","onUpdate:customer"])])])):(0,o.kq)("v-if",!0)])])),(0,o._)("button",{hidden:"",[(0,a.hR)(e.TOGGLE_LOADING_EVENT)]:({detail:e})=>t(e),ref:"pageLoadingToggle"},null,16)])),_:1})],64)};const tf=ef;(0,r.ri)(Cs).mount("#overview"),(0,r.ri)(tf).mount("#profile")}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.m=t,e=[],r.O=(t,n,o,a)=>{if(!n){var s=1/0;for(c=0;c<e.length;c++){for(var[n,o,a]=e[c],i=!0,l=0;l<n.length;l++)(!1&a||s>=a)&&Object.keys(r.O).every((e=>r.O[e](n[l])))?n.splice(l--,1):(i=!1,a<s&&(s=a));if(i){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,o,a]},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.j=727,(()=>{var e={727:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,a,[s,i,l]=n,u=0;if(s.some((t=>0!==e[t]))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(l)var c=l(r)}for(t&&t(n);u<s.length;u++)a=s[u],r.o(e,a)&&e[a]&&e[a][0](),e[s[u]]=0;return r.O(c)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=r.O(void 0,[736],(()=>r(409)));o=r.O(o)})();
//# sourceMappingURL=customer.js.map