"use strict";jse.widgets.module("daterangepicker",[jse.source+"/vendor/jquery-ui-dist/jquery-ui.min.css",jse.source+"/vendor/jquery-ui-dist/jquery-ui.min.js",jse.source+"/vendor/momentjs/moment.min.js",jse.source+"/vendor/jquery-ui-daterangepicker/jquery.comiseo.daterangepicker.min.css"],(function(e){var a=$(this),n={presetRanges:[],dateFormat:"de"===jse.core.config.get("languageCode")?"dd.mm.yy":"mm.dd.yy",momentFormat:"de"===jse.core.config.get("languageCode")?"DD.MM.YY":"MM.DD.YY",applyButtonText:jse.core.lang.translate("apply","buttons"),cancelButtonText:jse.core.lang.translate("close","buttons"),datepickerOptions:{numberOfMonths:2,changeMonth:!0,changeYear:!0,maxDate:null,minDate:new Date(1970,1,1),dayNamesMin:[jse.core.lang.translate("_SUNDAY_SHORT","general"),jse.core.lang.translate("_MONDAY_SHORT","general"),jse.core.lang.translate("_TUESDAY_SHORT","general"),jse.core.lang.translate("_WEDNESDAY_SHORT","general"),jse.core.lang.translate("_THURSDAY_SHORT","general"),jse.core.lang.translate("_FRIDAY_SHORT","general"),jse.core.lang.translate("_SATURDAY_SHORT","general")],monthNamesShort:[jse.core.lang.translate("_JANUARY_SHORT","general"),jse.core.lang.translate("_FEBRUARY_SHORT","general"),jse.core.lang.translate("_MARCH_SHORT","general"),jse.core.lang.translate("_APRIL_SHORT","general"),jse.core.lang.translate("_MAY_SHORT","general"),jse.core.lang.translate("_JUNE_SHORT","general"),jse.core.lang.translate("_JULY_SHORT","general"),jse.core.lang.translate("_AUGUST_SHORT","general"),jse.core.lang.translate("_SEPTEMBER_SHORT","general"),jse.core.lang.translate("_OCTOBER_SHORT","general"),jse.core.lang.translate("_NOVEMBER_SHORT","general"),jse.core.lang.translate("_DECEMBER_SHORT","general")],monthNames:[jse.core.lang.translate("_JANUARY","general"),jse.core.lang.translate("_FEBRUARY","general"),jse.core.lang.translate("_MARCH","general"),jse.core.lang.translate("_APRIL","general"),jse.core.lang.translate("_MAY","general"),jse.core.lang.translate("_JUNE","general"),jse.core.lang.translate("_JULY","general"),jse.core.lang.translate("_AUGUST","general"),jse.core.lang.translate("_SEPTEMBER","general"),jse.core.lang.translate("_OCTOBER","general"),jse.core.lang.translate("_NOVEMBER","general"),jse.core.lang.translate("_DECEMBER","general")]},onChange:function(){var e=a.siblings(".daterangepicker-helper").daterangepicker("getRange"),r=moment(e.start).format(n.momentFormat),t=moment(e.end).format(n.momentFormat),s=r!==t?r+" - "+t:""+r;a.val(s)},onClose:function(){""===a.val()&&a.siblings("i").fadeIn()}},r=$.extend(!0,{},n,e),t={};function s(){try{if(""===a.val())return;var e=a.val().split("-"),n={};1===e.length?n.start=n.end=moment(e[0],r.momentFormat).toDate():(n.start=moment(e[0],r.momentFormat).toDate(),n.end=moment(e[1],r.momentFormat).toDate()),a.siblings(".daterangepicker-helper").daterangepicker("setRange",n)}catch(e){jse.core.debug.error("Daterangepicker Update Error:",e)}}function l(){$(".comiseo-daterangepicker").is(":visible")||(a.siblings(".daterangepicker-helper").daterangepicker("open"),a.siblings("i").fadeOut(),$(document).trigger("click.sumo"))}function o(e){27!==e.which&&9!==e.which||(a.siblings(".daterangepicker-helper").daterangepicker("close"),a.blur())}return t.init=function(e){var n=[jse.source+"/vendor/jquery-ui-daterangepicker/jquery.comiseo.daterangepicker.min.js"];window.require(n,(function(){a.wrap('<div class="daterangepicker-wrapper"></div>').parent().append('<i class="fa fa-calendar"></i>').append('<input type="text" class="daterangepicker-helper hidden" />').find(".daterangepicker-helper").daterangepicker(r),a.siblings("button").css({visibility:"hidden",position:"absolute"}),a.on("click, focus",l).on("keydown",o).on("change",s),e()}))},t}));