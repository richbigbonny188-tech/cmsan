!function(t){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-scale","./load-image-meta"],t):"object"==typeof module&&module.exports?t(require("./load-image"),require("./load-image-scale"),require("./load-image-meta")):t(window.loadImage)}((function(t){"use strict";var A,e=t.hasCanvasOption,a=t.hasMetaOption,o=t.transformCoordinates,i=t.getTransformedOptions;(A=document.createElement("img")).onload=function(){t.orientation=1===A.width&&2===A.height},A.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",t.hasCanvasOption=function(A){return!0==!!A.orientation&&!t.orientation||A.orientation>1&&A.orientation<9||e.call(t,A)},t.hasMetaOption=function(A){return A&&!0===A.orientation&&!t.orientation||a.call(t,A)},t.transformCoordinates=function(A,e){o.call(t,A,e);var a=A.getContext("2d"),i=A.width,r=A.height,n=A.style.width,E=A.style.height,s=e.orientation;if(s>1&&s<9)switch(s>4&&(A.width=r,A.height=i,A.style.width=E,A.style.height=n),s){case 2:a.translate(i,0),a.scale(-1,1);break;case 3:a.translate(i,r),a.rotate(Math.PI);break;case 4:a.translate(0,r),a.scale(1,-1);break;case 5:a.rotate(.5*Math.PI),a.scale(1,-1);break;case 6:a.rotate(.5*Math.PI),a.translate(0,-r);break;case 7:a.rotate(.5*Math.PI),a.translate(i,-r),a.scale(-1,1);break;case 8:a.rotate(-.5*Math.PI),a.translate(-i,0)}},t.getTransformedOptions=function(A,e,a){var o,r,n=i.call(t,A,e),E=n.orientation;if(!0===E){if(t.orientation)return n;E=a&&a.exif&&a.exif.get("Orientation")}if(!(E>1&&E<9))return n;for(r in o={},n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r]);switch(o.orientation=E,E){case 2:o.left=n.right,o.right=n.left;break;case 3:o.left=n.right,o.top=n.bottom,o.right=n.left,o.bottom=n.top;break;case 4:o.top=n.bottom,o.bottom=n.top;break;case 5:o.left=n.top,o.top=n.left,o.right=n.bottom,o.bottom=n.right;break;case 6:o.left=n.top,o.top=n.right,o.right=n.bottom,o.bottom=n.left;break;case 7:o.left=n.bottom,o.top=n.right,o.right=n.top,o.bottom=n.left;break;case 8:o.left=n.bottom,o.top=n.left,o.right=n.top,o.bottom=n.right}return o.orientation>4&&(o.maxWidth=n.maxHeight,o.maxHeight=n.maxWidth,o.minWidth=n.minHeight,o.minHeight=n.minWidth,o.sourceWidth=n.sourceHeight,o.sourceHeight=n.sourceWidth),o}}));