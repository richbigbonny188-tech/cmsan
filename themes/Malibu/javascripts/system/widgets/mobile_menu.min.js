"use strict";gambio.widgets.module("mobile_menu",[gambio.source+"/libs/events",gambio.source+"/libs/responsive"],(function(e){var a,t,s=$(this),o=$("body"),i=null,n=null,l=$.extend(!0,{},{breakpoint:40,buttonActiveClass:"active",addClass:"in"},e),r={},b=function(e){var a=!1;i.each((function(){var t=$(this),s=$(this).parseModuleData("mobile_menu");if(!e||s&&s.target!==e.target)$(s.target).removeClass(l.addClass),t.removeClass(l.buttonActiveClass),o.removeClass(s.bodyClass);else if(s&&!a){var i=$(s.target);i.toggleClass(l.addClass),i.hasClass(l.addClass)?(o.addClass(s.bodyClass),t.addClass(l.buttonActiveClass),void 0!==t.data("mobilemenuToggleContentVisibility")&&d(!1)):(o.removeClass(s.bodyClass),t.removeClass(l.buttonActiveClass),void 0!==t.data("mobilemenuToggleContentVisibility")&&d(!0)),a=!0}}))},d=function(e){var s=$("#wrapper, #footer"),o=$(document);e?(s.show(),o.scrollTop(a),o.scrollLeft(t),a=t=null):(a||(a=o.scrollTop()),t||(t=o.scrollLeft()),s.hide())},u=function(){var e=$(this).parseModuleData("mobile_menu");e.target?b(e):e.location&&(location.href=e.location)},c=function(e,a){a.id>l.breakpoint&&n?(b(null),$("#wrapper, #footer").show(),n=!1):a.id<=l.breakpoint&&!n&&(b(null),n=!0)},v=function(){$(this).parent().hasClass("open")||($(".navbar-categories").find(".navbar-topbar-item.open").removeClass("open"),$("#categories .navbar-collapse:first").animate({scrollTop:$(this).parent().position().top+$(this).parent().height()-$("#header .navbar-header").height()},500))};return r.init=function(e){n=jse.libs.theme.responsive.breakpoint().id<=l.breakpoint,i=s.find("button"),o.on(jse.libs.theme.events.BREAKPOINT(),c),$(".navbar-categories").on("mouseup",".navbar-topbar-item > a",v),s.on("click","button",u),e()},r}));