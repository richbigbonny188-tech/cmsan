"use strict";gambio.widgets.module("input_number",[],(function(t){var a=$(this),e=null,n=null,r=null,u=$.extend(!0,{},{type:"float",digits:4,forceDigits:!1,stepping:1,min:0,max:null,separator:"auto",delay:500,minDelay:50},t),i={},o=function(t){r=r?clearTimeout(r):null,r=setTimeout((function(){t.trigger("blur",[])}),300)},s=function t(a){a.preventDefault();var r=a.data.target,i=r.data(),s=i.timer||null,l=Math.max(i.delay||a.data.dataset.delay,a.data.dataset.minDelay);s&&clearTimeout(s),s=setTimeout((function(){t(a)}),l),r.data({delay:l/1.5,timer:s}),function(t){var a=t.data.target,r=t.data.type,i=t.data.dataset,s=a.val(),l="."===u.separator?s:s.replace(n,"."),d="int"===i.type?parseInt(l,10):parseFloat(l),p=Math.pow(10,i.digits);if(isNaN(d))jse.core.debug.info("[NUMBERINPUT] Input is not a number");else{if("plus"===r?d+=i.stepping:d-=i.stepping,d="number"==typeof i.max?Math.min(d,i.max):d,d="number"==typeof i.min?Math.max(d,i.min):d,d=(d=parseInt(Math.round(d*p),10)/p).toString(),i.forceDigits){var m=d.indexOf("."),g=null;for(-1===m&&(m=(d+=".").indexOf(".")),g=d.length-m-1;g<i.digits;)d+="0",g+=1}"number"!==a.attr("type")&&(d=d.replace(".",e)),a.val(d).trigger("keyup",[]),o(a)}}(a)},l=function(t){t.preventDefault();var a=t.data?t.data.target:null,e=(null!==a?a.data():{}).timer;e&&(clearTimeout(e),a.data("delay",t.data.dataset.delay))};return i.init=function(t){e=function(){if(!u.separator||"auto"===u.separator){return u.separator=1.1.toLocaleString().substring(1,2),u.separator}return u.separator}(),n=new RegExp(e,"g"),a.find(".input-number").each((function(){var t=$(this),a=t.find("input"),e=$.extend({},u,t.data());t.on("mousedown touchstart",".btn-plus",{dataset:e,type:"plus",target:a},s).on("mouseup mouseleave touchend",".btn-plus",{dataset:e,type:"plus",target:a},l).on("mousedown touchstart",".btn-minus",{dataset:e,type:"minus",target:a},s).on("mouseup mouseleave touchend",".btn-minus",{dataset:e,type:"minus",target:a},l)})),t()},i}));