"use strict";gambio.widgets.module("paypal_ec_button",[],(function(e){var t=$(this),a={},r=function(){var e=jse.core.config.get("appUrl").replace(/\/$/,"")+"/shop.php?do=PayPal/PrepareECS";window.location.href=e},n=function(){if("cart"===e.page)r();else{if("product"!==e.page)throw new Error("Invalid page attribute provided: "+e.page);var t=jse.core.config.get("appUrl")+"/shop.php?do=PayPal/CartECS";$.get(t,(function(){if($('input[name="btn-add-to-cart"]').click(),!1===e.displayCart)var t=new Date,a=setInterval((function(){$(".cart-dropdown:visible").length>0&&(clearInterval(a),r()),((new Date).getTime()-t.getTime())/1e3>10&&clearInterval(a)}),100)}))}};return a.init=function(a){!0===e.redirect&&r(),t.on("click",n),a()},a}));