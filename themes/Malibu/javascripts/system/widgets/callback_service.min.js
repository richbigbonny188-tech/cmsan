"use strict";gambio.widgets.module("callback_service",[],(function(e){var r=$(this),c=$.extend(!0,{},{successSelector:"#callback-service .alert-success",errorSelector:"#callback-service .alert-danger",vvCodeSelector:"#callback-service #vvcode",vvCodeImageSelector:"#callback-service #vvcode_image"},e),a={},t=function(){var e=new $.Deferred;return $(c.successSelector).addClass("hidden"),$(c.errorSelector).addClass("hidden"),$.ajax({data:r.serialize(),url:"request_port.php?module=CallbackService&action=check",type:"GET",dataType:"html",success:function(r){if(r.length>0){$(c.errorSelector).html(r).removeClass("hidden");try{Recaptcha.reload()}catch(e){$(c.vvCodeSelector).val(""),$(c.vvCodeImageSelector).attr("src","request_port.php?rand="+Math.random()+"&module=CreateVVCode")}e.reject()}else e.resolve()}}),e.done(l),!1},l=function(){$.ajax({data:r.serialize(),url:"request_port.php?module=CallbackService&action=send",type:"POST",dataType:"html",success:function(e){if(e.length>0){$(c.successSelector).html(e).removeClass("hidden");try{Recaptcha.reload()}catch(e){$(c.vvCodeSelector).val(""),$(c.vvCodeImageSelector).attr("src","request_port.php?rand="+Math.random()+"&module=CreateVVCode")}}}})};return a.init=function(e){r.on("submit",t),e()},a}));