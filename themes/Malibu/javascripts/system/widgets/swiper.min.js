"use strict";gambio.widgets.module("swiper",[gambio.source+"/libs/events",gambio.source+"/libs/responsive"],(function(e){var i=$(this),t=$("body"),n=null,s=null,r=null,l=null,a=!0,o=null,d=null,p=!0,c=null,u=!1,f=!1,h={observer:!0,pagination:".swiper-pagination",nextButton:".swiper-button-next",prevButton:".swiper-button-prev",paginationClickable:!0,loop:!0,autoplay:3,autoplayDisableOnInteraction:!1},v=$.extend({},{observer:!0,sliderOptions:null,controls:null,target:null,initSlide:null,autoOff:!1,disableTranslucenceFix:!1,breakpoints:[]},e),w={},g=function(e,i,t){var s=n.eq(i),r=s.find("img").attr("alt"),l=s.data("thumbImage");return l?'<img src="'+l+'" alt="'+r+'" class="'+t+'" />':""},m=function(){return i.find(".swiper-slide-active").data("swiper-slide-index")||0},b=function(e){n=i.find(".swiper-slide:not(.swiper-slide-duplicate)"),e=u?e+1:e,n.removeClass("active").eq(e).addClass("active")},S=function(){try{o&&o.stopAutoplay()}catch(e){}},x=function(){try{o&&o.startAutoplay()}catch(e){}},O=function(e,t){e.stopPropagation(),b(t),f=!0,i.off("mouseleave.swiper"),o.stopAutoplay();var s=u?t+1:t;s>n.length&&(s=0),o.slideTo(s),f=!1},y=function(e){e.preventDefault(),e.stopPropagation();var i=$(this).index();b(i=u?i-1:i),r.trigger(jse.libs.theme.events.SWIPER_GOTO(),i)},T=function(){if(!f){var e=m(),i=n.closest(".swiper-slide-prev").index()||n.length-2,t=n.closest(".swiper-slide-prev");t&&(i=u?t.index()-1:t.index()),e>n.length-1&&(e=0),e=e<0?n.length+e:u&&e===i?e-i:e,b(e),s.trigger(jse.libs.theme.events.SWIPER_GOTO(),e)}},I=function(){!v.disableTranslucenceFix&&d&&"fade"===d.effect&&(i.find(".swiper-slide").filter(":not(.swiper-slide-active)").fadeTo(300,0,(function(){$(this).css("visibility","hidden")})),i.find(".swiper-slide").filter(".swiper-slide-active").fadeTo(300,1,(function(){$(this).css("visibility","")})))},k=function(e,t){$.each(t,(function(e,i){var t=e+"-category",s=[],r=[],a=l.html();n.filter("."+t).each((function(){var e=$(this),i=e.data().swiperSlideIndex;i=void 0===i?e.index():i,r.push(i)})),o.removeSlide(r),$.each(i||[],(function(e,i){i.className=t,i.srcattr='src="'+i.src+'"',s.push(Mustache.render(a,i))})),o.appendSlide(s)})),n=i.find(".swiper-slide"),b(0);var s=u?1:0;o.slideTo(s,0)},E=function(){var e=$(".swiper-container-vertical .swiper-slide"),i=e.css("height");$(".swiper-container-vertical").hasClass("swiper-wp8-vertical")&&(i=e.height()+5,e.css("height",i)),"0px"===i&&(i=$(".product-info-thumbnails-mobile").css("height")),$(".align-middle").css("height",i)};return w.init=function(e){n=i.find(".swiper-slide"),s=$(v.controls),r=$(v.target),l=i.find("theme"),n.each((function(){if(!$(this).data().thumbImage)return p=!1,!1})),function(){var e=c||{},t=jse.libs.theme.responsive.breakpoint(),n=v.breakpoints[0]||{},r=null;if(t.id!==e.id&&(c=$.extend({},t),$.each(v.breakpoints,(function(e,i){if(i.breakpoint>t.id)return!1;r=e,n=i})),v.sliderOptions&&v.sliderOptions.breakpoints&&$.each(v.sliderOptions.breakpoints,(function(e,i){if(i.breakpoint===t.id)return n=i,!1})),null!==r||a)){if((d=$.extend({},h,v.sliderOptions||{},n)).usePreviewBullets&&p&&(d.paginationBulletRender=g),d.autoplay=d.autoplay?1e3*d.autoplay:0,1===i.find(".swiper-slide").length&&(d.loop=!1),o){d.initialSlide=m();try{o.destroy(!0,!0)}catch(e){o=null}}else d.initialSlide=v.initSlide||d.initialSlide||0;var l=i.find(".swiper-slide:not(.swiper-slide-duplicate)");if(!v.autoOff||l.length>d.slidesPerView&&v.autoOff){i.addClass("swiper-is-active").removeClass("swiper-is-not-active");try{o=new Swiper(i,d)}catch(e){return}o.off("onTransitionEnd onSlideChangeStart").on("onTransitionEnd",I),s.length&&o.on("onSlideChangeStart",T),i.off("mouseenter.swiper mouseleave.swiper "+jse.libs.theme.events.SWIPER_GOTO()+" "+jse.libs.theme.events.SLIDES_UPDATE()).on("mouseenter.swiper",S).on("mouseleave.swiper",x).on(jse.libs.theme.events.SWIPER_GOTO(),O).on(jse.libs.theme.events.SLIDES_UPDATE(),k),a&&(u=!!i.find(".swiper-slide-duplicate").length);var f=a&&v.initSlide?v.initSlide:m();b(f),s.length&&(s.attr("data-swiper-init-slide",f),T()),a=!1,setTimeout((function(){return o.update()}))}else i.removeClass("swiper-is-active").addClass("swiper-is-not-active"),a=!0}}(),v.target&&i.on("click.swiper",".swiper-slide",y),$(document).ready((function(){$(".swiper-vertical .swiper-slide[data-index]").css("display","inline-block"),$(".product-info-image .swiper-slide[data-index]").css("z-index","inherit"),$(".product-info-image .swiper-slide[data-index] .swiper-slide-inside img.img-responsive").fadeIn(1e3)})),I(),$(v.sliderOptions.nextButton).on("selectstart",(function(){return!1})),$(v.sliderOptions.prevButton).on("selectstart",(function(){return!1})),E(),t.on(jse.libs.theme.events.BREAKPOINT(),(function(){E()})),e()},w}));