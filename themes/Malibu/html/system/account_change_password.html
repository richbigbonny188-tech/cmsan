{load_language_text section="account_password"}
{load_language_text section="buttons" name="button"}

{block name="account_change_password"}
	<h1>{$txt.heading_password}</h1>

	{block name="account_change_password_alert"}
		{include file="get_usermod:{$tpl_path}alert_message.html" message=$error type="danger"}
	{/block}

	{block name="account_change_password_form"}
		<form id="{$FORM_ID}" action="{$FORM_ACTION_URL}" method="{$FORM_METHOD}" class="form-horizontal">
			{block name="account_change_password_form_fieldset"}
				<fieldset>
					{block name="account_change_password_form_legend"}
						<legend>
							{$txt.label_password}
						</legend>
					{/block}

					{block name="account_change_password_form_current_container"}
						<div class="form-group{if $form_data.password_current.required == '1'} mandatory{/if}{if $error_password || $account_password} has-feedback has-error{/if}">

							<label for="{$form_data.password_current.name}" class="control-label col-sm-3">
								{$txt.label_actual}
							</label>

							<div class="col-sm-9 col-lg-6 input-container">
                                <div class="password-form-field" data-gambio-widget="show_password">
                                    <input type="password"
                                           placeholder="{$txt.label_actual}"
                                           id="{$form_data.password_current.name}"
                                           name="{$form_data.password_current.name}"
                                           class="form-control" value="{$form_data.password_current.value}" />
                                    <button class="btn show-password hidden" type="button">
                                        <i class="fa fa-eye" aria-hidden="true"></i>
                                    </button>
                                </div>

								{if $error_password}
									<span class="help-block">
										{$error_password}
									</span>
								{/if}

								{if $account_password}
									<span class="help-block">
										{$account_password}
									</span>
								{/if}
							</div>

						</div>
					{/block}

					{block name="account_change_password_form_new_container"}
						<div class="form-group{if $form_data.password_new.required == '1'} mandatory{/if}{if $error_new_password} has-feedback has-error{/if}">

							<label for="{$form_data.password_new.name}" class="control-label col-sm-3">
								{$txt.label_new}
							</label>

							<div class="col-sm-9 col-lg-6 input-container">
                                <div class="password-form-field" data-gambio-widget="show_password">
                                    <input type="password"
                                           autocomplete="new-password"
                                           placeholder="{$txt.label_new}"
                                           id="{$form_data.password_new.name}"
                                           name="{$form_data.password_new.name}"
                                           class="form-control" value="{$form_data.password_new.value}" />
                                    <button class="btn show-password hidden" type="button">
                                        <i class="fa fa-eye" aria-hidden="true"></i>
                                    </button>
                                </div>

								{if $error_new_password}
									<span class="help-block">
										{$error_new_password}
									</span>
								{/if}
							</div>

						</div>
					{/block}

					{block name="account_change_password_form_confirm_container"}
						<div class="form-group{if $form_data.password_confirmation.required == '1'} mandatory{/if}{if $error_confirmation} has-feedback has-error{/if}">

							<label for="{$form_data.password_confirmation.name}" class="control-label col-sm-3">
								{$txt.label_confirm}
							</label>

							<div class="col-sm-9 col-lg-6 input-container">
                                <div class="password-form-field" data-gambio-widget="show_password">
                                    <input type="password"
                                           autocomplete="new-password"
                                           placeholder="{$txt.label_confirm}"
                                           id="{$form_data.password_confirmation.name}"
                                           name="{$form_data.password_confirmation.name}"
                                           class="form-control" value="{$form_data.password_confirmation.value}" />
                                    <button class="btn show-password hidden" type="button">
                                        <i class="fa fa-eye" aria-hidden="true"></i>
                                    </button>
                                </div>

								{if $error_confirmation}
									<span class="help-block">
										{$error_confirmation}
									</span>
								{/if}
							</div>

						</div>
					{/block}

				</fieldset>
			{/block}

			<input type="hidden" name="{$form_data.password_hidden_action.name}" value="{$form_data.password_hidden_action.value}" />

			{block name="account_change_password_form_buttons"}
				<div class="row">
					<div class="col-xs-6 col-sm-4 col-md-3">
						{block name="account_change_password_form_buttons_back"}
							<a class="btn btn-default btn-block" href="{$BUTTON_BACK_LINK}" title="{$button.back}">
								{$button.back}
							</a>
						{/block}
					</div>
					<div class="col-xs-6 col-sm-4 col-sm-offset-4 col-md-3 col-md-offset-6 text-right">
						{block name="account_change_password_form_buttons_submit"}
							<button type="submit" class="btn btn-primary btn-block" title="{$button.send}">
								{$button.send}
							</button>
						{/block}
					</div>
				</div>
			{/block}

			{block name="account_change_password_form_mandatory"}
				<p class="mandatory-info">
					{$txt.text_must}
				</p>
			{/block}
		</form>
	{/block}
{/block}
