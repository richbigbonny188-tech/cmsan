{load_language_text section="shopping_cart"}
{load_language_text section="checkout_shipping" name="shipping"}
{load_language_text section="buttons" name="button"}
{load_language_text section="gift_cart" name="gift"}
{load_language_text section="general" name="general_txt"}
{load_language_text section="shared_shopping_cart" name="sharedCart"}

{block name="cart"}
	{block name="cart_title"}
		<h1 class="no-underline">{$txt.heading_cart}</h1>
	{/block}
	
	{block name="cart_alert"}
		<div class="global-error-messages">
			{include file="get_usermod:{$tpl_path}cart_messages.html"}
		</div>
	{/block}


	{block name="cart-top-content-zone"}
		{content_zone id="cart-top"}
	{/block}

	{block name="cart_wrapper"}
        <div data-gambio-widget="product_cart_handler" data-product_cart_handler-actions="[]" class="clearfix">
			{block name="cart_empty_cart"}
				<div class="cart-empty{if $cart_empty != true} hidden{/if}" >
					{include file="get_usermod:{$tpl_path}cart_empty.html"}
				</div>
			{/block}
			
			{block name="cart_not_empty_cart"}
                {block name="cart_not_empty_cart_info_message_if"}
					<div class="alert alert-info info-message col-xs-12 {if $info_message_1 == ''}hidden{/if}">
                        {if $info_message_1 != ''}
                            {block name="cart_not_empty_cart_info_message"}
								{if $tax_included}
									{$info_message_1|strtr:['%minmaxorder%' => "<strong>$min_order</strong>", '%orderamount%' => "<strong>$order_amount</strong>"]}
								{else}
                                    {$info_message_1|strtr:['%minmaxorder%' => "<strong>$min_order</strong> ({$txt.text_net})", '%orderamount%' => "<strong>$order_amount</strong> ({$txt.text_net})"]}
								{/if}
							{/block}
                        {/if}
					</div>
                {/block}

				<div class="cart-not-empty{if $cart_empty == true} hidden{/if}" >
					{block name="cart_not_empty_cart_form"}
						{$FORM_ACTION}
							<div class="hidden-options">
								{$HIDDEN_OPTIONS}
							</div>
					
							{block name="cart_not_empty_cart_order_details"}
								{$MODULE_order_details}
							{/block}
				
							{* CHECKOUT-BUTTON *}
							{block name="cart_not_empty_cart_checkout_button"}
								<div class="shopping-cart-button col-xs-12 col-md-4 pull-right {if $MODULE_gift_cart != ''}has-gift-cart{/if}">
									{include file="get_usermod:{$tpl_path}cart_totals.html"}
								</div>
							{/block}
				
							{block name="cart_not_empty_cart_shipping_and_payment_if"}
								{if $customer_status_allow_checkout == '1'}
									{block name="cart_not_empty_cart_shipping_and_payment"}
										<div class="shopping-cart-shipping-payment-text col-xs-12 col-md-8">
											<img src="{$theme_path}images/svgs/chevron-right.svg" class="chevron-right svg--inject" alt=""> {$txt.text_about_shipping_and_payment}
											<a class="grey_link js-open-modal" href="{$SHIPPING_AND_PAYMENT_INFO_LINK}"
												   title="{$SHIPPING_AND_PAYMENT_CONTENT_TITLE}"
												   data-modal-type="info"
												   data-modal-settings='{literal}{{/literal}"title": "{$SHIPPING_AND_PAYMENT_CONTENT_TITLE}",
													"sectionSelector": ".content_text", "bootstrapClass": "modal-lg"{literal}}{/literal}'>
												{$SHIPPING_AND_PAYMENT_CONTENT_TITLE}
											</a>.
										</div>
									{/block}
								{/if}
							{/block}
				
						</form>
						{* form#redeem-gift-coupon-code is intentionally empty; its input elements are nested inside the
						main cart form and bound to form#redeem-gift-coupon-code via their form attributes. *}
						<form id="redeem-gift-coupon-code" method="POST" action="{$FORM_REDEEM_GIFT_COUPON_CODE_ACTION_URL}"></form>
					{/block}
				</div>
			{/block}
		</div>
	{/block}

	{block name="cart-bottom-content-zone"}
		{content_zone id="cart-bottom"}
	{/block}
	
	{$MODULE_gift_cart}
	<div class="hidden">
		{$MODULE_shared_cart}
		{$cart_shipping_costs_selection}
	</div>

{/block}
