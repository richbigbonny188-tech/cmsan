"use strict";gambio.widgets.module("modal",[gambio.source+"/libs/modal.ext-magnific",gambio.source+"/libs/modal"],(function(e){var t=$(this),i=$.extend(!0,{},{add:"&lightbox_mode=1"},e),o={},a=function(e){e.preventDefault();var t=$(this),o=t.attr("href"),a=t.parseModuleData("modal"),n=a.type||e.data.type,l=$.extend({},a.settings||{});o+="#"===o[0]||"."===o[0]?"":i.add,l.theme=o,l.refreshOnClose&&(l.callbacks={close:function(){location.reload()}}),jse.libs.theme.modal[n](l),a.finishEvent&&$("body").trigger(a.finishEvent)};return o.init=function(e){t.on("click",".js-open-modal",a).on("click",".lightbox_iframe",{type:"iframe"},a),e()},o}));