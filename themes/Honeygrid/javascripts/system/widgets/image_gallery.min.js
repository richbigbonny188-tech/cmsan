"use strict";gambio.widgets.module("image_gallery",[gambio.source+"/libs/modal.ext-magnific",gambio.source+"/libs/modal",gambio.source+"/libs/events",gambio.source+"/libs/responsive"],(function(e){var i=$(this),t=null,s=$("body"),n=null,a={notheme:!1,preloader:!0,closeOnOuter:!0,dialogClass:"product_images",gallery:{enabled:!0}},o=$.extend(!0,{},{target:".swiper-slide",theme:"#product_image_layer",breakpoint:40},e),r={},l=function(e){if(e.preventDefault(),jse.libs.theme.responsive.breakpoint().id>o.breakpoint){var i=$(this),s=t.find("[data-swiper-slider-options]"),r=i.data(),l=r.index||r.swiperSlideIndex||0;s.each((function(){$(this).attr("data-swiper-init-slide",l)})),n=jse.libs.theme.modal.custom(a)}},c=function(){jse.libs.theme.responsive.breakpoint().id<=o.breakpoint&&n&&n.close(!0)},d=function(e,i){t.find(".swiper-container theme").each((function(){var e=$(this),t=e.siblings(".swiper-wrapper");$.each(i,(function(i,s){var n=i+"-category",a="",o=e.html();$.each(s||[],(function(e,i){i.className=n,a+=Mustache.render(o,i)})),t.find("."+n).remove(),t.append(a)}))}))};return r.init=function(e){a.theme=o.theme,t=$(o.theme),i.on("click",o.target,l).on(jse.libs.theme.events.SLIDES_UPDATE(),d),s.on(jse.libs.theme.events.BREAKPOINT(),c),e()},r}));