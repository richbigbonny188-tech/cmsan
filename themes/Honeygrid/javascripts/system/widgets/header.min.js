"use strict";gambio.widgets.module("header",[gambio.source+"/libs/events"],(function(e){var s=$(this),t=$(window),o=null,n=!1,i=null,l=0,r={},c=0,a=$.extend(!0,{},{header:"#header",scrollPosition:200,stickyClass:"sticky",hover:!1,tolerance:5},e),u={},m=function(){var e=$(document).scrollTop(),u=o.hasClass(a.stickyClass),m=i>e;e>a.scrollPosition&&!m?(l=0,u||n||(r.open=!1,o.trigger(jse.libs.theme.events.TRANSITION(),r).trigger(jse.libs.theme.events.OPEN_FLYOUT(),[s]))):(l+=1,u&&(a.scrollPosition>e||l>a.tolerance)&&(r.open=!0,o.trigger(jse.libs.theme.events.TRANSITION(),r))),clearTimeout(c),c=setTimeout((function(){t.trigger(jse.libs.theme.events.REPOSITIONS_STICKYBOX())}),250),i=e},g=function(){n=!0,r.open=!0,o.trigger(jse.libs.theme.events.TRANSITION(),r)},h=function(){n=!1,m()};return u.init=function(e){o=s.find(a.header),i=$(document).scrollTop(),r.classClose=a.stickyClass,t.on("scroll",m),a.hover&&o.on("mouseenter",g).on("mouseleave",h),m(),e()},u}));