{load_language_text section="new_password"}
{load_language_text section="buttons" name="button"}

<h1>{$txt.heading_password}</h1>

{include file="get_usermod:{$tpl_path}alert_message.html" message=$info_message type="info"}

{if $INVALID_PASSWORD_LENGTH}
    {include file="get_usermod:{$tpl_path}alert_message.html" message=$INVALID_PASSWORD_LENGTH type="danger"}
{/if}

{if $CONFIRMED_PASSWORD_INVALID}
    {include file="get_usermod:{$tpl_path}alert_message.html" message=$CONFIRMED_PASSWORD_INVALID type="danger"}
{/if}

<form data-gambio-widget="forgot_password" data-min-password-length="{$MIN_PASSWORD_LENGTH}" id="{$FORM_ID}" action="{$FORM_ACTION_URL}" method="{$FORM_METHOD}" class="form-horizontal">
	<fieldset>
		<legend>
			{$txt.text_step3} {$txt.text_step3_info}
		</legend>
		
		<div class="form-group">
			<label for="{$INPUT_NEW_PASSWORD_NAME}" class="control-label col-sm-3">
				{$txt.label_new_password}
			</label>
			<div class="col-sm-9 col-lg-6 input-container">
                <div class="password-form-field" data-gambio-widget="show_password">
                    <input type="password"
                           id="{$INPUT_NEW_PASSWORD_NAME}"
                           name="{$INPUT_NEW_PASSWORD_NAME}"
                           class="form-control"
                           minlength="{$MIN_PASSWORD_LENGTH}"
                           required />
                    <button class="btn show-password hidden" type="button">
                        <i class="fa fa-eye" aria-hidden="true"></i>
                    </button>
                </div>
			</div>

            <div id="password-length" class="has-feedback has-error hidden">
                <div class="help-block">
                <span class="col-sm-3">
                        &nbsp;
				</span>
                    <span class="col-sm-9 help-block">
				    {$PASSWORD_LENGTH_TEXT}
				</span>
                </div>
            </div>
		</div>
		
		<div class="form-group">
			<label for="{$INPUT_CONFIRM_PASSWORD_NAME}" class="control-label col-sm-3">
				{$txt.label_confirm_password}
			</label>
			<div class="col-sm-9 col-lg-6 input-container">
                <div class="password-form-field" data-gambio-widget="show_password">
                    <input type="password"
                           id="{$INPUT_CONFIRM_PASSWORD_NAME}"
                           name="{$INPUT_CONFIRM_PASSWORD_NAME}"
                           class="form-control"
                           minlength="{$MIN_PASSWORD_LENGTH}"
                           required />
                    <button class="btn show-password hidden" type="button">
                        <i class="fa fa-eye" aria-hidden="true"></i>
                    </button>
                </div>
			</div>

            <div id="password-validation" class="has-feedback has-error hidden">
                <div class="help-block">
                <span class="col-sm-3">
                        &nbsp;
				</span>
                    <span class="col-sm-9 help-block">
				    {$txt.text_confirmed_password}
				</span>
                </div>
            </div>
		</div>
	</fieldset>
	
	<div class="row">
		<div class="col-xs-6 col-sm-4 col-md-3">
			&nbsp;
		</div>
		<div class="col-xs-6 col-sm-4 col-sm-offset-4 col-md-3 col-md-offset-6 text-right">
			<input type="hidden" name="customers_id" value="{$CUSTOMERS_ID}" />
			<input type="hidden" name="key" value="{$KEY}" />
			
			<button id="submit-button" type="submit" class="btn btn-primary btn-block" title="{$button.continue}" disabled>
				{$button.continue}
			</button>
		</div>
	</div>
</form>
