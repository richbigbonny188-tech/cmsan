{extends file="get_usermod:layouts/main/layout.html"}

{block name="content"}
    {load_language_text section="omnibus_policy"}
    {load_language_text section="buttons" name="buttons"}
    <div class="verified-reviews-options-wrapper">
        <form id="general" action="{$content.action_save_configuration}" method="POST" class="form-configuration">
            <input type="hidden" name="pageToken" value="{$content.pageToken}">

            <div class="form-group">
                <div class="row">
                    <label class="col-sm-5 control-label"
                           for="configuration[product_listing_card_show_badge]">{$txt.label_product_listing_card_show_badge}</label>
                    <div class="col-sm-7" data-gx-widget="switcher">
                        <input type="hidden" name="configuration[product_listing_card_show_badge]" value="0"/>
                        <input type="checkbox" id="configuration[product_listing_card_show_badge]" value="1"
                               name="configuration[product_listing_card_show_badge]"
                               class="form-control" {($content.configuration['product_listing_card_show_badge'] == '1') ? 'checked="checked"' : ''} />
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="row">
                    <label class="col-sm-5 control-label"
                           for="configuration[product_info_page_show_text_before]">{$txt.label_product_info_page_show_text_before}</label>
                    <div class="col-sm-7" data-gx-widget="switcher">
                        <input type="hidden" name="configuration[product_info_page_show_text_before]" value="0"/>
                        <input type="checkbox" id="configuration[product_info_page_show_text_before]" value="1"
                               name="configuration[product_info_page_show_text_before]"
                               class="form-control" {($content.configuration['product_info_page_show_text_before'] == '1') ? 'checked="checked"' : ''} />
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="row">
                    <label class="col-sm-5 control-label"
                           for="configuration[product_info_page_show_text_after]">{$txt.label_product_info_page_show_text_after}</label>
                    <div class="col-sm-7" data-gx-widget="switcher">
                        <input type="hidden" name="configuration[product_info_page_show_text_after]" value="0"/>
                        <input type="checkbox" id="configuration[product_info_page_show_text_after]" value="1"
                               name="configuration[product_info_page_show_text_after]"
                               class="form-control" {($content.configuration['product_info_page_show_text_after'] == '1') ? 'checked="checked"' : ''} />
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="row">
                    <label class="col-sm-5 control-label"
                           for="configuration[product_info_page_show_badge]">{$txt.label_product_info_page_show_badge}</label>
                    <div class="col-sm-7" data-gx-widget="switcher">
                        <input type="hidden" name="configuration[product_info_page_show_badge]" value="0"/>
                        <input type="checkbox" id="configuration[product_info_page_show_badge]" value="1"
                               name="configuration[product_info_page_show_badge]"
                               class="form-control" {($content.configuration['product_info_page_show_badge'] == '1') ? 'checked="checked"' : ''} />
                    </div>
                </div>
            </div>

            <hr>

            <div class="form-group">
                <div class="row">
                    <div class="col-sm-5 control-label">
                        <label>{$txt.label_content_verified_text_short}</label>
                    </div>
                    <div class="col-sm-7">
                        <ul class="nav nav-tabs" role="tablist">
                            {foreach from=$languages item=$lang}
                                {assign var="langCode" value={$lang.code|lower}}
                                <li role="presentation"
                                    {if $langCode == $content.activeLanguageCode}class="active" {/if}>
                                    <a href="#content_verified_text_short-phrases-short-{$langCode}"
                                       aria-controls="content_verified_text_short-phrases-short-{$langCode}" role="tab"
                                       data-toggle="tab">
                                        <span class="flag-icon flag-icon-{$langCode}"></span>
                                    </a>
                                </li>
                            {/foreach}
                        </ul>
                        <div class="tab-content">
                            {foreach from=$languages item=$lang}
                                {assign var="langCode" value={$lang.code|lower}}
                                {assign var="content_verified_short_key" value="content_verified_text_short_`$langCode`"}
                                {if $content_verified_short_key|array_key_exists:$content.text_phrases}
                                    {assign var="content_verified_text_short" value=$content.text_phrases[$content_verified_short_key]}
                                {else}
                                    {assign var="content_verified_text_short" value=''}
                                {/if}
                                <div role="tabpanel"
                                     class="tab-pane {if $langCode == $content.activeLanguageCode} active{/if}"
                                     id="content_verified_text_short-phrases-short-{$langCode}">
                                    <div class="form-group">
                                        <input type="text"
                                               name="text_phrases[content_verified_text_short_{$langCode}]"
                                               class="form-control"
                                               value="{$content_verified_text_short}">
                                    </div>
                                </div>
                            {/foreach}
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="row">
                    <div class="col-sm-5 control-label">
                        <label>{$txt.label_content_verified_text}</label>
                    </div>
                    <div class="col-sm-7">
                        <ul class="nav nav-tabs" role="tablist">
                            {foreach from=$languages item=$lang}
                                {assign var="langCode" value={$lang.code|lower}}
                                <li role="presentation"
                                    {if $langCode == $content.activeLanguageCode}class="active" {/if}>
                                    <a href="#content_verified_text-phrases-{$langCode}"
                                       aria-controls="content_verified_text-phrases-{$langCode}" role="tab"
                                       data-toggle="tab">
                                        <span class="flag-icon flag-icon-{$langCode}"></span>
                                    </a>
                                </li>
                            {/foreach}
                        </ul>
                        <div class="tab-content">
                            {foreach from=$languages item=$lang}
                                {assign var="langCode" value={$lang.code|lower}}
                                {assign var="content_verified_key" value="content_verified_text_`$langCode`"}
                                {if $content_verified_key|array_key_exists:$content.text_phrases}
                                    {assign var="content_verified_text" value=$content.text_phrases[$content_verified_key]}
                                {else}
                                    {assign var="content_verified_text" value=''}
                                {/if}
                                <div role="tabpanel"
                                     class="tab-pane {if $langCode == $content.activeLanguageCode} active{/if}"
                                     id="content_verified_text-phrases-{$langCode}">
                                    <div class="form-group">
                                    <textarea
                                            name="text_phrases[content_verified_text_{$langCode}]"
                                            cols="10" rows="3"
                                            class="form-control">{$content_verified_text}</textarea>
                                    </div>
                                </div>
                            {/foreach}
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
{/block}

{block name="bottom_save_bar"}
    {load_language_text section="admin_buttons" name="admin_buttons"}
    <input type="button" onclick="location.href='{$content.action_back_to_modules}'" value="{$txt.label_button_back}"
           class="btn btn-secondary">
    <input form="general" type="submit" value="{$txt.label_button_save}" class="btn btn-primary">
{/block}