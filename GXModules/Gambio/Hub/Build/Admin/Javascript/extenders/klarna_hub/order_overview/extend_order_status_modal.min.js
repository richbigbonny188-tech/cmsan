"use strict";!function(){var n=[];KlarnaHub.on("ready",(function(){return function(){var a=$(".modal.status"),e=$("#status-dropdown"),r=a.find(".btn.save"),o=["KlarnaHub","KlarnaPaynowHub","KlarnaPaylaterHub","KlarnaSliceitHub","KlarnaBanktransferHub"],l=a.find(".single-checkbox:first").closest("li"),u=l.clone(!0);u.addClass("hidden"),u.find("label").text(KlarnaHub.Config.lang.NOTIFY_KLARNA);var t=u.find(".single-checkbox"),d=u.find("input:checkbox");d.addClass("notify-klarna"),d.on("change",(function(n){return d.parent().toggleClass("checked",d.prop("checked"))})),u.insertBefore(l.next()),e.on("change",(function(){var a=e.val()&&e.val()==KlarnaHub.Config.orderStatusShipped,r=null!==KlarnaHub.Config.orderNumber||n.length;a&&r?(u.removeClass("hidden"),d.prop("checked",!0),t.addClass("checked")):(u.addClass("hidden"),d.prop("checked",!1),t.removeClass("checked"))})),r.on("click",(function(){var a=e.val()&&e.val()==KlarnaHub.Config.orderStatusShipped,r=null!==KlarnaHub.Config.orderNumber||n.length;a&&r&&d.prop("checked")&&(n.length?n:[KlarnaHub.Config.orderNumber]).forEach((function(n){KlarnaHub.Config.orderNumber=n,KlarnaHub.Config.moduleCode=i.find("tr#"+n).data("gambioHubModule"),e.val()==KlarnaHub.Config.orderStatusShipped&&KlarnaHub.Api.executeFullCapture()}))}));var i=$(".orders.overview table");i.on("click",".change-status, .tooltip-order-status-history",(function(n){var a=$(n.target).closest("tr"),e=a.data("id"),r=a.data("gambioHubModule");e&&r&&o.includes(r)?(KlarnaHub.Config.orderNumber=e,KlarnaHub.Config.moduleCode=r):(KlarnaHub.Config.orderNumber=null,KlarnaHub.Config.moduleCode=null)})),a.on("shown.bs.modal",(function(){return e.trigger("change")})),a.on("hide.bs.modal",(function(){KlarnaHub.Config.orderNumber=null,KlarnaHub.Config.moduleCode=null,n=[]})),$(".bulk-action").on("click",".change-status",(function(){n=KlarnaHub.Lib.getSelectedKlarnaHubOrderNumbers()}))}()}))}();