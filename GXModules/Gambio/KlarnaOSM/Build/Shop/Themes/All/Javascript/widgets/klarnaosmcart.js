'use strict';

/* --------------------------------------------------------------
   klarnaosmcart.js 2022-06-01
   Gambio GmbH
   http://www.gambio.de
   Copyright (c) 2022 Gambio GmbH
   Released under the GNU General Public License (Version 2)
   [http://www.gnu.org/licenses/gpl-2.0.html]
   --------------------------------------------------------------
*/

klarnaosm.widgets.module('klarnaosmcart', [gambio.source + '/libs/events'], function (data) {
    'use strict';

    // ########## VARIABLE INITIALIZATION ##########

    var $this = $(this),
        defaults = {},
        options = $.extend(true, {}, defaults, data),
        module = {};

    module.init = function (done) {
        if (typeof $ !== 'undefined' && typeof jse !== 'undefined') {
            $('body').on(jse.libs.theme.events.CART_UPDATE(), function () {
                window.KlarnaOnsiteService = window.KlarnaOnsiteService || [];
                window.KlarnaOnsiteService.push({ eventName: 'refresh-placements' });
            });
        }
        done();
    };

    return module;
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNob3AvVGhlbWVzL0FsbC9KYXZhc2NyaXB0L3dpZGdldHMva2xhcm5hb3NtY2FydC5qcyJdLCJuYW1lcyI6WyJrbGFybmFvc20iLCJ3aWRnZXRzIiwibW9kdWxlIiwiZ2FtYmlvIiwic291cmNlIiwiZGF0YSIsIiR0aGlzIiwiJCIsImRlZmF1bHRzIiwib3B0aW9ucyIsImV4dGVuZCIsImluaXQiLCJkb25lIiwianNlIiwib24iLCJsaWJzIiwidGhlbWUiLCJldmVudHMiLCJDQVJUX1VQREFURSIsIndpbmRvdyIsIktsYXJuYU9uc2l0ZVNlcnZpY2UiLCJwdXNoIiwiZXZlbnROYW1lIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7Ozs7Ozs7O0FBVUFBLFVBQVVDLE9BQVYsQ0FBa0JDLE1BQWxCLENBQ0ksZUFESixFQUVJLENBQ0lDLE9BQU9DLE1BQVAsR0FBZ0IsY0FEcEIsQ0FGSixFQUtJLFVBQVNDLElBQVQsRUFBZTtBQUNYOztBQUVBOztBQUNBLFFBQUlDLFFBQVFDLEVBQUUsSUFBRixDQUFaO0FBQUEsUUFDSUMsV0FBVyxFQURmO0FBQUEsUUFFSUMsVUFBVUYsRUFBRUcsTUFBRixDQUFTLElBQVQsRUFBZSxFQUFmLEVBQW1CRixRQUFuQixFQUE2QkgsSUFBN0IsQ0FGZDtBQUFBLFFBR0lILFNBQVMsRUFIYjs7QUFLQUEsV0FBT1MsSUFBUCxHQUFjLFVBQVNDLElBQVQsRUFBZTtBQUN6QixZQUFJLE9BQU9MLENBQVAsS0FBYSxXQUFiLElBQTRCLE9BQU9NLEdBQVAsS0FBZSxXQUEvQyxFQUE0RDtBQUN4RE4sY0FBRSxNQUFGLEVBQVVPLEVBQVYsQ0FBYUQsSUFBSUUsSUFBSixDQUFTQyxLQUFULENBQWVDLE1BQWYsQ0FBc0JDLFdBQXRCLEVBQWIsRUFBa0QsWUFBVztBQUN6REMsdUJBQU9DLG1CQUFQLEdBQTZCRCxPQUFPQyxtQkFBUCxJQUE4QixFQUEzRDtBQUNBRCx1QkFBT0MsbUJBQVAsQ0FBMkJDLElBQTNCLENBQWdDLEVBQUNDLFdBQVcsb0JBQVosRUFBaEM7QUFDSCxhQUhEO0FBSUg7QUFDRFY7QUFDSCxLQVJEOztBQVVBLFdBQU9WLE1BQVA7QUFDSCxDQXpCTCIsImZpbGUiOiJTaG9wL1RoZW1lcy9BbGwvSmF2YXNjcmlwdC93aWRnZXRzL2tsYXJuYW9zbWNhcnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAga2xhcm5hb3NtY2FydC5qcyAyMDIyLTA2LTAxXG4gICBHYW1iaW8gR21iSFxuICAgaHR0cDovL3d3dy5nYW1iaW8uZGVcbiAgIENvcHlyaWdodCAoYykgMjAyMiBHYW1iaW8gR21iSFxuICAgUmVsZWFzZWQgdW5kZXIgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIChWZXJzaW9uIDIpXG4gICBbaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2dwbC0yLjAuaHRtbF1cbiAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuXG5rbGFybmFvc20ud2lkZ2V0cy5tb2R1bGUoXG4gICAgJ2tsYXJuYW9zbWNhcnQnLFxuICAgIFtcbiAgICAgICAgZ2FtYmlvLnNvdXJjZSArICcvbGlicy9ldmVudHMnXG4gICAgXSxcbiAgICBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICd1c2Ugc3RyaWN0JztcbiAgICAgICAgXG4gICAgICAgIC8vICMjIyMjIyMjIyMgVkFSSUFCTEUgSU5JVElBTElaQVRJT04gIyMjIyMjIyMjI1xuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLFxuICAgICAgICAgICAgZGVmYXVsdHMgPSB7fSxcbiAgICAgICAgICAgIG9wdGlvbnMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgZGVmYXVsdHMsIGRhdGEpLFxuICAgICAgICAgICAgbW9kdWxlID0ge307XG4gICAgICAgIFxuICAgICAgICBtb2R1bGUuaW5pdCA9IGZ1bmN0aW9uKGRvbmUpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgJCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGpzZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAkKCdib2R5Jykub24oanNlLmxpYnMudGhlbWUuZXZlbnRzLkNBUlRfVVBEQVRFKCksIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuS2xhcm5hT25zaXRlU2VydmljZSA9IHdpbmRvdy5LbGFybmFPbnNpdGVTZXJ2aWNlIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuS2xhcm5hT25zaXRlU2VydmljZS5wdXNoKHtldmVudE5hbWU6ICdyZWZyZXNoLXBsYWNlbWVudHMnfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gbW9kdWxlO1xuICAgIH1cbik7XG4iXX0=
