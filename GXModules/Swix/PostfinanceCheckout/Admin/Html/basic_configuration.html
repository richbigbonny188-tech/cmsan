{extends file="get_usermod:layouts/main/layout.html"}

{block name="content"}
    {load_language_text section="swixpostfinancecheckout"}

    <div class="gx-container breakpoint-small">
        {if $content.error}
            <div class="alert alert-danger">
                <span>{$content.error}</span>
            </div>
        {/if}

        <div class="col-md-12">
            <form id="analytics-configuration-form"
                  class="form-horizontal"
                  action="admin.php?do=SwixPostfinanceCheckout/updateSettings"
                  method="post">
                <fieldset>
                    <legend>{$txt.legend_basic_settings}</legend>

                    <div class="form-group">
                        <label class="control-label col-sm-4">{$txt.label_user_id}</label>
                        <div class="col-sm-8" data-gx-widget="switcher">
                            <input type="text"
                                   class="form-control"
                                   name="user_id"
                                   placeholder="{$txt.label_user_id}"
                                   value="{$content.user_id}">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="control-label col-sm-4">{$txt.label_authentication_key}</label>
                        <div class="col-sm-8" data-gx-widget="switcher">
                            <input type="text"
                                   class="form-control"
                                   name="authentication_key"
                                   placeholder="{$txt.label_authentication_key}"
                                   value="{$content.authentication_key}">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="control-label col-sm-4">{$txt.label_space_id}</label>
                        <div class="col-sm-8" data-gx-widget="switcher">
                            <input type="text"
                                   class="form-control"
                                   name="space_id"
                                   placeholder="{$txt.label_space_id}"
                                   value="{$content.space_id}">
                        </div>
                    </div>

                </fieldset>

                <fieldset>
                    <legend>{$txt.legend_status}</legend>

                    {if $content.connected == true}
                        <div class="alert alert-success">{$txt.connected_success}</div>
                    {else}
                        <div class="alert alert-danger">{$txt.connected_failure}</div>
                    {/if}

                    {if $content.webhookExists == true}
                        <div class="alert alert-success">{$txt.webhook_success}</div>
                    {else}
                        <div class="alert alert-danger">{$txt.webhook_failure}</div>
                    {/if}
                </fieldset>
            </form>
        </div>
    </div>
{/block}

{block name="bottom_save_bar"}
    {load_language_text section="admin_buttons" name="admin_buttons"}
    <button class="btn btn-primary"
            onclick="document.getElementById('analytics-configuration-form').submit()">{$admin_buttons.BUTTON_SAVE}
    </button>
{/block}